var Sb=t=>{throw TypeError(t)};var Ch=(t,e,r)=>e.has(t)||Sb("Cannot "+r);var N=(t,e,r)=>(Ch(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?Sb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Z=(t,e,r,n)=>(Ch(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),we=(t,e,r)=>(Ch(t,e,"access private method"),r);var Tl=(t,e,r,n)=>({set _(i){Z(t,e,i,r)},get _(){return N(t,e,n)}});import{j as p,u as ge,c as hc,t as _N,a as pe,b as ag,d as c1,S as SN}from"./ui-BkGCjyt1.js";import{a as ms,r as x,R as P,b as l1,c as u1,N as ON,L as AN,O as EN,g as fl,d as ke,e as Yr,u as PN,f as jN,H as TN,h as CN,i as La,j as kN}from"./vendor-Di2j0fwX.js";function $N(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var d1,Ob=ms;d1=Ob.createRoot,Ob.hydrateRoot;const NN=1,RN=1e6;let kh=0;function IN(){return kh=(kh+1)%Number.MAX_SAFE_INTEGER,kh.toString()}const $h=new Map,Ab=t=>{if($h.has(t))return;const e=setTimeout(()=>{$h.delete(t),nc({type:"REMOVE_TOAST",toastId:t})},RN);$h.set(t,e)},MN=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,NN)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Ab(r):t.toasts.forEach(n=>{Ab(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},lu=[];let uu={toasts:[]};function nc(t){uu=MN(uu,t),lu.forEach(e=>{e(uu)})}function DN({...t}){const e=IN(),r=i=>nc({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>nc({type:"DISMISS_TOAST",toastId:e});return nc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function LN(){const[t,e]=x.useState(uu);return x.useEffect(()=>(lu.push(e),()=>{const r=lu.indexOf(e);r>-1&&lu.splice(r,1)}),[t]),{...t,toast:DN,dismiss:r=>nc({type:"DISMISS_TOAST",toastId:r})}}function oe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function BN(t,e){const r=x.createContext(e),n=a=>{const{children:o,...s}=a,c=x.useMemo(()=>s,Object.values(s));return p.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(a){const o=x.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Ut(t,e=[]){let r=[];function n(a,o){const s=x.createContext(o),c=r.length;r=[...r,o];const l=d=>{var b;const{scope:f,children:h,...g}=d,m=((b=f==null?void 0:f[t])==null?void 0:b[c])||s,v=x.useMemo(()=>g,Object.values(g));return p.jsx(m.Provider,{value:v,children:h})};l.displayName=a+"Provider";function u(d,f){var m;const h=((m=f==null?void 0:f[t])==null?void 0:m[c])||s,g=x.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[l,u]}const i=()=>{const a=r.map(o=>x.createContext(o));return function(s){const c=(s==null?void 0:s[t])||a;return x.useMemo(()=>({[`__scope${t}`]:{...s,[t]:c}}),[s,c])}};return i.scopeName=t,[n,FN(i,...e)]}function FN(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:c,scopeName:l})=>{const d=c(a)[`__scope${l}`];return{...s,...d}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function og(t){const e=t+"CollectionProvider",[r,n]=Ut(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:b}=m,w=P.useRef(null),y=P.useRef(new Map).current;return p.jsx(i,{scope:v,itemMap:y,collectionRef:w,children:b})};o.displayName=e;const s=t+"CollectionSlot",c=hc(s),l=P.forwardRef((m,v)=>{const{scope:b,children:w}=m,y=a(s,b),O=ge(v,y.collectionRef);return p.jsx(c,{ref:O,children:w})});l.displayName=s;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=hc(u),h=P.forwardRef((m,v)=>{const{scope:b,children:w,...y}=m,O=P.useRef(null),_=ge(v,O),S=a(u,b);return P.useEffect(()=>(S.itemMap.set(O,{ref:O,...y}),()=>void S.itemMap.delete(O))),p.jsx(f,{[d]:"",ref:_,children:w})});h.displayName=u;function g(m){const v=a(t+"CollectionConsumer",m);return P.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((S,A)=>y.indexOf(S.ref.current)-y.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},g,n]}var UN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=UN.reduce((t,e)=>{const r=hc(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...s}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(c,{...s,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function sg(t,e){t&&ms.flushSync(()=>t.dispatchEvent(e))}function et(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function f1(t,e=globalThis==null?void 0:globalThis.document){const r=et(t);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var WN="DismissableLayer",jp="dismissableLayer.update",zN="dismissableLayer.pointerDownOutside",qN="dismissableLayer.focusOutside",Eb,h1=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jd=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...c}=t,l=x.useContext(h1),[u,d]=x.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=x.useState({}),g=ge(e,A=>d(A)),m=Array.from(l.layers),[v]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(v),w=u?m.indexOf(u):-1,y=l.layersWithOutsidePointerEventsDisabled.size>0,O=w>=b,_=KN(A=>{const E=A.target,j=[...l.branches].some(T=>T.contains(E));!O||j||(i==null||i(A),o==null||o(A),A.defaultPrevented||s==null||s())},f),S=VN(A=>{const E=A.target;[...l.branches].some(T=>T.contains(E))||(a==null||a(A),o==null||o(A),A.defaultPrevented||s==null||s())},f);return f1(A=>{w===l.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&s&&(A.preventDefault(),s()))},f),x.useEffect(()=>{if(u)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Eb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),Pb(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Eb)}},[u,f,r,l]),x.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),Pb())},[u,l]),x.useEffect(()=>{const A=()=>h({});return document.addEventListener(jp,A),()=>document.removeEventListener(jp,A)},[]),p.jsx(se.div,{...c,ref:g,style:{pointerEvents:y?O?"auto":"none":void 0,...t.style},onFocusCapture:oe(t.onFocusCapture,S.onFocusCapture),onBlurCapture:oe(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:oe(t.onPointerDownCapture,_.onPointerDownCapture)})});Jd.displayName=WN;var HN="DismissableLayerBranch",p1=x.forwardRef((t,e)=>{const r=x.useContext(h1),n=x.useRef(null),i=ge(e,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),p.jsx(se.div,{...t,ref:i})});p1.displayName=HN;function KN(t,e=globalThis==null?void 0:globalThis.document){const r=et(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let c=function(){m1(zN,r,l,{discrete:!0})};const l={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function VN(t,e=globalThis==null?void 0:globalThis.document){const r=et(t),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&m1(qN,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Pb(){const t=new CustomEvent(jp);document.dispatchEvent(t)}function m1(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?sg(i,a):i.dispatchEvent(a)}var GN=Jd,YN=p1,ot=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},XN="Portal",Zd=x.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[i,a]=x.useState(!1);ot(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?l1.createPortal(p.jsx(se.div,{...n,ref:e}),o):null});Zd.displayName=XN;function QN(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var ln=t=>{const{present:e,children:r}=t,n=JN(e),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),a=ge(n.ref,ZN(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:a}):null};ln.displayName="Presence";function JN(t){const[e,r]=x.useState(),n=x.useRef(null),i=x.useRef(t),a=x.useRef("none"),o=t?"mounted":"unmounted",[s,c]=QN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const l=Cl(n.current);a.current=s==="mounted"?l:"none"},[s]),ot(()=>{const l=n.current,u=i.current;if(u!==t){const f=a.current,h=Cl(l);t?c("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),ot(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,d=h=>{const m=Cl(n.current).includes(h.animationName);if(h.target===e&&m&&(c("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=h=>{h.target===e&&(a.current=Cl(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:x.useCallback(l=>{n.current=l?getComputedStyle(l):null,r(l)},[])}}function Cl(t){return(t==null?void 0:t.animationName)||"none"}function ZN(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var eR=u1[" useInsertionEffect ".trim().toString()]||ot;function jn({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,o]=tR({defaultProp:e,onChange:r}),s=t!==void 0,c=s?t:i;{const u=x.useRef(t!==void 0);x.useEffect(()=>{const d=u.current;d!==s&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,n])}const l=x.useCallback(u=>{var d;if(s){const f=rR(u)?u(t):u;f!==t&&((d=o.current)==null||d.call(o,f))}else a(u)},[s,t,a,o]);return[c,l]}function tR({defaultProp:t,onChange:e}){const[r,n]=x.useState(t),i=x.useRef(r),a=x.useRef(e);return eR(()=>{a.current=e},[e]),x.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,n,a]}function rR(t){return typeof t=="function"}var v1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nR="VisuallyHidden",ef=x.forwardRef((t,e)=>p.jsx(se.span,{...t,ref:e,style:{...v1,...t.style}}));ef.displayName=nR;var iR=ef,cg="ToastProvider",[lg,aR,oR]=og("Toast"),[g1,bhe]=Ut("Toast",[oR]),[sR,tf]=g1(cg),y1=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[s,c]=x.useState(null),[l,u]=x.useState(0),d=x.useRef(!1),f=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${cg}\`. Expected non-empty \`string\`.`),p.jsx(lg.Provider,{scope:e,children:p.jsx(sR,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:l,viewport:s,onViewportChange:c,onToastAdd:x.useCallback(()=>u(h=>h+1),[]),onToastRemove:x.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};y1.displayName=cg;var b1="ToastViewport",cR=["F8"],Tp="toast.viewportPause",Cp="toast.viewportResume",w1=x.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=cR,label:i="Notifications ({hotkey})",...a}=t,o=tf(b1,r),s=aR(r),c=x.useRef(null),l=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=ge(e,d,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;x.useEffect(()=>{const v=b=>{var y;n.length!==0&&n.every(O=>b[O]||b.code===O)&&((y=d.current)==null||y.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),x.useEffect(()=>{const v=c.current,b=d.current;if(g&&v&&b){const w=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Tp);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Cp);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},O=S=>{!v.contains(S.relatedTarget)&&y()},_=()=>{v.contains(document.activeElement)||y()};return v.addEventListener("focusin",w),v.addEventListener("focusout",O),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",_),window.addEventListener("blur",w),window.addEventListener("focus",y),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",O),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",w),window.removeEventListener("focus",y)}}},[g,o.isClosePausedRef]);const m=x.useCallback(({tabbingDirection:v})=>{const w=s().map(y=>{const O=y.ref.current,_=[O,...xR(O)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?w.reverse():w).flat()},[s]);return x.useEffect(()=>{const v=d.current;if(v){const b=w=>{var _,S,A;const y=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!y){const E=document.activeElement,j=w.shiftKey;if(w.target===v&&j){(_=l.current)==null||_.focus();return}const k=m({tabbingDirection:j?"backwards":"forwards"}),L=k.findIndex(R=>R===E);Nh(k.slice(L+1))?w.preventDefault():j?(S=l.current)==null||S.focus():(A=u.current)==null||A.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[s,m]),p.jsxs(YN,{ref:c,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&p.jsx(kp,{ref:l,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});Nh(v)}}),p.jsx(lg.Slot,{scope:r,children:p.jsx(se.ol,{tabIndex:-1,...a,ref:f})}),g&&p.jsx(kp,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});Nh(v)}})]})});w1.displayName=b1;var x1="ToastFocusProxy",kp=x.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=tf(x1,r);return p.jsx(ef,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var l;const s=o.relatedTarget;!((l=a.viewport)!=null&&l.contains(s))&&n()}})});kp.displayName=x1;var hl="Toast",lR="toast.swipeStart",uR="toast.swipeMove",dR="toast.swipeCancel",fR="toast.swipeEnd",_1=x.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[s,c]=jn({prop:n,defaultProp:i??!0,onChange:a,caller:hl});return p.jsx(ln,{present:r||s,children:p.jsx(mR,{open:s,...o,ref:e,onClose:()=>c(!1),onPause:et(t.onPause),onResume:et(t.onResume),onSwipeStart:oe(t.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(t.onSwipeMove,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:oe(t.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(t.onSwipeEnd,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});_1.displayName=hl;var[hR,pR]=g1(hl,{onClose(){}}),mR=x.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...g}=t,m=tf(hl,r),[v,b]=x.useState(null),w=ge(e,R=>b(R)),y=x.useRef(null),O=x.useRef(null),_=i||m.duration,S=x.useRef(0),A=x.useRef(_),E=x.useRef(0),{onToastAdd:j,onToastRemove:T}=m,C=et(()=>{var M;(v==null?void 0:v.contains(document.activeElement))&&((M=m.viewport)==null||M.focus()),o()}),k=x.useCallback(R=>{!R||R===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(C,R))},[C]);x.useEffect(()=>{const R=m.viewport;if(R){const M=()=>{k(A.current),l==null||l()},$=()=>{const I=new Date().getTime()-S.current;A.current=A.current-I,window.clearTimeout(E.current),c==null||c()};return R.addEventListener(Tp,$),R.addEventListener(Cp,M),()=>{R.removeEventListener(Tp,$),R.removeEventListener(Cp,M)}}},[m.viewport,_,c,l,k]),x.useEffect(()=>{a&&!m.isClosePausedRef.current&&k(_)},[a,_,m.isClosePausedRef,k]),x.useEffect(()=>(j(),()=>T()),[j,T]);const L=x.useMemo(()=>v?T1(v):null,[v]);return m.viewport?p.jsxs(p.Fragment,{children:[L&&p.jsx(vR,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),p.jsx(hR,{scope:r,onClose:C,children:ms.createPortal(p.jsx(lg.ItemSlot,{scope:r,children:p.jsx(GN,{asChild:!0,onEscapeKeyDown:oe(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||C(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:oe(t.onKeyDown,R=>{R.key==="Escape"&&(s==null||s(R.nativeEvent),R.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:oe(t.onPointerDown,R=>{R.button===0&&(y.current={x:R.clientX,y:R.clientY})}),onPointerMove:oe(t.onPointerMove,R=>{if(!y.current)return;const M=R.clientX-y.current.x,$=R.clientY-y.current.y,I=!!O.current,F=["left","right"].includes(m.swipeDirection),D=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,K=F?D(0,M):0,X=F?0:D(0,$),q=R.pointerType==="touch"?10:2,V={x:K,y:X},ee={originalEvent:R,delta:V};I?(O.current=V,kl(uR,d,ee,{discrete:!1})):jb(V,m.swipeDirection,q)?(O.current=V,kl(lR,u,ee,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(M)>q||Math.abs($)>q)&&(y.current=null)}),onPointerUp:oe(t.onPointerUp,R=>{const M=O.current,$=R.target;if($.hasPointerCapture(R.pointerId)&&$.releasePointerCapture(R.pointerId),O.current=null,y.current=null,M){const I=R.currentTarget,F={originalEvent:R,delta:M};jb(M,m.swipeDirection,m.swipeThreshold)?kl(fR,h,F,{discrete:!0}):kl(dR,f,F,{discrete:!0}),I.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),vR=t=>{const{__scopeToast:e,children:r,...n}=t,i=tf(hl,e),[a,o]=x.useState(!1),[s,c]=x.useState(!1);return bR(()=>o(!0)),x.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),s?null:p.jsx(Zd,{asChild:!0,children:p.jsx(ef,{...n,children:a&&p.jsxs(p.Fragment,{children:[i.label," ",r]})})})},gR="ToastTitle",S1=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return p.jsx(se.div,{...n,ref:e})});S1.displayName=gR;var yR="ToastDescription",O1=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return p.jsx(se.div,{...n,ref:e})});O1.displayName=yR;var A1="ToastAction",E1=x.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?p.jsx(j1,{altText:r,asChild:!0,children:p.jsx(ug,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${A1}\`. Expected non-empty \`string\`.`),null)});E1.displayName=A1;var P1="ToastClose",ug=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=pR(P1,r);return p.jsx(j1,{asChild:!0,children:p.jsx(se.button,{type:"button",...n,ref:e,onClick:oe(t.onClick,i.onClose)})})});ug.displayName=P1;var j1=x.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return p.jsx(se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function T1(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),wR(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...T1(n))}}),e}function kl(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?sg(i,a):i.dispatchEvent(a)}var jb=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function bR(t=()=>{}){const e=et(t);ot(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function wR(t){return t.nodeType===t.ELEMENT_NODE}function xR(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Nh(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var _R=y1,C1=w1,k1=_1,$1=S1,N1=O1,R1=E1,I1=ug;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M1=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},c)=>x.createElement("svg",{ref:c,...OR,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:M1("lucide",i),...s},[...o.map(([l,u])=>x.createElement(l,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const r=x.forwardRef(({className:n,...i},a)=>x.createElement(AR,{ref:a,iconNode:e,className:M1(`lucide-${SR(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=xe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=xe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=xe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=xe("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=xe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=xe("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=xe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=xe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=xe("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=xe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=xe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=xe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=xe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=xe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=xe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function J(...t){return _N(pe(t))}const XR=_R,z1=x.forwardRef(({className:t,...e},r)=>p.jsx(C1,{ref:r,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));z1.displayName=C1.displayName;const QR=ag("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),q1=x.forwardRef(({className:t,variant:e,...r},n)=>p.jsx(k1,{ref:n,className:J(QR({variant:e}),t),...r}));q1.displayName=k1.displayName;const JR=x.forwardRef(({className:t,...e},r)=>p.jsx(R1,{ref:r,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));JR.displayName=R1.displayName;const H1=x.forwardRef(({className:t,...e},r)=>p.jsx(I1,{ref:r,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(fg,{className:"h-4 w-4"})}));H1.displayName=I1.displayName;const K1=x.forwardRef(({className:t,...e},r)=>p.jsx($1,{ref:r,className:J("text-sm font-semibold",t),...e}));K1.displayName=$1.displayName;const V1=x.forwardRef(({className:t,...e},r)=>p.jsx(N1,{ref:r,className:J("text-sm opacity-90",t),...e}));V1.displayName=N1.displayName;function ZR(){const{toasts:t}=LN();return p.jsxs(XR,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return p.jsxs(q1,{...a,children:[p.jsxs("div",{className:"grid gap-1",children:[r&&p.jsx(K1,{children:r}),n&&p.jsx(V1,{children:n})]}),i,p.jsx(H1,{})]},e)}),p.jsx(z1,{})]})}var kb=["light","dark"],eI="(prefers-color-scheme: dark)",tI=x.createContext(void 0),rI={setTheme:t=>{},themes:[]},nI=()=>{var t;return(t=x.useContext(tI))!=null?t:rI};x.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:c})=>{let l=a==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=i?kb.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,m=!1,v=!0)=>{let b=o?o[g]:g,w=m?g+"|| ''":`'${b}'`,y="";return i&&v&&!m&&kb.includes(g)&&(y+=`d.style.colorScheme = '${g}';`),r==="class"?m||b?y+=`c.add(${w})`:y+="null":b&&(y+=`d[s](n,${w})`),y},h=t?`!function(){${u}${f(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${l})){var t='${eI}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${l?"":"else{"+f(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${d}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})});var iI=t=>{switch(t){case"success":return sI;case"info":return lI;case"warning":return cI;case"error":return uI;default:return null}},aI=Array(12).fill(0),oI=({visible:t,className:e})=>P.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},P.createElement("div",{className:"sonner-spinner"},aI.map((r,n)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),sI=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cI=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lI=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uI=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dI=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fI=()=>{let[t,e]=P.useState(document.hidden);return P.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Rp=1,hI=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Rp++,a=this.toasts.find(s=>s.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:r}),{...s,...t,id:i,dismissible:o,title:r}):s):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],P.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(mI(c)&&!c.ok){i=!1;let l=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:l,description:u})}else if(e.success!==void 0){i=!1;let l=typeof e.success=="function"?await e.success(c):e.success,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:l,description:u})}}).catch(async c=>{if(a=["reject",c],e.error!==void 0){i=!1;let l=typeof e.error=="function"?await e.error(c):e.error,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:l,description:u})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),s=()=>new Promise((c,l)=>o.then(()=>a[0]==="reject"?l(a[1]):c(a[1])).catch(l));return typeof r!="string"&&typeof r!="number"?{unwrap:s}:Object.assign(r,{unwrap:s})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Rp++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Lt=new hI,pI=(t,e)=>{let r=(e==null?void 0:e.id)||Rp++;return Lt.addToast({title:t,...e,id:r}),r},mI=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vI=pI,gI=()=>Lt.toasts,yI=()=>Lt.getActiveToasts(),Ye=Object.assign(vI,{success:Lt.success,info:Lt.info,warning:Lt.warning,error:Lt.error,custom:Lt.custom,message:Lt.message,promise:Lt.promise,dismiss:Lt.dismiss,loading:Lt.loading},{getHistory:gI,getToasts:yI});function bI(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}bI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function $l(t){return t.label!==void 0}var wI=3,xI="32px",_I="16px",$b=4e3,SI=356,OI=14,AI=20,EI=200;function Sr(...t){return t.filter(Boolean).join(" ")}function PI(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var jI=t=>{var e,r,n,i,a,o,s,c,l,u,d;let{invert:f,toast:h,unstyled:g,interacting:m,setHeights:v,visibleToasts:b,heights:w,index:y,toasts:O,expanded:_,removeToast:S,defaultRichColors:A,closeButton:E,style:j,cancelButtonStyle:T,actionButtonStyle:C,className:k="",descriptionClassName:L="",duration:R,position:M,gap:$,loadingIcon:I,expandByDefault:F,classNames:D,icons:K,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:q}=t,[V,ee]=P.useState(null),[ie,_e]=P.useState(null),[Q,B]=P.useState(!1),[U,H]=P.useState(!1),[G,W]=P.useState(!1),[ve,he]=P.useState(!1),[je,Ae]=P.useState(!1),[Ee,tt]=P.useState(0),[Je,Wr]=P.useState(0),zt=P.useRef(h.duration||R||$b),zr=P.useRef(null),br=P.useRef(null),El=y===0,Pl=y+1<=b,tr=h.type,Ia=h.dismissible!==!1,mN=h.className||"",vN=h.descriptionClassName||"",jl=P.useMemo(()=>w.findIndex(ye=>ye.toastId===h.id)||0,[w,h.id]),gN=P.useMemo(()=>{var ye;return(ye=h.closeButton)!=null?ye:E},[h.closeButton,E]),bb=P.useMemo(()=>h.duration||R||$b,[h.duration,R]),jh=P.useRef(0),Ma=P.useRef(0),wb=P.useRef(0),Da=P.useRef(null),[yN,bN]=M.split("-"),xb=P.useMemo(()=>w.reduce((ye,Re,He)=>He>=jl?ye:ye+Re.height,0),[w,jl]),_b=fI(),wN=h.invert||f,Th=tr==="loading";Ma.current=P.useMemo(()=>jl*$+xb,[jl,xb]),P.useEffect(()=>{zt.current=bb},[bb]),P.useEffect(()=>{B(!0)},[]),P.useEffect(()=>{let ye=br.current;if(ye){let Re=ye.getBoundingClientRect().height;return Wr(Re),v(He=>[{toastId:h.id,height:Re,position:h.position},...He]),()=>v(He=>He.filter(wr=>wr.toastId!==h.id))}},[v,h.id]),P.useLayoutEffect(()=>{if(!Q)return;let ye=br.current,Re=ye.style.height;ye.style.height="auto";let He=ye.getBoundingClientRect().height;ye.style.height=Re,Wr(He),v(wr=>wr.find(xr=>xr.toastId===h.id)?wr.map(xr=>xr.toastId===h.id?{...xr,height:He}:xr):[{toastId:h.id,height:He,position:h.position},...wr])},[Q,h.title,h.description,v,h.id]);let Wn=P.useCallback(()=>{H(!0),tt(Ma.current),v(ye=>ye.filter(Re=>Re.toastId!==h.id)),setTimeout(()=>{S(h)},EI)},[h,S,v,Ma]);P.useEffect(()=>{if(h.promise&&tr==="loading"||h.duration===1/0||h.type==="loading")return;let ye;return _||m||q&&_b?(()=>{if(wb.current<jh.current){let Re=new Date().getTime()-jh.current;zt.current=zt.current-Re}wb.current=new Date().getTime()})():zt.current!==1/0&&(jh.current=new Date().getTime(),ye=setTimeout(()=>{var Re;(Re=h.onAutoClose)==null||Re.call(h,h),Wn()},zt.current)),()=>clearTimeout(ye)},[_,m,h,tr,q,_b,Wn]),P.useEffect(()=>{h.delete&&Wn()},[Wn,h.delete]);function xN(){var ye,Re,He;return K!=null&&K.loading?P.createElement("div",{className:Sr(D==null?void 0:D.loader,(ye=h==null?void 0:h.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":tr==="loading"},K.loading):I?P.createElement("div",{className:Sr(D==null?void 0:D.loader,(Re=h==null?void 0:h.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":tr==="loading"},I):P.createElement(oI,{className:Sr(D==null?void 0:D.loader,(He=h==null?void 0:h.classNames)==null?void 0:He.loader),visible:tr==="loading"})}return P.createElement("li",{tabIndex:0,ref:br,className:Sr(k,mN,D==null?void 0:D.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[tr],(r=h==null?void 0:h.classNames)==null?void 0:r[tr]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:A,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":Q,"data-promise":!!h.promise,"data-swiped":je,"data-removed":U,"data-visible":Pl,"data-y-position":yN,"data-x-position":bN,"data-index":y,"data-front":El,"data-swiping":G,"data-dismissible":Ia,"data-type":tr,"data-invert":wN,"data-swipe-out":ve,"data-swipe-direction":ie,"data-expanded":!!(_||F&&Q),style:{"--index":y,"--toasts-before":y,"--z-index":O.length-y,"--offset":`${U?Ee:Ma.current}px`,"--initial-height":F?"auto":`${Je}px`,...j,...h.style},onDragEnd:()=>{W(!1),ee(null),Da.current=null},onPointerDown:ye=>{Th||!Ia||(zr.current=new Date,tt(Ma.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(W(!0),Da.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,Re,He,wr;if(ve||!Ia)return;Da.current=null;let xr=Number(((ye=br.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),zn=Number(((Re=br.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ri=new Date().getTime()-((He=zr.current)==null?void 0:He.getTime()),_r=V==="x"?xr:zn,qn=Math.abs(_r)/Ri;if(Math.abs(_r)>=AI||qn>.11){tt(Ma.current),(wr=h.onDismiss)==null||wr.call(h,h),_e(V==="x"?xr>0?"right":"left":zn>0?"down":"up"),Wn(),he(!0),Ae(!1);return}W(!1),ee(null)},onPointerMove:ye=>{var Re,He,wr,xr;if(!Da.current||!Ia||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let zn=ye.clientY-Da.current.y,Ri=ye.clientX-Da.current.x,_r=(He=t.swipeDirections)!=null?He:PI(M);!V&&(Math.abs(Ri)>1||Math.abs(zn)>1)&&ee(Math.abs(Ri)>Math.abs(zn)?"x":"y");let qn={x:0,y:0};V==="y"?(_r.includes("top")||_r.includes("bottom"))&&(_r.includes("top")&&zn<0||_r.includes("bottom")&&zn>0)&&(qn.y=zn):V==="x"&&(_r.includes("left")||_r.includes("right"))&&(_r.includes("left")&&Ri<0||_r.includes("right")&&Ri>0)&&(qn.x=Ri),(Math.abs(qn.x)>0||Math.abs(qn.y)>0)&&Ae(!0),(wr=br.current)==null||wr.style.setProperty("--swipe-amount-x",`${qn.x}px`),(xr=br.current)==null||xr.style.setProperty("--swipe-amount-y",`${qn.y}px`)}},gN&&!h.jsx?P.createElement("button",{"aria-label":X,"data-disabled":Th,"data-close-button":!0,onClick:Th||!Ia?()=>{}:()=>{var ye;Wn(),(ye=h.onDismiss)==null||ye.call(h,h)},className:Sr(D==null?void 0:D.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},(a=K==null?void 0:K.close)!=null?a:dI):null,h.jsx||x.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:P.createElement(P.Fragment,null,tr||h.icon||h.promise?P.createElement("div",{"data-icon":"",className:Sr(D==null?void 0:D.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||xN():null,h.type!=="loading"?h.icon||(K==null?void 0:K[tr])||iI(tr):null):null,P.createElement("div",{"data-content":"",className:Sr(D==null?void 0:D.content,(s=h==null?void 0:h.classNames)==null?void 0:s.content)},P.createElement("div",{"data-title":"",className:Sr(D==null?void 0:D.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?P.createElement("div",{"data-description":"",className:Sr(L,vN,D==null?void 0:D.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),x.isValidElement(h.cancel)?h.cancel:h.cancel&&$l(h.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:ye=>{var Re,He;$l(h.cancel)&&Ia&&((He=(Re=h.cancel).onClick)==null||He.call(Re,ye),Wn())},className:Sr(D==null?void 0:D.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,x.isValidElement(h.action)?h.action:h.action&&$l(h.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:ye=>{var Re,He;$l(h.action)&&((He=(Re=h.action).onClick)==null||He.call(Re,ye),!ye.defaultPrevented&&Wn())},className:Sr(D==null?void 0:D.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Nb(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function TI(t,e){let r={};return[t,e].forEach((n,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?_I:xI;function c(l){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof l=="number"?`${l}px`:l})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(l=>{n[l]===void 0?r[`${o}-${l}`]=s:r[`${o}-${l}`]=typeof n[l]=="number"?`${n[l]}px`:n[l]}):c(s)}),r}var CI=x.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:c,mobileOffset:l,theme:u="light",richColors:d,duration:f,style:h,visibleToasts:g=wI,toastOptions:m,dir:v=Nb(),gap:b=OI,loadingIcon:w,icons:y,containerAriaLabel:O="Notifications",pauseWhenPageIsHidden:_}=t,[S,A]=P.useState([]),E=P.useMemo(()=>Array.from(new Set([n].concat(S.filter(q=>q.position).map(q=>q.position)))),[S,n]),[j,T]=P.useState([]),[C,k]=P.useState(!1),[L,R]=P.useState(!1),[M,$]=P.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=P.useRef(null),F=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=P.useRef(null),K=P.useRef(!1),X=P.useCallback(q=>{A(V=>{var ee;return(ee=V.find(ie=>ie.id===q.id))!=null&&ee.delete||Lt.dismiss(q.id),V.filter(({id:ie})=>ie!==q.id)})},[]);return P.useEffect(()=>Lt.subscribe(q=>{if(q.dismiss){A(V=>V.map(ee=>ee.id===q.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{l1.flushSync(()=>{A(V=>{let ee=V.findIndex(ie=>ie.id===q.id);return ee!==-1?[...V.slice(0,ee),{...V[ee],...q},...V.slice(ee+1)]:[q,...V]})})})}),[]),P.useEffect(()=>{if(u!=="system"){$(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:V})=>{$(V?"dark":"light")})}catch{q.addListener(({matches:ee})=>{try{$(ee?"dark":"light")}catch(ie){console.error(ie)}})}},[u]),P.useEffect(()=>{S.length<=1&&k(!1)},[S]),P.useEffect(()=>{let q=V=>{var ee,ie;i.every(_e=>V[_e]||V.code===_e)&&(k(!0),(ee=I.current)==null||ee.focus()),V.code==="Escape"&&(document.activeElement===I.current||(ie=I.current)!=null&&ie.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[i]),P.useEffect(()=>{if(I.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,K.current=!1)}},[I.current]),P.createElement("section",{ref:e,"aria-label":`${O} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((q,V)=>{var ee;let[ie,_e]=q.split("-");return S.length?P.createElement("ol",{key:q,dir:v==="auto"?Nb():v,tabIndex:-1,ref:I,className:s,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":ie,"data-lifted":C&&S.length>1&&!a,"data-x-position":_e,style:{"--front-toast-height":`${((ee=j[0])==null?void 0:ee.height)||0}px`,"--width":`${SI}px`,"--gap":`${b}px`,...h,...TI(c,l)},onBlur:Q=>{K.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(K.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||K.current||(K.current=!0,D.current=Q.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{L||k(!1)},onDragEnd:()=>k(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},S.filter(Q=>!Q.position&&V===0||Q.position===q).map((Q,B)=>{var U,H;return P.createElement(jI,{key:Q.id,icons:y,index:B,toast:Q,defaultRichColors:d,duration:(U=m==null?void 0:m.duration)!=null?U:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:g,closeButton:(H=m==null?void 0:m.closeButton)!=null?H:o,interacting:L,position:q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:X,toasts:S.filter(G=>G.position==Q.position),heights:j.filter(G=>G.position==Q.position),setHeights:T,expandByDefault:a,gap:b,loadingIcon:w,expanded:C,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const kI=({...t})=>{const{theme:e="system"}=nI();return p.jsx(CI,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var $I=u1[" useId ".trim().toString()]||(()=>{}),NI=0;function pi(t){const[e,r]=x.useState($I());return ot(()=>{r(n=>n??String(NI++))},[t]),e?`radix-${e}`:""}const RI=["top","right","bottom","left"],xi=Math.min,Gt=Math.max,_u=Math.round,Nl=Math.floor,rn=t=>({x:t,y:t}),II={left:"right",right:"left",bottom:"top",top:"bottom"},MI={start:"end",end:"start"};function Ip(t,e,r){return Gt(t,xi(e,r))}function Tn(t,e){return typeof t=="function"?t(e):t}function Cn(t){return t.split("-")[0]}function vs(t){return t.split("-")[1]}function hg(t){return t==="x"?"y":"x"}function pg(t){return t==="y"?"height":"width"}const DI=new Set(["top","bottom"]);function Zr(t){return DI.has(Cn(t))?"y":"x"}function mg(t){return hg(Zr(t))}function LI(t,e,r){r===void 0&&(r=!1);const n=vs(t),i=mg(t),a=pg(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Su(o)),[o,Su(o)]}function BI(t){const e=Su(t);return[Mp(t),e,Mp(e)]}function Mp(t){return t.replace(/start|end/g,e=>MI[e])}const Rb=["left","right"],Ib=["right","left"],FI=["top","bottom"],UI=["bottom","top"];function WI(t,e,r){switch(t){case"top":case"bottom":return r?e?Ib:Rb:e?Rb:Ib;case"left":case"right":return e?FI:UI;default:return[]}}function zI(t,e,r,n){const i=vs(t);let a=WI(Cn(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Mp)))),a}function Su(t){return t.replace(/left|right|bottom|top/g,e=>II[e])}function qI(t){return{top:0,right:0,bottom:0,left:0,...t}}function G1(t){return typeof t!="number"?qI(t):{top:t,right:t,bottom:t,left:t}}function Ou(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Mb(t,e,r){let{reference:n,floating:i}=t;const a=Zr(e),o=mg(e),s=pg(o),c=Cn(e),l=a==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,f=n[s]/2-i[s]/2;let h;switch(c){case"top":h={x:u,y:n.y-i.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:d};break;case"left":h={x:n.x-i.width,y:d};break;default:h={x:n.x,y:n.y}}switch(vs(e)){case"start":h[o]-=f*(r&&l?-1:1);break;case"end":h[o]+=f*(r&&l?-1:1);break}return h}const HI=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=Mb(l,n,c),f=n,h={},g=0;for(let m=0;m<s.length;m++){const{name:v,fn:b}=s[m],{x:w,y,data:O,reset:_}=await b({x:u,y:d,initialPlacement:n,placement:f,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:t,floating:e}});u=w??u,d=y??d,h={...h,[v]:{...h[v],...O}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(l=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:u,y:d}=Mb(l,f,c)),m=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function pc(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Tn(e,t),g=G1(h),v=s[f?d==="floating"?"reference":"floating":d],b=Ou(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:l,rootBoundary:u,strategy:c})),w=d==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),O=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},_=Ou(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:y,strategy:c}):w);return{top:(b.top-_.top+g.top)/O.y,bottom:(_.bottom-b.bottom+g.bottom)/O.y,left:(b.left-_.left+g.left)/O.x,right:(_.right-b.right+g.right)/O.x}}const KI=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=e,{element:l,padding:u=0}=Tn(t,e)||{};if(l==null)return{};const d=G1(u),f={x:r,y:n},h=mg(i),g=pg(h),m=await o.getDimensions(l),v=h==="y",b=v?"top":"left",w=v?"bottom":"right",y=v?"clientHeight":"clientWidth",O=a.reference[g]+a.reference[h]-f[h]-a.floating[g],_=f[h]-a.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let A=S?S[y]:0;(!A||!await(o.isElement==null?void 0:o.isElement(S)))&&(A=s.floating[y]||a.floating[g]);const E=O/2-_/2,j=A/2-m[g]/2-1,T=xi(d[b],j),C=xi(d[w],j),k=T,L=A-m[g]-C,R=A/2-m[g]/2+E,M=Ip(k,R,L),$=!c.arrow&&vs(i)!=null&&R!==M&&a.reference[g]/2-(R<k?T:C)-m[g]/2<0,I=$?R<k?R-k:R-L:0;return{[h]:f[h]+I,data:{[h]:M,centerOffset:R-M-I,...$&&{alignmentOffset:I}},reset:$}}}),VI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=Tn(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=Cn(i),w=Zr(s),y=Cn(s)===s,O=await(c.isRTL==null?void 0:c.isRTL(l.floating)),_=f||(y||!m?[Su(s)]:BI(s)),S=g!=="none";!f&&S&&_.push(...zI(s,m,g,O));const A=[s,..._],E=await pc(e,v),j=[];let T=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&j.push(E[b]),d){const R=LI(i,o,O);j.push(E[R[0]],E[R[1]])}if(T=[...T,{placement:i,overflows:j}],!j.every(R=>R<=0)){var C,k;const R=(((C=a.flip)==null?void 0:C.index)||0)+1,M=A[R];if(M&&(!(d==="alignment"?w!==Zr(M):!1)||T.every(F=>F.overflows[0]>0&&Zr(F.placement)===w)))return{data:{index:R,overflows:T},reset:{placement:M}};let $=(k=T.filter(I=>I.overflows[0]<=0).sort((I,F)=>I.overflows[1]-F.overflows[1])[0])==null?void 0:k.placement;if(!$)switch(h){case"bestFit":{var L;const I=(L=T.filter(F=>{if(S){const D=Zr(F.placement);return D===w||D==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(D=>D>0).reduce((D,K)=>D+K,0)]).sort((F,D)=>F[1]-D[1])[0])==null?void 0:L[0];I&&($=I);break}case"initialPlacement":$=s;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function Db(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Lb(t){return RI.some(e=>t[e]>=0)}const GI=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Tn(t,e);switch(n){case"referenceHidden":{const a=await pc(e,{...i,elementContext:"reference"}),o=Db(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Lb(o)}}}case"escaped":{const a=await pc(e,{...i,altBoundary:!0}),o=Db(a,r.floating);return{data:{escapedOffsets:o,escaped:Lb(o)}}}default:return{}}}}},Y1=new Set(["left","top"]);async function YI(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Cn(r),s=vs(r),c=Zr(r)==="y",l=Y1.has(o)?-1:1,u=a&&c?-1:1,d=Tn(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof g=="number"&&(h=s==="end"?g*-1:g),c?{x:h*u,y:f*l}:{x:f*l,y:h*u}}const XI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=e,c=await YI(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},QI=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:v=>{let{x:b,y:w}=v;return{x:b,y:w}}},...c}=Tn(t,e),l={x:r,y:n},u=await pc(e,c),d=Zr(Cn(i)),f=hg(d);let h=l[f],g=l[d];if(a){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=h+u[v],y=h-u[b];h=Ip(w,h,y)}if(o){const v=d==="y"?"top":"left",b=d==="y"?"bottom":"right",w=g+u[v],y=g-u[b];g=Ip(w,g,y)}const m=s.fn({...e,[f]:h,[d]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:a,[d]:o}}}}}},JI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:c=!0,crossAxis:l=!0}=Tn(t,e),u={x:r,y:n},d=Zr(i),f=hg(d);let h=u[f],g=u[d];const m=Tn(s,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const y=f==="y"?"height":"width",O=a.reference[f]-a.floating[y]+v.mainAxis,_=a.reference[f]+a.reference[y]-v.mainAxis;h<O?h=O:h>_&&(h=_)}if(l){var b,w;const y=f==="y"?"width":"height",O=Y1.has(Cn(i)),_=a.reference[d]-a.floating[y]+(O&&((b=o.offset)==null?void 0:b[d])||0)+(O?0:v.crossAxis),S=a.reference[d]+a.reference[y]+(O?0:((w=o.offset)==null?void 0:w[d])||0)-(O?v.crossAxis:0);g<_?g=_:g>S&&(g=S)}return{[f]:h,[d]:g}}}},ZI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:c=()=>{},...l}=Tn(t,e),u=await pc(e,l),d=Cn(i),f=vs(i),h=Zr(i)==="y",{width:g,height:m}=a.floating;let v,b;d==="top"||d==="bottom"?(v=d,b=f===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(b=d,v=f==="end"?"top":"bottom");const w=m-u.top-u.bottom,y=g-u.left-u.right,O=xi(m-u[v],w),_=xi(g-u[b],y),S=!e.middlewareData.shift;let A=O,E=_;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=y),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=w),S&&!f){const T=Gt(u.left,0),C=Gt(u.right,0),k=Gt(u.top,0),L=Gt(u.bottom,0);h?E=g-2*(T!==0||C!==0?T+C:Gt(u.left,u.right)):A=m-2*(k!==0||L!==0?k+L:Gt(u.top,u.bottom))}await c({...e,availableWidth:E,availableHeight:A});const j=await o.getDimensions(s.floating);return g!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}};function nf(){return typeof window<"u"}function gs(t){return X1(t)?(t.nodeName||"").toLowerCase():"#document"}function Qt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function un(t){var e;return(e=(X1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function X1(t){return nf()?t instanceof Node||t instanceof Qt(t).Node:!1}function Dr(t){return nf()?t instanceof Element||t instanceof Qt(t).Element:!1}function on(t){return nf()?t instanceof HTMLElement||t instanceof Qt(t).HTMLElement:!1}function Bb(t){return!nf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qt(t).ShadowRoot}const eM=new Set(["inline","contents"]);function pl(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Lr(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!eM.has(i)}const tM=new Set(["table","td","th"]);function rM(t){return tM.has(gs(t))}const nM=[":popover-open",":modal"];function af(t){return nM.some(e=>{try{return t.matches(e)}catch{return!1}})}const iM=["transform","translate","scale","rotate","perspective"],aM=["transform","translate","scale","rotate","perspective","filter"],oM=["paint","layout","strict","content"];function vg(t){const e=gg(),r=Dr(t)?Lr(t):t;return iM.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||aM.some(n=>(r.willChange||"").includes(n))||oM.some(n=>(r.contain||"").includes(n))}function sM(t){let e=_i(t);for(;on(e)&&!Co(e);){if(vg(e))return e;if(af(e))return null;e=_i(e)}return null}function gg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cM=new Set(["html","body","#document"]);function Co(t){return cM.has(gs(t))}function Lr(t){return Qt(t).getComputedStyle(t)}function of(t){return Dr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _i(t){if(gs(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Bb(t)&&t.host||un(t);return Bb(e)?e.host:e}function Q1(t){const e=_i(t);return Co(e)?t.ownerDocument?t.ownerDocument.body:t.body:on(e)&&pl(e)?e:Q1(e)}function mc(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=Q1(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=Qt(i);if(a){const s=Dp(o);return e.concat(o,o.visualViewport||[],pl(i)?i:[],s&&r?mc(s):[])}return e.concat(i,mc(i,[],r))}function Dp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function J1(t){const e=Lr(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=on(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,s=_u(r)!==a||_u(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function yg(t){return Dr(t)?t:t.contextElement}function co(t){const e=yg(t);if(!on(e))return rn(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=J1(e);let o=(a?_u(r.width):r.width)/n,s=(a?_u(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const lM=rn(0);function Z1(t){const e=Qt(t);return!gg()||!e.visualViewport?lM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uM(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Qt(t)?!1:e}function ya(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=yg(t);let o=rn(1);e&&(n?Dr(n)&&(o=co(n)):o=co(t));const s=uM(a,r,n)?Z1(a):rn(0);let c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){const f=Qt(a),h=n&&Dr(n)?Qt(n):n;let g=f,m=Dp(g);for(;m&&n&&h!==g;){const v=co(m),b=m.getBoundingClientRect(),w=Lr(m),y=b.left+(m.clientLeft+parseFloat(w.paddingLeft))*v.x,O=b.top+(m.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,l*=v.y,u*=v.x,d*=v.y,c+=y,l+=O,g=Qt(m),m=Dp(g)}}return Ou({width:u,height:d,x:c,y:l})}function bg(t,e){const r=of(t).scrollLeft;return e?e.left+r:ya(un(t)).left+r}function eO(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:bg(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function dM(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=un(n),s=e?af(e.floating):!1;if(n===o||s&&a)return r;let c={scrollLeft:0,scrollTop:0},l=rn(1);const u=rn(0),d=on(n);if((d||!d&&!a)&&((gs(n)!=="body"||pl(o))&&(c=of(n)),on(n))){const h=ya(n);l=co(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const f=o&&!d&&!a?eO(o,c,!0):rn(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:r.y*l.y-c.scrollTop*l.y+u.y+f.y}}function fM(t){return Array.from(t.getClientRects())}function hM(t){const e=un(t),r=of(t),n=t.ownerDocument.body,i=Gt(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Gt(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+bg(t);const s=-r.scrollTop;return Lr(n).direction==="rtl"&&(o+=Gt(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function pM(t,e){const r=Qt(t),n=un(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;const l=gg();(!l||l&&e==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:s,y:c}}const mM=new Set(["absolute","fixed"]);function vM(t,e){const r=ya(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=on(t)?co(t):rn(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,c=i*a.x,l=n*a.y;return{width:o,height:s,x:c,y:l}}function Fb(t,e,r){let n;if(e==="viewport")n=pM(t,r);else if(e==="document")n=hM(un(t));else if(Dr(e))n=vM(e,r);else{const i=Z1(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ou(n)}function tO(t,e){const r=_i(t);return r===e||!Dr(r)||Co(r)?!1:Lr(r).position==="fixed"||tO(r,e)}function gM(t,e){const r=e.get(t);if(r)return r;let n=mc(t,[],!1).filter(s=>Dr(s)&&gs(s)!=="body"),i=null;const a=Lr(t).position==="fixed";let o=a?_i(t):t;for(;Dr(o)&&!Co(o);){const s=Lr(o),c=vg(o);!c&&s.position==="fixed"&&(i=null),(a?!c&&!i:!c&&s.position==="static"&&!!i&&mM.has(i.position)||pl(o)&&!c&&tO(t,o))?n=n.filter(u=>u!==o):i=s,o=_i(o)}return e.set(t,n),n}function yM(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?af(e)?[]:gM(e,this._c):[].concat(r),n],s=o[0],c=o.reduce((l,u)=>{const d=Fb(e,u,i);return l.top=Gt(d.top,l.top),l.right=xi(d.right,l.right),l.bottom=xi(d.bottom,l.bottom),l.left=Gt(d.left,l.left),l},Fb(e,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bM(t){const{width:e,height:r}=J1(t);return{width:e,height:r}}function wM(t,e,r){const n=on(e),i=un(e),a=r==="fixed",o=ya(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const c=rn(0);function l(){c.x=bg(i)}if(n||!n&&!a)if((gs(e)!=="body"||pl(i))&&(s=of(e)),n){const h=ya(e,!0,a,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else i&&l();a&&!n&&i&&l();const u=i&&!n&&!a?eO(i,s):rn(0),d=o.left+s.scrollLeft-c.x-u.x,f=o.top+s.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Rh(t){return Lr(t).position==="static"}function Ub(t,e){if(!on(t)||Lr(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return un(t)===r&&(r=r.ownerDocument.body),r}function rO(t,e){const r=Qt(t);if(af(t))return r;if(!on(t)){let i=_i(t);for(;i&&!Co(i);){if(Dr(i)&&!Rh(i))return i;i=_i(i)}return r}let n=Ub(t,e);for(;n&&rM(n)&&Rh(n);)n=Ub(n,e);return n&&Co(n)&&Rh(n)&&!vg(n)?r:n||sM(t)||r}const xM=async function(t){const e=this.getOffsetParent||rO,r=this.getDimensions,n=await r(t.floating);return{reference:wM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _M(t){return Lr(t).direction==="rtl"}const SM={convertOffsetParentRelativeRectToViewportRelativeRect:dM,getDocumentElement:un,getClippingRect:yM,getOffsetParent:rO,getElementRects:xM,getClientRects:fM,getDimensions:bM,getScale:co,isElement:Dr,isRTL:_M};function nO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function OM(t,e){let r=null,n;const i=un(t);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();const l=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=l;if(s||e(),!f||!h)return;const g=Nl(d),m=Nl(i.clientWidth-(u+f)),v=Nl(i.clientHeight-(d+h)),b=Nl(u),y={rootMargin:-g+"px "+-m+"px "+-v+"px "+-b+"px",threshold:Gt(0,xi(1,c))||1};let O=!0;function _(S){const A=S[0].intersectionRatio;if(A!==c){if(!O)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!nO(l,t.getBoundingClientRect())&&o(),O=!1}try{r=new IntersectionObserver(_,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,y)}r.observe(t)}return o(!0),a}function AM(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=yg(t),u=i||a?[...l?mc(l):[],...mc(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const d=l&&s?OM(l,r):null;let f=-1,h=null;o&&(h=new ResizeObserver(b=>{let[w]=b;w&&w.target===l&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(e)})),r()}),l&&!c&&h.observe(l),h.observe(e));let g,m=c?ya(t):null;c&&v();function v(){const b=ya(t);m&&!nO(m,b)&&r(),m=b,g=requestAnimationFrame(v)}return r(),()=>{var b;u.forEach(w=>{i&&w.removeEventListener("scroll",r),a&&w.removeEventListener("resize",r)}),d==null||d(),(b=h)==null||b.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const EM=XI,PM=QI,jM=VI,TM=ZI,CM=GI,Wb=KI,kM=JI,$M=(t,e,r)=>{const n=new Map,i={platform:SM,...r},a={...i.platform,_c:n};return HI(t,e,{...i,platform:a})};var NM=typeof document<"u",RM=function(){},du=NM?x.useLayoutEffect:RM;function Au(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Au(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Au(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function iO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zb(t,e){const r=iO(t);return Math.round(e*r)/r}function Ih(t){const e=x.useRef(t);return du(()=>{e.current=t}),e}function IM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:l}=t,[u,d]=x.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=x.useState(n);Au(f,n)||h(n);const[g,m]=x.useState(null),[v,b]=x.useState(null),w=x.useCallback(F=>{F!==S.current&&(S.current=F,m(F))},[]),y=x.useCallback(F=>{F!==A.current&&(A.current=F,b(F))},[]),O=a||g,_=o||v,S=x.useRef(null),A=x.useRef(null),E=x.useRef(u),j=c!=null,T=Ih(c),C=Ih(i),k=Ih(l),L=x.useCallback(()=>{if(!S.current||!A.current)return;const F={placement:e,strategy:r,middleware:f};C.current&&(F.platform=C.current),$M(S.current,A.current,F).then(D=>{const K={...D,isPositioned:k.current!==!1};R.current&&!Au(E.current,K)&&(E.current=K,ms.flushSync(()=>{d(K)}))})},[f,e,r,C,k]);du(()=>{l===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(F=>({...F,isPositioned:!1})))},[l]);const R=x.useRef(!1);du(()=>(R.current=!0,()=>{R.current=!1}),[]),du(()=>{if(O&&(S.current=O),_&&(A.current=_),O&&_){if(T.current)return T.current(O,_,L);L()}},[O,_,L,T,j]);const M=x.useMemo(()=>({reference:S,floating:A,setReference:w,setFloating:y}),[w,y]),$=x.useMemo(()=>({reference:O,floating:_}),[O,_]),I=x.useMemo(()=>{const F={position:r,left:0,top:0};if(!$.floating)return F;const D=zb($.floating,u.x),K=zb($.floating,u.y);return s?{...F,transform:"translate("+D+"px, "+K+"px)",...iO($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:K}},[r,s,$.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:L,refs:M,elements:$,floatingStyles:I}),[u,L,M,$,I])}const MM=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Wb({element:n.current,padding:i}).fn(r):{}:n?Wb({element:n,padding:i}).fn(r):{}}}},DM=(t,e)=>({...EM(t),options:[t,e]}),LM=(t,e)=>({...PM(t),options:[t,e]}),BM=(t,e)=>({...kM(t),options:[t,e]}),FM=(t,e)=>({...jM(t),options:[t,e]}),UM=(t,e)=>({...TM(t),options:[t,e]}),WM=(t,e)=>({...CM(t),options:[t,e]}),zM=(t,e)=>({...MM(t),options:[t,e]});var qM="Arrow",aO=x.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return p.jsx(se.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});aO.displayName=qM;var HM=aO;function sf(t){const[e,r]=x.useState(void 0);return ot(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const c=a.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,s=l.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var wg="Popper",[oO,cf]=Ut(wg),[KM,sO]=oO(wg),cO=t=>{const{__scopePopper:e,children:r}=t,[n,i]=x.useState(null);return p.jsx(KM,{scope:e,anchor:n,onAnchorChange:i,children:r})};cO.displayName=wg;var lO="PopperAnchor",uO=x.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=sO(lO,r),o=x.useRef(null),s=ge(e,o);return x.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:p.jsx(se.div,{...i,ref:s})});uO.displayName=lO;var xg="PopperContent",[VM,GM]=oO(xg),dO=x.forwardRef((t,e)=>{var Q,B,U,H,G,W;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:g,...m}=t,v=sO(xg,r),[b,w]=x.useState(null),y=ge(e,ve=>w(ve)),[O,_]=x.useState(null),S=sf(O),A=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,j=n+(a!=="center"?"-"+a:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},C=Array.isArray(l)?l:[l],k=C.length>0,L={padding:T,boundary:C.filter(XM),altBoundary:k},{refs:R,floatingStyles:M,placement:$,isPositioned:I,middlewareData:F}=IM({strategy:"fixed",placement:j,whileElementsMounted:(...ve)=>AM(...ve,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[DM({mainAxis:i+E,alignmentAxis:o}),c&&LM({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?BM():void 0,...L}),c&&FM({...L}),UM({...L,apply:({elements:ve,rects:he,availableWidth:je,availableHeight:Ae})=>{const{width:Ee,height:tt}=he.reference,Je=ve.floating.style;Je.setProperty("--radix-popper-available-width",`${je}px`),Je.setProperty("--radix-popper-available-height",`${Ae}px`),Je.setProperty("--radix-popper-anchor-width",`${Ee}px`),Je.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),O&&zM({element:O,padding:s}),QM({arrowWidth:A,arrowHeight:E}),f&&WM({strategy:"referenceHidden",...L})]}),[D,K]=pO($),X=et(g);ot(()=>{I&&(X==null||X())},[I,X]);const q=(Q=F.arrow)==null?void 0:Q.x,V=(B=F.arrow)==null?void 0:B.y,ee=((U=F.arrow)==null?void 0:U.centerOffset)!==0,[ie,_e]=x.useState();return ot(()=>{b&&_e(window.getComputedStyle(b).zIndex)},[b]),p.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:I?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(H=F.transformOrigin)==null?void 0:H.x,(G=F.transformOrigin)==null?void 0:G.y].join(" "),...((W=F.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(VM,{scope:r,placedSide:D,onArrowChange:_,arrowX:q,arrowY:V,shouldHideArrow:ee,children:p.jsx(se.div,{"data-side":D,"data-align":K,...m,ref:y,style:{...m.style,animation:I?void 0:"none"}})})})});dO.displayName=xg;var fO="PopperArrow",YM={top:"bottom",right:"left",bottom:"top",left:"right"},hO=x.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=GM(fO,n),o=YM[a.placedSide];return p.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:p.jsx(HM,{...i,ref:r,style:{...i.style,display:"block"}})})});hO.displayName=fO;function XM(t){return t!==null}var QM=t=>({name:"transformOrigin",options:t,fn(e){var v,b,w;const{placement:r,rects:n,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[l,u]=pO(r),d={start:"0%",center:"50%",end:"100%"}[u],f=(((b=i.arrow)==null?void 0:b.x)??0)+s/2,h=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let g="",m="";return l==="bottom"?(g=o?d:`${f}px`,m=`${-c}px`):l==="top"?(g=o?d:`${f}px`,m=`${n.floating.height+c}px`):l==="right"?(g=`${-c}px`,m=o?d:`${h}px`):l==="left"&&(g=`${n.floating.width+c}px`,m=o?d:`${h}px`),{data:{x:g,y:m}}}});function pO(t){const[e,r="center"]=t.split("-");return[e,r]}var JM=cO,mO=uO,vO=dO,gO=hO,[lf,whe]=Ut("Tooltip",[cf]),_g=cf(),yO="TooltipProvider",ZM=700,qb="tooltip.open",[eD,bO]=lf(yO),wO=t=>{const{__scopeTooltip:e,delayDuration:r=ZM,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,o=x.useRef(!0),s=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const l=c.current;return()=>window.clearTimeout(l)},[]),p.jsx(eD,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:x.useCallback(l=>{s.current=l},[]),disableHoverableContent:i,children:a})};wO.displayName=yO;var xO="Tooltip",[xhe,uf]=lf(xO),Lp="TooltipTrigger",tD=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=uf(Lp,r),a=bO(Lp,r),o=_g(r),s=x.useRef(null),c=ge(e,s,i.onTriggerChange),l=x.useRef(!1),u=x.useRef(!1),d=x.useCallback(()=>l.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(mO,{asChild:!0,...o,children:p.jsx(se.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:oe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:oe(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:oe(t.onPointerDown,()=>{i.open&&i.onClose(),l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:oe(t.onFocus,()=>{l.current||i.onOpen()}),onBlur:oe(t.onBlur,i.onClose),onClick:oe(t.onClick,i.onClose)})})});tD.displayName=Lp;var rD="TooltipPortal",[_he,nD]=lf(rD,{forceMount:void 0}),ko="TooltipContent",_O=x.forwardRef((t,e)=>{const r=nD(ko,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=uf(ko,t.__scopeTooltip);return p.jsx(ln,{present:n||o.open,children:o.disableHoverableContent?p.jsx(SO,{side:i,...a,ref:e}):p.jsx(iD,{side:i,...a,ref:e})})}),iD=x.forwardRef((t,e)=>{const r=uf(ko,t.__scopeTooltip),n=bO(ko,t.__scopeTooltip),i=x.useRef(null),a=ge(e,i),[o,s]=x.useState(null),{trigger:c,onClose:l}=r,u=i.current,{onPointerInTransitChange:d}=n,f=x.useCallback(()=>{s(null),d(!1)},[d]),h=x.useCallback((g,m)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},w=lD(b,v.getBoundingClientRect()),y=uD(b,w),O=dD(m.getBoundingClientRect()),_=hD([...y,...O]);s(_),d(!0)},[d]);return x.useEffect(()=>()=>f(),[f]),x.useEffect(()=>{if(c&&u){const g=v=>h(v,u),m=v=>h(v,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",m)}}},[c,u,h,f]),x.useEffect(()=>{if(o){const g=m=>{const v=m.target,b={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),y=!fD(b,o);w?f():y&&(f(),l())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,l,f]),p.jsx(SO,{...t,ref:a})}),[aD,oD]=lf(xO,{isInside:!1}),sD=c1("TooltipContent"),SO=x.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=t,c=uf(ko,r),l=_g(r),{onClose:u}=c;return x.useEffect(()=>(document.addEventListener(qb,u),()=>document.removeEventListener(qb,u)),[u]),x.useEffect(()=>{if(c.trigger){const d=f=>{const h=f.target;h!=null&&h.contains(c.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,u]),p.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:p.jsxs(vO,{"data-state":c.stateAttribute,...l,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(sD,{children:n}),p.jsx(aD,{scope:r,isInside:!0,children:p.jsx(iR,{id:c.contentId,role:"tooltip",children:i||n})})]})})});_O.displayName=ko;var OO="TooltipArrow",cD=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=_g(r);return oD(OO,r).isInside?null:p.jsx(gO,{...i,...n,ref:e})});cD.displayName=OO;function lD(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function uD(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function dD(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function fD(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a],c=e[o],l=s.x,u=s.y,d=c.x,f=c.y;u>n!=f>n&&r<(d-l)*(n-u)/(f-u)+l&&(i=!i)}return i}function hD(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),pD(e)}function pD(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var mD=wO,AO=_O;const vD=mD,gD=x.forwardRef(({className:t,sideOffset:e=4,...r},n)=>p.jsx(AO,{ref:n,sideOffset:e,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));gD.displayName=AO.displayName;var ys=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ba=typeof window>"u"||"Deno"in globalThis;function Ct(){}function yD(t,e){return typeof t=="function"?t(e):t}function Bp(t){return typeof t=="number"&&t>=0&&t!==1/0}function EO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mi(t,e){return typeof t=="function"?t(e):t}function sr(t,e){return typeof t=="function"?t(e):t}function Hb(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=t;if(o){if(n){if(e.queryHash!==Sg(o,e.options))return!1}else if(!vc(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||a&&!a(e))}function Kb(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(wa(e.options.mutationKey)!==wa(a))return!1}else if(!vc(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Sg(t,e){return((e==null?void 0:e.queryKeyHashFn)||wa)(t)}function wa(t){return JSON.stringify(t,(e,r)=>Fp(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function vc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>vc(t[r],e[r])):!1}function PO(t,e){if(t===e)return t;const r=Vb(t)&&Vb(e);if(r||Fp(t)&&Fp(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),o=a.length,s=r?[]:{},c=new Set(n);let l=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&c.has(d)||r)&&t[d]===void 0&&e[d]===void 0?(s[d]=void 0,l++):(s[d]=PO(t[d],e[d]),s[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:s}return e}function Eu(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Vb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Fp(t){if(!Gb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Gb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Gb(t){return Object.prototype.toString.call(t)==="[object Object]"}function bD(t){return new Promise(e=>{setTimeout(e,t)})}function Up(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?PO(t,e):e}function wD(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function xD(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Og=Symbol();function jO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Og?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function TO(t,e){return typeof t=="function"?t(...e):!!t}var oa,ti,yo,JS,_D=(JS=class extends ys{constructor(){super();ue(this,oa);ue(this,ti);ue(this,yo);Z(this,yo,e=>{if(!ba&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,ti)||this.setEventListener(N(this,yo))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,ti))==null||e.call(this),Z(this,ti,void 0))}setEventListener(e){var r;Z(this,yo,e),(r=N(this,ti))==null||r.call(this),Z(this,ti,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){N(this,oa)!==e&&(Z(this,oa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof N(this,oa)=="boolean"?N(this,oa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},oa=new WeakMap,ti=new WeakMap,yo=new WeakMap,JS),Ag=new _D,bo,ri,wo,ZS,SD=(ZS=class extends ys{constructor(){super();ue(this,bo,!0);ue(this,ri);ue(this,wo);Z(this,wo,e=>{if(!ba&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,ri)||this.setEventListener(N(this,wo))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,ri))==null||e.call(this),Z(this,ri,void 0))}setEventListener(e){var r;Z(this,wo,e),(r=N(this,ri))==null||r.call(this),Z(this,ri,e(this.setOnline.bind(this)))}setOnline(e){N(this,bo)!==e&&(Z(this,bo,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return N(this,bo)}},bo=new WeakMap,ri=new WeakMap,wo=new WeakMap,ZS),Pu=new SD;function Wp(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function OD(t){return Math.min(1e3*2**t,3e4)}function CO(t){return(t??"online")==="online"?Pu.isOnline():!0}var kO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Mh(t){return t instanceof kO}function $O(t){let e=!1,r=0,n=!1,i;const a=Wp(),o=m=>{var v;n||(f(new kO(m)),(v=t.abort)==null||v.call(t))},s=()=>{e=!0},c=()=>{e=!1},l=()=>Ag.isFocused()&&(t.networkMode==="always"||Pu.isOnline())&&t.canRun(),u=()=>CO(t.networkMode)&&t.canRun(),d=m=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,m),i==null||i(),a.resolve(m))},f=m=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,m),i==null||i(),a.reject(m))},h=()=>new Promise(m=>{var v;i=b=>{(n||l())&&m(b)},(v=t.onPause)==null||v.call(t)}).then(()=>{var m;i=void 0,n||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(n)return;let m;const v=r===0?t.initialPromise:void 0;try{m=v??t.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(d).catch(b=>{var S;if(n)return;const w=t.retry??(ba?0:3),y=t.retryDelay??OD,O=typeof y=="function"?y(r,b):y,_=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,b);if(e||!_){f(b);return}r++,(S=t.onFail)==null||S.call(t,r,b),bD(O).then(()=>l()?void 0:h()).then(()=>{e?f(b):g()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:c,canStart:u,start:()=>(u()?g():h().then(g),a)}}var AD=t=>setTimeout(t,0);function ED(){let t=[],e=0,r=s=>{s()},n=s=>{s()},i=AD;const a=s=>{e?t.push(s):i(()=>{r(s)})},o=()=>{const s=t;t=[],s.length&&i(()=>{n(()=>{s.forEach(c=>{r(c)})})})};return{batch:s=>{let c;e++;try{c=s()}finally{e--,e||o()}return c},batchCalls:s=>(...c)=>{a(()=>{s(...c)})},schedule:a,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var ht=ED(),sa,e1,NO=(e1=class{constructor(){ue(this,sa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bp(this.gcTime)&&Z(this,sa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ba?1/0:5*60*1e3))}clearGcTimeout(){N(this,sa)&&(clearTimeout(N(this,sa)),Z(this,sa,void 0))}},sa=new WeakMap,e1),xo,ca,or,la,St,cl,ua,Tr,mn,t1,PD=(t1=class extends NO{constructor(e){super();ue(this,Tr);ue(this,xo);ue(this,ca);ue(this,or);ue(this,la);ue(this,St);ue(this,cl);ue(this,ua);Z(this,ua,!1),Z(this,cl,e.defaultOptions),this.setOptions(e.options),this.observers=[],Z(this,la,e.client),Z(this,or,N(this,la).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Z(this,xo,jD(this.options)),this.state=e.state??N(this,xo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,St))==null?void 0:e.promise}setOptions(e){this.options={...N(this,cl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,or).remove(this)}setData(e,r){const n=Up(this.state.data,e,this.options);return we(this,Tr,mn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){we(this,Tr,mn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=N(this,St))==null?void 0:n.promise;return(i=N(this,St))==null||i.cancel(e),r?r.then(Ct).catch(Ct):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,xo))}isActive(){return this.observers.some(e=>sr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Og||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>mi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!EO(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,St))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,St))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,or).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(N(this,St)&&(N(this,ua)?N(this,St).cancel({revert:!0}):N(this,St).cancelRetry()),this.scheduleGc()),N(this,or).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||we(this,Tr,mn).call(this,{type:"invalidate"})}fetch(e,r){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,St))return N(this,St).continueRetry(),N(this,St).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Z(this,ua,!0),n.signal)})},a=()=>{const f=jO(this.options,r),g=(()=>{const m={client:N(this,la),queryKey:this.queryKey,meta:this.meta};return i(m),m})();return Z(this,ua,!1),this.options.persister?this.options.persister(f,g,this):f(g)},s=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:N(this,la),state:this.state,fetchFn:a};return i(f),f})();(l=this.options.behavior)==null||l.onFetch(s,this),Z(this,ca,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&we(this,Tr,mn).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const c=f=>{var h,g,m,v;Mh(f)&&f.silent||we(this,Tr,mn).call(this,{type:"error",error:f}),Mh(f)||((g=(h=N(this,or).config).onError)==null||g.call(h,f,this),(v=(m=N(this,or).config).onSettled)==null||v.call(m,this.state.data,f,this)),this.scheduleGc()};return Z(this,St,$O({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,g,m,v;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){c(b);return}(g=(h=N(this,or).config).onSuccess)==null||g.call(h,f,this),(v=(m=N(this,or).config).onSettled)==null||v.call(m,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,h)=>{we(this,Tr,mn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{we(this,Tr,mn).call(this,{type:"pause"})},onContinue:()=>{we(this,Tr,mn).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),N(this,St).start()}},xo=new WeakMap,ca=new WeakMap,or=new WeakMap,la=new WeakMap,St=new WeakMap,cl=new WeakMap,ua=new WeakMap,Tr=new WeakSet,mn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...RO(n.data,this.options),fetchMeta:e.meta??null};case"success":return Z(this,ca,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Mh(i)&&i.revert&&N(this,ca)?{...N(this,ca),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ht.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,or).notify({query:this,type:"updated",action:e})})},t1);function RO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Kr,r1,TD=(r1=class extends ys{constructor(e={}){super();ue(this,Kr);this.config=e,Z(this,Kr,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??Sg(i,r);let o=this.get(a);return o||(o=new PD({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){N(this,Kr).has(e.queryHash)||(N(this,Kr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=N(this,Kr).get(e.queryHash);r&&(e.destroy(),r===e&&N(this,Kr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ht.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,Kr).get(e)}getAll(){return[...N(this,Kr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Hb(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Hb(e,n)):r}notify(e){ht.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ht.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ht.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Kr=new WeakMap,r1),Vr,Pt,da,Gr,Kn,n1,CD=(n1=class extends NO{constructor(e){super();ue(this,Gr);ue(this,Vr);ue(this,Pt);ue(this,da);this.mutationId=e.mutationId,Z(this,Pt,e.mutationCache),Z(this,Vr,[]),this.state=e.state||IO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,Vr).includes(e)||(N(this,Vr).push(e),this.clearGcTimeout(),N(this,Pt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Z(this,Vr,N(this,Vr).filter(r=>r!==e)),this.scheduleGc(),N(this,Pt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,Vr).length||(this.state.status==="pending"?this.scheduleGc():N(this,Pt).remove(this))}continue(){var e;return((e=N(this,da))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,s,c,l,u,d,f,h,g,m,v,b,w,y,O,_,S,A,E;const r=()=>{we(this,Gr,Kn).call(this,{type:"continue"})};Z(this,da,$O({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(j,T)=>{we(this,Gr,Kn).call(this,{type:"failed",failureCount:j,error:T})},onPause:()=>{we(this,Gr,Kn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Pt).canRun(this)}));const n=this.state.status==="pending",i=!N(this,da).canStart();try{if(n)r();else{we(this,Gr,Kn).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(a=N(this,Pt).config).onMutate)==null?void 0:o.call(a,e,this));const T=await((c=(s=this.options).onMutate)==null?void 0:c.call(s,e));T!==this.state.context&&we(this,Gr,Kn).call(this,{type:"pending",context:T,variables:e,isPaused:i})}const j=await N(this,da).start();return await((u=(l=N(this,Pt).config).onSuccess)==null?void 0:u.call(l,j,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,e,this.state.context)),await((g=(h=N(this,Pt).config).onSettled)==null?void 0:g.call(h,j,null,this.state.variables,this.state.context,this)),await((v=(m=this.options).onSettled)==null?void 0:v.call(m,j,null,e,this.state.context)),we(this,Gr,Kn).call(this,{type:"success",data:j}),j}catch(j){try{throw await((w=(b=N(this,Pt).config).onError)==null?void 0:w.call(b,j,e,this.state.context,this)),await((O=(y=this.options).onError)==null?void 0:O.call(y,j,e,this.state.context)),await((S=(_=N(this,Pt).config).onSettled)==null?void 0:S.call(_,void 0,j,this.state.variables,this.state.context,this)),await((E=(A=this.options).onSettled)==null?void 0:E.call(A,void 0,j,e,this.state.context)),j}finally{we(this,Gr,Kn).call(this,{type:"error",error:j})}}finally{N(this,Pt).runNext(this)}}},Vr=new WeakMap,Pt=new WeakMap,da=new WeakMap,Gr=new WeakSet,Kn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ht.batch(()=>{N(this,Vr).forEach(n=>{n.onMutationUpdate(e)}),N(this,Pt).notify({mutation:this,type:"updated",action:e})})},n1);function IO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gn,Cr,ll,i1,kD=(i1=class extends ys{constructor(e={}){super();ue(this,gn);ue(this,Cr);ue(this,ll);this.config=e,Z(this,gn,new Set),Z(this,Cr,new Map),Z(this,ll,0)}build(e,r,n){const i=new CD({mutationCache:this,mutationId:++Tl(this,ll)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){N(this,gn).add(e);const r=Rl(e);if(typeof r=="string"){const n=N(this,Cr).get(r);n?n.push(e):N(this,Cr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(N(this,gn).delete(e)){const r=Rl(e);if(typeof r=="string"){const n=N(this,Cr).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&N(this,Cr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Rl(e);if(typeof r=="string"){const n=N(this,Cr).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Rl(e);if(typeof r=="string"){const i=(n=N(this,Cr).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ht.batch(()=>{N(this,gn).forEach(e=>{this.notify({type:"removed",mutation:e})}),N(this,gn).clear(),N(this,Cr).clear()})}getAll(){return Array.from(N(this,gn))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Kb(r,n))}findAll(e={}){return this.getAll().filter(r=>Kb(e,r))}notify(e){ht.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ht.batch(()=>Promise.all(e.map(r=>r.continue().catch(Ct))))}},gn=new WeakMap,Cr=new WeakMap,ll=new WeakMap,i1);function Rl(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Yb(t){return{onFetch:(e,r)=>{var u,d,f,h,g;const n=e.options,i=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,a=((h=e.state.data)==null?void 0:h.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let s={pages:[],pageParams:[]},c=0;const l=async()=>{let m=!1;const v=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},b=jO(e.options,e.fetchOptions),w=async(y,O,_)=>{if(m)return Promise.reject();if(O==null&&y.pages.length)return Promise.resolve(y);const A=(()=>{const C={client:e.client,queryKey:e.queryKey,pageParam:O,direction:_?"backward":"forward",meta:e.options.meta};return v(C),C})(),E=await b(A),{maxPages:j}=e.options,T=_?xD:wD;return{pages:T(y.pages,E,j),pageParams:T(y.pageParams,O,j)}};if(i&&a.length){const y=i==="backward",O=y?$D:Xb,_={pages:a,pageParams:o},S=O(n,_);s=await w(_,S,y)}else{const y=t??a.length;do{const O=c===0?o[0]??n.initialPageParam:Xb(n,s);if(c>0&&O==null)break;s=await w(s,O),c++}while(c<y)}return s};e.options.persister?e.fetchFn=()=>{var m,v;return(v=(m=e.options).persister)==null?void 0:v.call(m,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=l}}}function Xb(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function $D(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Xe,ni,ii,_o,So,ai,Oo,Ao,a1,ND=(a1=class{constructor(t={}){ue(this,Xe);ue(this,ni);ue(this,ii);ue(this,_o);ue(this,So);ue(this,ai);ue(this,Oo);ue(this,Ao);Z(this,Xe,t.queryCache||new TD),Z(this,ni,t.mutationCache||new kD),Z(this,ii,t.defaultOptions||{}),Z(this,_o,new Map),Z(this,So,new Map),Z(this,ai,0)}mount(){Tl(this,ai)._++,N(this,ai)===1&&(Z(this,Oo,Ag.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,Xe).onFocus())})),Z(this,Ao,Pu.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,Xe).onOnline())})))}unmount(){var t,e;Tl(this,ai)._--,N(this,ai)===0&&((t=N(this,Oo))==null||t.call(this),Z(this,Oo,void 0),(e=N(this,Ao))==null||e.call(this),Z(this,Ao,void 0))}isFetching(t){return N(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,ni).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,Xe).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=N(this,Xe).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(mi(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return N(this,Xe).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=N(this,Xe).get(n.queryHash),a=i==null?void 0:i.state.data,o=yD(e,a);if(o!==void 0)return N(this,Xe).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ht.batch(()=>N(this,Xe).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,Xe).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=N(this,Xe);ht.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=N(this,Xe);return ht.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=ht.batch(()=>N(this,Xe).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Ct).catch(Ct)}invalidateQueries(t,e={}){return ht.batch(()=>(N(this,Xe).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=ht.batch(()=>N(this,Xe).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ct)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ct)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=N(this,Xe).build(this,e);return r.isStaleByTime(mi(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ct).catch(Ct)}fetchInfiniteQuery(t){return t.behavior=Yb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ct).catch(Ct)}ensureInfiniteQueryData(t){return t.behavior=Yb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Pu.isOnline()?N(this,ni).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Xe)}getMutationCache(){return N(this,ni)}getDefaultOptions(){return N(this,ii)}setDefaultOptions(t){Z(this,ii,t)}setQueryDefaults(t,e){N(this,_o).set(wa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,_o).values()],r={};return e.forEach(n=>{vc(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){N(this,So).set(wa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,So).values()],r={};return e.forEach(n=>{vc(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,ii).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Og&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,ii).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,Xe).clear(),N(this,ni).clear()}},Xe=new WeakMap,ni=new WeakMap,ii=new WeakMap,_o=new WeakMap,So=new WeakMap,ai=new WeakMap,Oo=new WeakMap,Ao=new WeakMap,a1),Mt,Se,ul,jt,fa,Eo,oi,si,dl,Po,jo,ha,pa,ci,To,Ce,Ys,zp,qp,Hp,Kp,Vp,Gp,Yp,MO,o1,RD=(o1=class extends ys{constructor(e,r){super();ue(this,Ce);ue(this,Mt);ue(this,Se);ue(this,ul);ue(this,jt);ue(this,fa);ue(this,Eo);ue(this,oi);ue(this,si);ue(this,dl);ue(this,Po);ue(this,jo);ue(this,ha);ue(this,pa);ue(this,ci);ue(this,To,new Set);this.options=r,Z(this,Mt,e),Z(this,si,null),Z(this,oi,Wp()),this.options.experimental_prefetchInRender||N(this,oi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,Se).addObserver(this),Qb(N(this,Se),this.options)?we(this,Ce,Ys).call(this):this.updateResult(),we(this,Ce,Kp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xp(N(this,Se),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xp(N(this,Se),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,we(this,Ce,Vp).call(this),we(this,Ce,Gp).call(this),N(this,Se).removeObserver(this)}setOptions(e){const r=this.options,n=N(this,Se);if(this.options=N(this,Mt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof sr(this.options.enabled,N(this,Se))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");we(this,Ce,Yp).call(this),N(this,Se).setOptions(this.options),r._defaulted&&!Eu(this.options,r)&&N(this,Mt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,Se),observer:this});const i=this.hasListeners();i&&Jb(N(this,Se),n,this.options,r)&&we(this,Ce,Ys).call(this),this.updateResult(),i&&(N(this,Se)!==n||sr(this.options.enabled,N(this,Se))!==sr(r.enabled,N(this,Se))||mi(this.options.staleTime,N(this,Se))!==mi(r.staleTime,N(this,Se)))&&we(this,Ce,zp).call(this);const a=we(this,Ce,qp).call(this);i&&(N(this,Se)!==n||sr(this.options.enabled,N(this,Se))!==sr(r.enabled,N(this,Se))||a!==N(this,ci))&&we(this,Ce,Hp).call(this,a)}getOptimisticResult(e){const r=N(this,Mt).getQueryCache().build(N(this,Mt),e),n=this.createResult(r,e);return MD(this,n)&&(Z(this,jt,n),Z(this,Eo,this.options),Z(this,fa,N(this,Se).state)),n}getCurrentResult(){return N(this,jt)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(e){N(this,To).add(e)}getCurrentQuery(){return N(this,Se)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=N(this,Mt).defaultQueryOptions(e),n=N(this,Mt).getQueryCache().build(N(this,Mt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return we(this,Ce,Ys).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,jt)))}createResult(e,r){var j;const n=N(this,Se),i=this.options,a=N(this,jt),o=N(this,fa),s=N(this,Eo),l=e!==n?e.state:N(this,ul),{state:u}=e;let d={...u},f=!1,h;if(r._optimisticResults){const T=this.hasListeners(),C=!T&&Qb(e,r),k=T&&Jb(e,n,r,i);(C||k)&&(d={...d,...RO(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:v}=d;h=d.data;let b=!1;if(r.placeholderData!==void 0&&h===void 0&&v==="pending"){let T;a!=null&&a.isPlaceholderData&&r.placeholderData===(s==null?void 0:s.placeholderData)?(T=a.data,b=!0):T=typeof r.placeholderData=="function"?r.placeholderData((j=N(this,jo))==null?void 0:j.state.data,N(this,jo)):r.placeholderData,T!==void 0&&(v="success",h=Up(a==null?void 0:a.data,T,r),f=!0)}if(r.select&&h!==void 0&&!b)if(a&&h===(o==null?void 0:o.data)&&r.select===N(this,dl))h=N(this,Po);else try{Z(this,dl,r.select),h=r.select(h),h=Up(a==null?void 0:a.data,h,r),Z(this,Po,h),Z(this,si,null)}catch(T){Z(this,si,T)}N(this,si)&&(g=N(this,si),h=N(this,Po),m=Date.now(),v="error");const w=d.fetchStatus==="fetching",y=v==="pending",O=v==="error",_=y&&w,S=h!==void 0,E={status:v,fetchStatus:d.fetchStatus,isPending:y,isSuccess:v==="success",isError:O,isInitialLoading:_,isLoading:_,data:h,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:w,isRefetching:w&&!y,isLoadingError:O&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:O&&S,isStale:Eg(e,r),refetch:this.refetch,promise:N(this,oi),isEnabled:sr(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const T=L=>{E.status==="error"?L.reject(E.error):E.data!==void 0&&L.resolve(E.data)},C=()=>{const L=Z(this,oi,E.promise=Wp());T(L)},k=N(this,oi);switch(k.status){case"pending":e.queryHash===n.queryHash&&T(k);break;case"fulfilled":(E.status==="error"||E.data!==k.value)&&C();break;case"rejected":(E.status!=="error"||E.error!==k.reason)&&C();break}}return E}updateResult(){const e=N(this,jt),r=this.createResult(N(this,Se),this.options);if(Z(this,fa,N(this,Se).state),Z(this,Eo,this.options),N(this,fa).data!==void 0&&Z(this,jo,N(this,Se)),Eu(r,e))return;Z(this,jt,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!N(this,To).size)return!0;const o=new Set(a??N(this,To));return this.options.throwOnError&&o.add("error"),Object.keys(N(this,jt)).some(s=>{const c=s;return N(this,jt)[c]!==e[c]&&o.has(c)})};we(this,Ce,MO).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&we(this,Ce,Kp).call(this)}},Mt=new WeakMap,Se=new WeakMap,ul=new WeakMap,jt=new WeakMap,fa=new WeakMap,Eo=new WeakMap,oi=new WeakMap,si=new WeakMap,dl=new WeakMap,Po=new WeakMap,jo=new WeakMap,ha=new WeakMap,pa=new WeakMap,ci=new WeakMap,To=new WeakMap,Ce=new WeakSet,Ys=function(e){we(this,Ce,Yp).call(this);let r=N(this,Se).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ct)),r},zp=function(){we(this,Ce,Vp).call(this);const e=mi(this.options.staleTime,N(this,Se));if(ba||N(this,jt).isStale||!Bp(e))return;const n=EO(N(this,jt).dataUpdatedAt,e)+1;Z(this,ha,setTimeout(()=>{N(this,jt).isStale||this.updateResult()},n))},qp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,Se)):this.options.refetchInterval)??!1},Hp=function(e){we(this,Ce,Gp).call(this),Z(this,ci,e),!(ba||sr(this.options.enabled,N(this,Se))===!1||!Bp(N(this,ci))||N(this,ci)===0)&&Z(this,pa,setInterval(()=>{(this.options.refetchIntervalInBackground||Ag.isFocused())&&we(this,Ce,Ys).call(this)},N(this,ci)))},Kp=function(){we(this,Ce,zp).call(this),we(this,Ce,Hp).call(this,we(this,Ce,qp).call(this))},Vp=function(){N(this,ha)&&(clearTimeout(N(this,ha)),Z(this,ha,void 0))},Gp=function(){N(this,pa)&&(clearInterval(N(this,pa)),Z(this,pa,void 0))},Yp=function(){const e=N(this,Mt).getQueryCache().build(N(this,Mt),this.options);if(e===N(this,Se))return;const r=N(this,Se);Z(this,Se,e),Z(this,ul,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},MO=function(e){ht.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(N(this,jt))}),N(this,Mt).getQueryCache().notify({query:N(this,Se),type:"observerResultsUpdated"})})},o1);function ID(t,e){return sr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Qb(t,e){return ID(t,e)||t.state.data!==void 0&&Xp(t,e,e.refetchOnMount)}function Xp(t,e,r){if(sr(e.enabled,t)!==!1&&mi(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Eg(t,e)}return!1}function Jb(t,e,r,n){return(t!==e||sr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Eg(t,r)}function Eg(t,e){return sr(e.enabled,t)!==!1&&t.isStaleByTime(mi(e.staleTime,t))}function MD(t,e){return!Eu(t.getCurrentResult(),e)}var li,ui,Dt,yn,Pn,fu,Qp,s1,DD=(s1=class extends ys{constructor(r,n){super();ue(this,Pn);ue(this,li);ue(this,ui);ue(this,Dt);ue(this,yn);Z(this,li,r),this.setOptions(n),this.bindMethods(),we(this,Pn,fu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=N(this,li).defaultMutationOptions(r),Eu(this.options,n)||N(this,li).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,Dt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&wa(n.mutationKey)!==wa(this.options.mutationKey)?this.reset():((i=N(this,Dt))==null?void 0:i.state.status)==="pending"&&N(this,Dt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=N(this,Dt))==null||r.removeObserver(this)}onMutationUpdate(r){we(this,Pn,fu).call(this),we(this,Pn,Qp).call(this,r)}getCurrentResult(){return N(this,ui)}reset(){var r;(r=N(this,Dt))==null||r.removeObserver(this),Z(this,Dt,void 0),we(this,Pn,fu).call(this),we(this,Pn,Qp).call(this)}mutate(r,n){var i;return Z(this,yn,n),(i=N(this,Dt))==null||i.removeObserver(this),Z(this,Dt,N(this,li).getMutationCache().build(N(this,li),this.options)),N(this,Dt).addObserver(this),N(this,Dt).execute(r)}},li=new WeakMap,ui=new WeakMap,Dt=new WeakMap,yn=new WeakMap,Pn=new WeakSet,fu=function(){var n;const r=((n=N(this,Dt))==null?void 0:n.state)??IO();Z(this,ui,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Qp=function(r){ht.batch(()=>{var n,i,a,o,s,c,l,u;if(N(this,yn)&&this.hasListeners()){const d=N(this,ui).variables,f=N(this,ui).context;(r==null?void 0:r.type)==="success"?((i=(n=N(this,yn)).onSuccess)==null||i.call(n,r.data,d,f),(o=(a=N(this,yn)).onSettled)==null||o.call(a,r.data,null,d,f)):(r==null?void 0:r.type)==="error"&&((c=(s=N(this,yn)).onError)==null||c.call(s,r.error,d,f),(u=(l=N(this,yn)).onSettled)==null||u.call(l,void 0,r.error,d,f))}this.listeners.forEach(d=>{d(N(this,ui))})})},s1),DO=x.createContext(void 0),bs=t=>{const e=x.useContext(DO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},LD=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(DO.Provider,{value:t,children:e})),LO=x.createContext(!1),BD=()=>x.useContext(LO);LO.Provider;function FD(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var UD=x.createContext(FD()),WD=()=>x.useContext(UD),zD=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},qD=t=>{x.useEffect(()=>{t.clearReset()},[t])},HD=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||TO(r,[t.error,n])),KD=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},VD=(t,e)=>t.isLoading&&t.isFetching&&!e,GD=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Zb=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function YD(t,e,r){var d,f,h,g,m;const n=BD(),i=WD(),a=bs(),o=a.defaultQueryOptions(t);(f=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=n?"isRestoring":"optimistic",KD(o),zD(o,i),qD(i);const s=!a.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new e(a,o)),l=c.getOptimisticResult(o),u=!n&&t.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const b=u?c.subscribe(ht.batchCalls(v)):Ct;return c.updateResult(),b},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),GD(o,l))throw Zb(o,c,i);if(HD({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((g=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,o,l),o.experimental_prefetchInRender&&!ba&&VD(l,n)){const v=s?Zb(o,c,i):(m=a.getQueryCache().get(o.queryHash))==null?void 0:m.promise;v==null||v.catch(Ct).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function $o(t,e){return YD(t,RD)}function wn(t,e){const r=bs(),[n]=x.useState(()=>new DD(r,t));x.useEffect(()=>{n.setOptions(t)},[n,t]);const i=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(ht.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=x.useCallback((o,s)=>{n.mutate(o,s).catch(Ct)},[n]);if(i.error&&TO(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const XD=[{to:"/stats",label:"Statistiche",icon:CR},{to:"/macro-goals",label:"Macro Obiettivi",icon:L1}];function QD(){return p.jsx("nav",{className:"flex items-center justify-center gap-1 sm:gap-2",children:XD.map(({to:t,label:e,icon:r})=>p.jsxs(ON,{to:t,className:({isActive:n})=>J("flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all","hover:bg-accent",n?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground"),children:[p.jsx(r,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden xs:inline sm:inline",children:e})]},t))})}function JD(){return p.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[p.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md sticky top-0 z-50",children:p.jsxs("div",{className:"h-16 flex items-center justify-between px-4 sm:px-8 max-w-[2400px] mx-auto w-full",children:[p.jsxs(AN,{to:"/",className:"flex items-center gap-2 sm:gap-3 group",children:[p.jsx(IR,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary animate-pulse"}),p.jsx("span",{className:"font-display font-bold text-base sm:text-lg tracking-tight group-hover:text-primary transition-colors",children:"Mattioli.OS"})]}),p.jsx(QD,{})]})}),p.jsx("main",{className:"flex-1",children:p.jsx(EN,{})})]})}var Pg={},ju={},Jp=function(t,e){return Jp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Jp(t,e)};function BO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Jp(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cr=function(){return cr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cr.apply(this,arguments)};function Ai(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function FO(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function UO(t,e){return function(r,n){e(r,n,t)}}function WO(t,e,r,n,i,a){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var s=n.kind,c=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d,f=!1,h=r.length-1;h>=0;h--){var g={};for(var m in n)g[m]=m==="access"?{}:n[m];for(var m in n.access)g.access[m]=n.access[m];g.addInitializer=function(b){if(f)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(b||null))};var v=(0,r[h])(s==="accessor"?{get:u.get,set:u.set}:u[c],g);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=o(v.get))&&(u.get=d),(d=o(v.set))&&(u.set=d),(d=o(v.init))&&i.unshift(d)}else(d=o(v))&&(s==="field"?i.unshift(d):u[c]=d)}l&&Object.defineProperty(l,n.name,u),f=!0}function zO(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function qO(t){return typeof t=="symbol"?t:"".concat(t)}function HO(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function KO(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function re(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})}function VO(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var df=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function GO(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&df(e,t,r)}function Tu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jg(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function YO(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jg(arguments[e]));return t}function XO(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function Tg(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function No(t){return this instanceof No?(this.v=t,this):new No(t)}function QO(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(g){return Promise.resolve(g).then(h,d)}}function s(h,g){n[h]&&(i[h]=function(m){return new Promise(function(v,b){a.push([h,m,v,b])>1||c(h,m)})},g&&(i[h]=g(i[h])))}function c(h,g){try{l(n[h](g))}catch(m){f(a[0][3],m)}}function l(h){h.value instanceof No?Promise.resolve(h.value.v).then(u,d):f(a[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,g){h(g),a.shift(),a.length&&c(a[0][0],a[0][1])}}function JO(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(o){return(r=!r)?{value:No(t[i](o)),done:!1}:a?a(o):o}:a}}function ZO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Tu=="function"?Tu(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(s,c){o=t[a](o),i(s,c,o.done,o.value)})}}function i(a,o,s,c){Promise.resolve(c).then(function(l){a({value:l,done:s})},o)}}function eA(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var ZD=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Zp=function(t){return Zp=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Zp(t)};function tA(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Zp(t),n=0;n<r.length;n++)r[n]!=="default"&&df(e,t,r[n]);return ZD(e,t),e}function rA(t){return t&&t.__esModule?t:{default:t}}function nA(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function iA(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function aA(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function oA(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var e2=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function sA(t){function e(a){t.error=t.hasError?new e2(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function cA(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?e?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):t}const t2={__extends:BO,__assign:cr,__rest:Ai,__decorate:FO,__param:UO,__esDecorate:WO,__runInitializers:zO,__propKey:qO,__setFunctionName:HO,__metadata:KO,__awaiter:re,__generator:VO,__createBinding:df,__exportStar:GO,__values:Tu,__read:jg,__spread:YO,__spreadArrays:XO,__spreadArray:Tg,__await:No,__asyncGenerator:QO,__asyncDelegator:JO,__asyncValues:ZO,__makeTemplateObject:eA,__importStar:tA,__importDefault:rA,__classPrivateFieldGet:nA,__classPrivateFieldSet:iA,__classPrivateFieldIn:aA,__addDisposableResource:oA,__disposeResources:sA,__rewriteRelativeImportExtension:cA},r2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:oA,get __assign(){return cr},__asyncDelegator:JO,__asyncGenerator:QO,__asyncValues:ZO,__await:No,__awaiter:re,__classPrivateFieldGet:nA,__classPrivateFieldIn:aA,__classPrivateFieldSet:iA,__createBinding:df,__decorate:FO,__disposeResources:sA,__esDecorate:WO,__exportStar:GO,__extends:BO,__generator:VO,__importDefault:rA,__importStar:tA,__makeTemplateObject:eA,__metadata:KO,__param:UO,__propKey:qO,__read:jg,__rest:Ai,__rewriteRelativeImportExtension:cA,__runInitializers:zO,__setFunctionName:HO,__spread:YO,__spreadArray:Tg,__spreadArrays:XO,__values:Tu,default:t2},Symbol.toStringTag,{value:"Module"})),n2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let ff=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},lA=class extends ff{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},em=class extends ff{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},tm=class extends ff{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Cu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Cu||(Cu={}));class i2{constructor(e,{headers:r={},customFetch:n,region:i=Cu.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=n2(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return re(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:c,body:l,signal:u,timeout:d}=n;let f={},{region:h}=n;h||(h=this.region);const g=new URL(`${this.url}/${r}`);h&&h!=="any"&&(f["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let m;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(f["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(f["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;let v=u;d&&(o=new AbortController,a=setTimeout(()=>o.abort(),d),u?(v=o.signal,u.addEventListener("abort",()=>o.abort())):v=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),s),body:m,signal:v}).catch(_=>{throw new lA(_)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new em(b);if(!b.ok)throw new tm(b);let y=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return y==="application/json"?O=yield b.json():y==="application/octet-stream"||y==="application/pdf"?O=yield b.blob():y==="text/event-stream"?O=b:y==="multipart/form-data"?O=yield b.formData():O=yield b.text(),{data:O,error:null,response:b}}catch(s){return{data:null,error:s,response:s instanceof tm||s instanceof em?s.context:void 0}}finally{a&&clearTimeout(a)}})}}const a2=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Cu},FunctionsClient:i2,FunctionsError:ff,FunctionsFetchError:lA,FunctionsHttpError:tm,FunctionsRelayError:em},Symbol.toStringTag,{value:"Module"})),uA=fl(a2);var At={};const ws=fl(r2);var Il={},Ml={},Dl={},Ll={},Bl={},Fl={},e0;function dA(){if(e0)return Fl;e0=1,Object.defineProperty(Fl,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Fl.default=t,Fl}var t0;function fA(){if(t0)return Bl;t0=1,Object.defineProperty(Bl,"__esModule",{value:!0});const e=ws.__importDefault(dA());let r=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var l,u,d,f;let h=null,g=null,m=null,v=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const _=await c.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?g=_:g=JSON.parse(_))}const y=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),O=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");y&&O&&O.length>1&&(m=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,v=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const y=await c.text();try{h=JSON.parse(y),Array.isArray(h)&&c.status===404&&(g=[],h=null,v=200,b="OK")}catch{c.status===404&&y===""?(v=204,b="No Content"):h={message:y}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,v=200,b="OK"),h&&this.shouldThrowOnError)throw new e.default(h)}return{error:h,data:g,count:m,status:v,statusText:b}});return this.shouldThrowOnError||(s=s.catch(c=>{var l,u,d,f,h,g;let m="";const v=c==null?void 0:c.cause;if(v){const b=(l=v==null?void 0:v.message)!==null&&l!==void 0?l:"",w=(u=v==null?void 0:v.code)!==null&&u!==void 0?u:"";m=`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,m+=`

Caused by: ${(f=v==null?void 0:v.name)!==null&&f!==void 0?f:"Error"}: ${b}`,w&&(m+=` (${w})`),v!=null&&v.stack&&(m+=`
${v.stack}`)}else m=(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:"";return{error:{message:`${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"FetchError"}: ${c==null?void 0:c.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}};return Bl.default=r,Bl}var r0;function hA(){if(r0)return Ll;r0=1,Object.defineProperty(Ll,"__esModule",{value:!0});const e=ws.__importDefault(fA());let r=class extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:c=s}={}){const l=c?`${c}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const c=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(l,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:c=!1,format:l="text"}={}){var u;const d=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Ll.default=r,Ll}var n0;function Cg(){if(n0)return Dl;n0=1,Object.defineProperty(Dl,"__esModule",{value:!0});const e=ws.__importDefault(hA()),r=new RegExp("[,()]");let n=class extends e.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:c}={}){let l="";c==="plain"?l="pl":c==="phrase"?l="ph":c==="websearch"&&(l="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${l}fts${u}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const c=s?`${s}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}};return Dl.default=n,Dl}var i0;function pA(){if(i0)return Ml;i0=1,Object.defineProperty(Ml,"__esModule",{value:!0});const e=ws.__importDefault(Cg());let r=class{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},c=o?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const l=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:c=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Ml.default=r,Ml}var a0;function o2(){if(a0)return Il;a0=1,Object.defineProperty(Il,"__esModule",{value:!0});const t=ws,e=t.__importDefault(pA()),r=t.__importDefault(Cg());let n=class mA{constructor(a,{headers:o={},schema:s,fetch:c}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new mA(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:c=!1,count:l}={}){var u;let d;const f=new URL(`${this.url}/rpc/${a}`);let h;s||c?(d=s?"HEAD":"GET",Object.entries(o).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{f.searchParams.append(m,v)})):(d="POST",h=o);const g=new Headers(this.headers);return l&&g.set("Prefer",`count=${l}`),new r.default({method:d,url:f,headers:g,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return Il.default=n,Il}Object.defineProperty(At,"__esModule",{value:!0});At.PostgrestError=At.PostgrestBuilder=At.PostgrestTransformBuilder=At.PostgrestFilterBuilder=At.PostgrestQueryBuilder=At.PostgrestClient=void 0;const xs=ws,vA=xs.__importDefault(o2());At.PostgrestClient=vA.default;const gA=xs.__importDefault(pA());At.PostgrestQueryBuilder=gA.default;const yA=xs.__importDefault(Cg());At.PostgrestFilterBuilder=yA.default;const bA=xs.__importDefault(hA());At.PostgrestTransformBuilder=bA.default;const wA=xs.__importDefault(fA());At.PostgrestBuilder=wA.default;const xA=xs.__importDefault(dA());At.PostgrestError=xA.default;At.default={PostgrestClient:vA.default,PostgrestQueryBuilder:gA.default,PostgrestFilterBuilder:yA.default,PostgrestTransformBuilder:bA.default,PostgrestBuilder:wA.default,PostgrestError:xA.default};class _A{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const s2="2.87.1",c2=`realtime-js/${s2}`,SA="1.0.0",l2="2.0.0",o0=SA,rm=1e4,u2=1e3,d2=100;var Yi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Yi||(Yi={}));var rt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(rt||(rt={}));var kr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kr||(kr={}));var nm;(function(t){t.websocket="websocket"})(nm||(nm={}));var Xi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xi||(Xi={}));class f2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var i,a;const o=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",l=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+s.length+o.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(h),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,s.length),g.setUint8(m++,o.length),g.setUint8(m++,l.length),g.setUint8(m++,d.length),g.setUint8(m++,r),Array.from(c,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(d,b=>g.setUint8(m++,b.charCodeAt(0)));var v=new Uint8Array(h.byteLength+n.byteLength);return v.set(new Uint8Array(h),0),v.set(new Uint8Array(n),h.byteLength),v.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,o,s,c]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let c=this.HEADER_LENGTH+4;const l=n.decode(e.slice(c,c+i));c=c+i;const u=n.decode(e.slice(c,c+a));c=c+a;const d=n.decode(e.slice(c,c+o));c=c+o;const f=e.slice(c,e.byteLength),h=s===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,g={type:this.BROADCAST_EVENT,event:u,payload:h};return o>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class OA{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Fe||(Fe={}));const s0=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=h2(o,t,e,i),a),{}):{}},h2=(t,e,r,n)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=r[t];return a&&!n.includes(a)?AA(a,o):im(o)},AA=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return g2(e,r)}switch(t){case Fe.bool:return p2(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return m2(e);case Fe.json:case Fe.jsonb:return v2(e);case Fe.timestamp:return y2(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return im(e);default:return im(e)}},im=t=>t,p2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},m2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},v2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},g2=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>AA(e,s))}return t},y2=t=>typeof t=="string"?t.replace(" ","T"):t,EA=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Dh{constructor(e,r,n={},i=rm){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var am;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(am||(am={}));let PA=class hu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hu.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=hu.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hu.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),s={},c={};return this.map(a,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const d=a[l];if(d){const f=u.map(v=>v.presence_ref),h=d.map(v=>v.presence_ref),g=u.filter(v=>h.indexOf(v.presence_ref)<0),m=d.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(s[l]=g),m.length>0&&(c[l]=m)}else s[l]=u}),this.syncDiff(a,{joins:s,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,c)=>{var l;const u=(l=e[s])!==null&&l!==void 0?l:[];if(e[s]=this.cloneDeep(c),u.length>0){const d=e[s].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[s].unshift(...f)}n(s,u,c)}),this.map(o,(s,c)=>{let l=e[s];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[s]=l,i(s,l,c),l.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var om;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(om||(om={}));var lo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(lo||(lo={}));var qr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qr||(qr={}));const b2=rt;let jA=class Xs{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Dh(this,kr.join,this.params,this.timeout),this.rejoinTimer=new OA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kr.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new PA(this),this.broadcastEndpointURL=EA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,l=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[lo.PRESENCE]&&this.bindings[lo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(qr.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(qr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){e==null||e(qr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,b=[];for(let w=0;w<v;w++){const y=m[w],{filter:{event:O,schema:_,table:S,filter:A}}=y,E=h&&h[w];if(E&&E.event===O&&Xs.isFilterValueEqual(E.schema,_)&&Xs.isFilterValueEqual(E.table,S)&&Xs.isFilterValueEqual(E.filter,A))b.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=rt.errored,e==null||e(qr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(qr.SUBSCRIBED);return}}).receive("error",h=>{this.state=rt.errored,e==null||e(qr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===rt.joined&&e===lo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{const l=await s.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,c;const l=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),l.receive("ok",()=>a("ok")),l.receive("error",()=>a("error")),l.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Dh(this,kr.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Dh(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>d2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:c,leave:l,join:u}=kr;if(n&&[s,c,l,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var g,m,v;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=h.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var g,m,v,b,w,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const O=h.id,_=(g=h.filter)===null||g===void 0?void 0:g.event;return O&&((m=r.ids)===null||m===void 0?void 0:m.includes(O))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const O=(w=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return O==="*"||O===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:v,commit_timestamp:b,type:w,errors:y}=g;f=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:b,eventType:w,new:{},old:{},errors:y}),this._getPayloadRecords(g))}h.callback(f,n)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Xs.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kr.close,{},e)}_onError(e){this._on(kr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=s0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=s0(e.columns,e.old_record)),r}};const Lh=()=>{},Ul={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},w2=[1e3,2e3,5e3,1e4],x2=1e4,_2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let S2=class{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rm,this.transport=null,this.heartbeatIntervalMs=Ul.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lh,this.ref=0,this.reconnectTimer=null,this.vsn=o0,this.logger=Lh,this.conn=null,this.sendBuffer=[],this.serializer=new f2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${nm.websocket}`,this.httpEndpoint=EA(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_A.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Yi.connecting:return Xi.Connecting;case Yi.open:return Xi.Open;case Yi.closing:return Xi.Closing;default:return Xi.Closed}}isConnected(){return this.connectionState()===Xi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new jA(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(u2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ul.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${s}`.trim(),a),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Yi.open||this.conn.readyState===Yi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(kr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([_2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:c2};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(kr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new OA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ul.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,s,c,l,u,d,f,h;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:rm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Ul.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Lh,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:o0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:g=>w2[g-1]||x2,this.vsn){case SA:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(g,m)=>m(JSON.stringify(g)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(g,m)=>m(JSON.parse(g));break;case l2:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const O2=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:b2,get REALTIME_LISTEN_TYPES(){return lo},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return om},get REALTIME_PRESENCE_LISTEN_EVENTS(){return am},get REALTIME_SUBSCRIBE_STATES(){return qr},RealtimeChannel:jA,RealtimeClient:S2,RealtimePresence:PA,WebSocketFactory:_A},Symbol.toStringTag,{value:"Module"})),TA=fl(O2);class ml extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class CA extends ml{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ku extends ml{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const kg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),A2=()=>Response,sm=t=>{if(Array.isArray(t))return t.map(r=>sm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=sm(n)}),e},E2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},P2=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Bh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},j2=(t,e,r)=>re(void 0,void 0,void 0,function*(){const n=yield A2();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new CA(Bh(i),a,o))}).catch(i=>{e(new ku(Bh(i),i))}):e(new ku(Bh(t),t))}),T2=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(E2(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function vl(t,e,r,n,i,a){return re(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,T2(e,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>j2(c,s,n))})})}function gc(t,e,r,n){return re(this,void 0,void 0,function*(){return vl(t,"GET",e,r,n)})}function jr(t,e,r,n,i){return re(this,void 0,void 0,function*(){return vl(t,"POST",e,n,i,r)})}function cm(t,e,r,n,i){return re(this,void 0,void 0,function*(){return vl(t,"PUT",e,n,i,r)})}function C2(t,e,r,n){return re(this,void 0,void 0,function*(){return vl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function $g(t,e,r,n,i){return re(this,void 0,void 0,function*(){return vl(t,"DELETE",e,n,i,r)})}class k2{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}var kA;class $2{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[kA]="BlobDownloadBuilder",this.promise=null}asStream(){return new k2(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}kA=Symbol.toStringTag;const N2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},c0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class R2{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=kg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return re(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},c0),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const l=this._removeEmptyFolders(r),u=this._getFinalPath(l),d=yield(e=="PUT"?cm:jr)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}upload(e,r,n){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return re(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let c;const l=Object.assign({upsert:c0.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield cm(this.fetch,s.toString(),c,{headers:u});return{data:{path:a,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield jr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new ml("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}update(e,r,n){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return re(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}copy(e,r,n){return re(this,void 0,void 0,function*(){try{return{data:{path:(yield jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return re(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield jr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return re(this,void 0,void 0,function*(){try{const i=yield jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),c=()=>gc(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new $2(c,this.shouldThrowOnError)}info(e){return re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield gc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:sm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}exists(e){return re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield C2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n)&&n instanceof ku){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${l}`)}}}remove(e){return re(this,void 0,void 0,function*(){try{return{data:yield $g(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}list(e,r,n){return re(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},N2),r),{prefix:e||""});return{data:yield jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}listV2(e,r){return re(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield jr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const $A="2.87.1",NA={"X-Client-Info":`storage-js/${$A}`};class I2{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},NA),r),this.fetch=kg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return re(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield gc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}createBucket(e){return re(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield jr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return re(this,void 0,void 0,function*(){try{return{data:yield cm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}emptyBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield $g(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var yc=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function M2(t,e,r){const n=new URL(e,t);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function D2(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function L2(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=M2(t.baseUrl,n,i),c=await D2(t.auth),l=await e(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),u=await l.text(),d=(l.headers.get("content-type")||"").includes("application/json"),f=d&&u?JSON.parse(u):u;if(!l.ok){const h=d?f:void 0,g=h==null?void 0:h.error;throw new yc((g==null?void 0:g.message)??`Request failed with status ${l.status}`,{status:l.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:h})}return{status:l.status,headers:l.headers,data:f}}}}function Wl(t){return t.join("")}var B2=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Wl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wl(t.namespace)}`}),!0}catch(e){if(e instanceof yc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof yc&&r.status===409)return;throw r}}};function Ba(t){return t.join("")}var F2=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ba(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof yc&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof yc&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},U2=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=L2({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new B2(this.client,e),this.tableOps=new F2(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class RA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},NA),r),this.fetch=kg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listBuckets(e){return re(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield gc(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield $g(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}from(e){if(!P2(e))throw new ml("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new U2({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>re(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,o){const s=a[o];return typeof s!="function"?s:(...c)=>re(this,void 0,void 0,function*(){try{return{data:yield s.apply(a,c),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}})}})}}const Ng={"X-Client-Info":`storage-js/${$A}`,"Content-Type":"application/json"};class Rg extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Bt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class pu extends Rg{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class IA extends Rg{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var lm;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(lm||(lm={}));const hf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),W2=()=>Response,MA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},z2=t=>Array.from(new Float32Array(t)),q2=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},l0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),H2=(t,e,r)=>re(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new pu(l0(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;e(new pu(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;e(new pu(s,i,o))}}else e(new IA(l0(t),t))}),K2=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(MA(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function V2(t,e,r,n,i,a){return re(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,K2(e,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>H2(c,s,n))})})}function Yt(t,e,r,n,i){return re(this,void 0,void 0,function*(){return V2(t,"POST",e,n,i,r)})}class DA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ng),r),this.fetch=hf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return re(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}listIndexes(e){return re(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return re(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}}class LA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ng),r),this.fetch=hf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return re(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Yt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}getVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}listVectors(e){return re(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Yt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}queryVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return re(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Yt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}}class BA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ng),r),this.fetch=hf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}listBuckets(){return re(this,arguments,void 0,function*(e={}){try{return{data:yield Yt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}}class FA extends BA{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new UA(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return re(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return re(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return re(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return re(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class UA extends DA{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return re(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return re(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return re(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return re(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new WA(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class WA extends LA{constructor(e,r,n,i,a){super(e,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return re(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return re(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return re(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return re(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return re(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class G2 extends I2{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new R2(this.url,this.headers,e,this.fetch)}get vectors(){return new FA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RA(this.url+"/iceberg",this.headers,this.fetch)}}const Y2=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:RA,StorageApiError:CA,StorageClient:G2,StorageError:ml,StorageUnknownError:ku,StorageVectorsApiError:pu,StorageVectorsClient:FA,StorageVectorsError:Rg,get StorageVectorsErrorCode(){return lm},StorageVectorsUnknownError:IA,VectorBucketApi:BA,VectorBucketScope:UA,VectorDataApi:LA,VectorIndexApi:DA,VectorIndexScope:WA,isPlainObject:MA,isStorageError:Ke,isStorageVectorsError:Bt,normalizeToFloat32:z2,resolveFetch:hf,resolveResponse:W2,validateVectorDimension:q2},Symbol.toStringTag,{value:"Module"})),X2=fl(Y2);var zA={},pf={};Object.defineProperty(pf,"__esModule",{value:!0});pf.version=void 0;pf.version="2.87.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=pf;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(zA);var qA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const n=(i,a,o)=>{const s=(0,t.resolveFetch)(o),c=(0,t.resolveHeadersConstructor)();return async(l,u)=>{var d;const f=(d=await a())!==null&&d!==void 0?d:i;let h=new c(u==null?void 0:u.headers);return h.has("apikey")||h.set("apikey",i),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),s(l,Object.assign(Object.assign({},u),{headers:h}))}};t.fetchWithAuth=n})(qA);var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.isBrowser=void 0;Ei.uuid=Q2;Ei.ensureTrailingSlash=HA;Ei.applySettingDefaults=Z2;Ei.validateSupabaseUrl=eL;function Q2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}function HA(t){return t.endsWith("/")?t:t+"/"}const J2=()=>typeof window<"u";Ei.isBrowser=J2;function Z2(t,e){var r,n;const{db:i,auth:a,realtime:o,global:s}=t,{db:c,auth:l,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function eL(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HA(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mf={};const KA="2.87.1",Qa=30*1e3,um=3,Fh=um*Qa,tL="http://localhost:9999",rL="supabase.auth.token",nL={"X-Client-Info":`gotrue-js/${KA}`},dm="X-Supabase-Api-Version",VA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aL=10*60*1e3;let Ro=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let GA=class extends Ro{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function YA(t){return ae(t)&&t.name==="AuthApiError"}let Jn=class extends Ro{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Mn=class extends Ro{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}},It=class extends Mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function XA(t){return ae(t)&&t.name==="AuthSessionMissingError"}let Fi=class extends Mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Qs=class extends Mn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Js=class extends Mn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function QA(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}let fm=class extends Mn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},$u=class extends Mn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function mu(t){return ae(t)&&t.name==="AuthRetryableFetchError"}let hm=class extends Mn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function oL(t){return ae(t)&&t.name==="AuthWeakPasswordError"}let Nu=class extends Mn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),u0=` 	
\r=`.split(""),sL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<u0.length;e+=1)t[u0[e].charCodeAt(0)]=-2;for(let e=0;e<Ru.length;e+=1)t[Ru[e].charCodeAt(0)]=e;return t})();function d0(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ru[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ru[n]),e.queuedBits-=6}}function JA(t,e,r){const n=sL[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function f0(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{uL(o,n,r)};for(let o=0;o<t.length;o+=1)JA(t.charCodeAt(o),i,a);return e.join("")}function cL(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function lL(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}cL(n,e)}}function uL(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function uo(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)JA(t.charCodeAt(i),r,n);return new Uint8Array(e)}function dL(t){const e=[];return lL(t,r=>e.push(r)),new Uint8Array(e)}function ea(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>d0(i,r,n)),d0(null,r,n),e.join("")}function fL(t){return Math.round(Date.now()/1e3)+t}function hL(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",Ii={tested:!1,writable:!1},ZA=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ii.tested)return Ii.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ii.tested=!0,Ii.writable=!0}catch{Ii.tested=!0,Ii.writable=!1}return Ii.writable};function pL(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const eE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ja=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Mi=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wt=async(t,e)=>{await t.removeItem(e)};class vf{constructor(){this.promise=new vf.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}vf.promiseConstructor=Promise;function Uh(t){const e=t.split(".");if(e.length!==3)throw new Nu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!iL.test(e[n]))throw new Nu("JWT not in base64url format");return{header:JSON.parse(f0(e[0])),payload:JSON.parse(f0(e[1])),signature:uo(e[2]),raw:{header:e[0],payload:e[1]}}}async function vL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gL(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function yL(t){return("0"+t.toString(16)).substr(-2)}function bL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,yL).join("")}async function wL(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function xL(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await wL(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fa(t,e,r=!1){const n=bL();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ja(t,`${e}-code-verifier`,i);const a=await xL(n);return[a,n===a?"plain":"s256"]}const _L=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SL(t){const e=t.headers.get(dm);if(!e||!e.match(_L))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function OL(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function AL(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ua(t){if(!EL.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function PL(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function h0(t){return JSON.parse(JSON.stringify(t))}const Ui=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jL=[502,503,504];async function p0(t){var e;if(!mL(t))throw new $u(Ui(t),0);if(jL.includes(t.status))throw new $u(Ui(t),t.status);let r;try{r=await t.json()}catch(a){throw new Jn(Ui(a),a)}let n;const i=SL(t);if(i&&i.getTime()>=VA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hm(Ui(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new It}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new hm(Ui(r),t.status,r.weak_password.reasons);throw new GA(Ui(r),t.status||500,n)}const TL=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function fe(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[dm]||(a[dm]=VA["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await CL(t,e,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function CL(t,e,r,n,i,a){const o=TL(e,n,i,a);let s;try{s=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new $u(Ui(c),0)}if(s.ok||await p0(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(c){await p0(c)}}function Ar(t){var e;let r=null;NL(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=fL(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function m0(t){const e=Ar(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function kL(t){return{data:t,error:null}}function $L(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=Ai(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function v0(t){return t}function NL(t){return t.access_token&&t.refresh_token&&t.expires_in}const vu=["global","local","others"];let Ig=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=eE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=vu[0]){if(vu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vu.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zn})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Ai(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:$L,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,s,c;try{const l={nextPage:null,lastPage:0,total:0},u=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:v0});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(ae(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Ua(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ua(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Zn})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ua(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zn})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ua(e.userId);try{const{data:r,error:n}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ua(e.userId),Ua(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,o,s,c;try{const l={nextPage:null,lastPage:0,total:0},u=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:v0});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(ae(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}};function g0(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Wi={debug:!!(globalThis&&ZA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let tE=class extends Mg{};class RL extends Mg{}async function rE(t,e,r){Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new tE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const y0={};async function IL(t,e,r){var n;const i=(n=y0[t])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),e>=0?new Promise((o,s)=>{setTimeout(()=>{s(new RL(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return y0[t]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function ML(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nE(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function DL(t){return parseInt(t,16)}function LL(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function BL(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:c,resources:l,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=nE(t.address),g=u?`${u}://${n}`:n,m=t.statement?`${t.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${h}

${m}`;let b=`URI: ${d}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),c&&(b+=`
Request ID: ${c}`),l){let w=`
Resources:`;for(const y of l){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);w+=`
- ${y}`}b+=w}return`${v}
${b}`}class it extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Iu extends it{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function FL({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new it({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(iE(o)){if(a.rp.id!==o)return new it({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function UL({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new it({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(iE(n)){if(r.rpId!==n)return new it({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class WL{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zL=new WL;function qL(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Ai(t,["challenge","user","excludeCredentials"]),a=uo(e).buffer,o=Object.assign(Object.assign({},r),{id:uo(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const l=n[c];s.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:uo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function HL(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Ai(t,["challenge","allowCredentials"]),i=uo(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:uo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function KL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ea(new Uint8Array(t.response.attestationObject)),clientDataJSON:ea(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function VL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ea(new Uint8Array(i.authenticatorData)),clientDataJSON:ea(new Uint8Array(i.clientDataJSON)),signature:ea(new Uint8Array(i.signature)),userHandle:i.userHandle?ea(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iE(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function b0(){var t,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function GL(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Iu("Browser returned unexpected credential type",e)}:{data:null,error:new Iu("Empty credential response",e)}}catch(e){return{data:null,error:FL({error:e,options:t})}}}async function YL(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Iu("Browser returned unexpected credential type",e)}:{data:null,error:new Iu("Empty credential response",e)}}catch(e){return{data:null,error:UL({error:e,options:t})}}}const XL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},QL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mu(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(e(o)){const s=n[a];e(s)?n[a]=Mu(s,o):n[a]=Mu(o)}else n[a]=o}return n}function JL(t,e){return Mu(XL,t,e||{})}function ZL(t,e){return Mu(QL,t,e||{})}class eB{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:s};const c=i??zL.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:l}=o.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${n}`),l.displayName||(l.displayName=l.name)}switch(o.webauthn.type){case"create":{const l=JL(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:d}=await GL({publicKey:l,signal:c});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const l=ZL(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:d}=await YL(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:l,signal:c}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Jn("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Ro("rpId is required for WebAuthn authentication")};try{if(!b0())return{data:null,error:new Jn("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Jn("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Ro("rpId is required for WebAuthn registration")};try{if(!b0())return{data:null,error:new Jn("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:s};const{data:c,error:l}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Jn("Unexpected error in register",o)}}}}ML();const tB={url:tL,storageKey:rL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function w0(t,e,r){return await r()}const Wa={};let Dg=class pm{get jwks(){var e,r;return(r=(e=Wa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Wa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},tB),e);if(this.storageKey=a.storageKey,this.instanceID=(r=pm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,pm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&xt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Ig({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=eE(a.fetch),this.lock=a.lock||w0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&xt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rE:this.lock=w0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eB(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:ZA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=g0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=g0(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${KA}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(xt()&&(r=pL(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),xt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),QA(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?this._returnResult({error:r}):this._returnResult({error:new Jn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ar}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:l,session:c},error:null})}catch(a){if(ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Fa(this.storage,this.storageKey)),a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:g},xform:Ar})}else if("phone"in e){const{phone:u,password:d,options:f}=e;a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ar})}else throw new Qs("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:l,session:c},error:null})}catch(a){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:s}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:m0})}else if("phone"in e){const{phone:a,password:o,options:s}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:m0})}else throw new Qs("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Fi;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,o,s,c,l,u,d,f;let h,g;if("message"in e)h=e.message,g=e.signature;else{const{chain:m,wallet:v,statement:b,options:w}=e;let y;if(xt())if(typeof v=="object")y=v;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")y=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=v}const O=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),_=await y.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=nE(_[0]);let A=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!A){const j=await y.request({method:"eth_chainId"});A=DL(j)}const E={domain:O.host,address:S,statement:b,uri:O.href,version:"1",chainId:A,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=BL(E),g=await y.request({method:"personal_sign",params:[LL(h),S]})}try{const{data:m,error:v}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ar});if(v)throw v;if(!m||!m.session||!m.user){const b=new Fi;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if(ae(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var r,n,i,a,o,s,c,l,u,d,f,h;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:v,wallet:b,statement:w,options:y}=e;let O;if(xt())if(typeof b=="object")O=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))O=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=b}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const S=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),w?{statement:w}:null));let A;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")A=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)A=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)g=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),m=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const S=await O.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:v,error:b}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ea(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ar});if(b)throw b;if(!v||!v.session||!v.user){const w=new Fi;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(ae(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const r=await Mi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ar});if(await wt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new Fi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ar}),{data:c,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c||!c.session||!c.user){const u=new Fi;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:l})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:s,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Fa(this.storage,this.storageKey));const{error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:c}=e,{data:l,error:u}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Qs("You must provide either an email or phone number.")}catch(s){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ar});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:l,session:c},error:null})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,o;try{let s=null,c=null;this.flowType==="pkce"&&([s,c]=await Fa(this.storage,this.storageKey));const l=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:c}),headers:this.headers,xform:kL});return!((a=l.data)===null||a===void 0)&&a.url&&xt()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(s){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new It;const{error:i}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ae(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:s}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new Qs("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Mi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Fh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Mi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Wh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=PL(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zn}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Zn})})}catch(r){if(ae(r))return XA(r)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new It;const o=i.session;let s=null,c=null;this.flowType==="pkce"&&e.email!=null&&([s,c]=await Fa(this.storage,this.storageKey));const{data:l,error:u}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:Zn});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new It;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Uh(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:s}=r;if(s)throw s;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new It;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!xt())throw new Js("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Js(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Js("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fm("No code detected.");const{data:w,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:c,token_type:l}=e;if(!a||!s||!o||!l)throw new Js("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let f=u+d;c&&(f=parseInt(c));const h=f-u;h*1e3<=Qa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const g=f-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:m,error:v}=await this._getUser(a);if(v)throw v;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:f,refresh_token:o,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Mi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(YA(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=hL(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Fa(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,c,l,u;const{data:d,error:f}=a;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return xt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ae(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:c,access_token:l,nonce:u}=e,d=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:c,access_token:l,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ar}),{data:f,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Fi}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:h}))}catch(i){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gL(async i=>(i>0&&await vL(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ar})),(i,a)=>{const o=200*Math.pow(2,i);return a&&mu(a)&&Date.now()+o-n<Qa})}catch(n){if(this._debug(r,"error",n),ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),xt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Mi(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Mi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ja(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Wh()}else if(i&&!i.user&&!i.user){const o=await Mi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await wt(this.storage,this.storageKey+"-user"),await Ja(this.storage,this.storageKey,i)):i.user=Wh()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Fh;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Fh}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),mu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new vf;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new It;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),ae(a)){const o={data:null,error:a};return mu(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ja(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=h0(i);await Ja(this.storage,this.storageKey,a)}else{const i=h0(r);await Ja(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Qa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Qa}ms, refresh threshold is ${um} ticks`),i<=um&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Mg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Fa(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:l}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?KL(e.webauthn.credential_response):VL(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:c}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:c}))})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:qL(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:HL(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Uh(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const l=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:l},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new It})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new It});const o=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&xt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new It});const o=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&xt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new It})})}catch(e){if(ae(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+aL>i)return n;const{data:a,error:o}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:g}=await this.getSession();if(g||!h.session)return this._returnResult({data:null,error:g});n=h.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:c}}=Uh(n);r!=null&&r.allowExpired||OL(a.exp);const l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!l){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:o},error:null}}const u=AL(i.alg),d=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,dL(`${s}.${c}`)))throw new Nu("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}};Dg.nextInstanceID={};const rB=Ig,nB=Dg,iB=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:rB,AuthApiError:GA,AuthClient:nB,AuthError:Ro,AuthImplicitGrantRedirectError:Js,AuthInvalidCredentialsError:Qs,AuthInvalidJwtError:Nu,AuthInvalidTokenResponseError:Fi,AuthPKCEGrantCodeExchangeError:fm,AuthRetryableFetchError:$u,AuthSessionMissingError:It,AuthUnknownError:Jn,AuthWeakPasswordError:hm,CustomAuthError:Mn,GoTrueAdminApi:Ig,GoTrueClient:Dg,NavigatorLockAcquireTimeoutError:tE,SIGN_OUT_SCOPES:vu,isAuthApiError:YA,isAuthError:ae,isAuthImplicitGrantRedirectError:QA,isAuthRetryableFetchError:mu,isAuthSessionMissingError:XA,isAuthWeakPasswordError:oL,lockInternals:Wi,navigatorLock:rE,processLock:IL},Symbol.toStringTag,{value:"Module"})),aE=fl(iB);Object.defineProperty(mf,"__esModule",{value:!0});mf.SupabaseAuthClient=void 0;const aB=aE;class oB extends aB.AuthClient{constructor(e){super(e)}}mf.SupabaseAuthClient=oB;Object.defineProperty(ju,"__esModule",{value:!0});const sB=uA,cB=At,lB=TA,uB=X2,zl=zA,dB=qA,x0=Ei,fB=mf;let hB=class{constructor(e,r,n){var i,a,o;this.supabaseUrl=e,this.supabaseKey=r;const s=(0,x0.validateSupabaseUrl)(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:zl.DEFAULT_DB_OPTIONS,realtime:zl.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},zl.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:zl.DEFAULT_GLOBAL_OPTIONS},u=(0,x0.applySettingDefaults)(n??{},l);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=(0,dB.fetchWithAuth)(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new cB.PostgrestClient(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new uB.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new sB.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:c,debug:l,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fB.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:c,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lB.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};ju.default=hB;(function(t){var e=Yr&&Yr.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f);var g=Object.getOwnPropertyDescriptor(d,f);(!g||("get"in g?!d.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(u,h,g)}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),r=Yr&&Yr.__exportStar||function(u,d){for(var f in u)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&e(d,u,f)},n=Yr&&Yr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=n(ju);r(aE,t);var a=At;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=uA;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(TA,t);var s=ju;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return n(s).default}});const c=(u,d,f)=>new i.default(u,d,f);t.createClient=c;function l(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const d=u.match(/^v(\d+)\./);return d?parseInt(d[1],10)<=18:!1}l()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Pg);const oE=ke(Pg),pB=$N({__proto__:null,default:oE},[Pg]),{PostgrestError:Ghe,FunctionsHttpError:Yhe,FunctionsFetchError:Xhe,FunctionsRelayError:Qhe,FunctionsError:Jhe,FunctionRegion:Zhe,SupabaseClient:epe,createClient:mB,GoTrueAdminApi:tpe,GoTrueClient:rpe,AuthAdminApi:npe,AuthClient:ipe,navigatorLock:ape,NavigatorLockAcquireTimeoutError:ope,lockInternals:spe,processLock:cpe,SIGN_OUT_SCOPES:lpe,AuthError:upe,AuthApiError:dpe,AuthUnknownError:fpe,CustomAuthError:hpe,AuthSessionMissingError:ppe,AuthInvalidTokenResponseError:mpe,AuthInvalidCredentialsError:vpe,AuthImplicitGrantRedirectError:gpe,AuthPKCEGrantCodeExchangeError:ype,AuthRetryableFetchError:bpe,AuthWeakPasswordError:wpe,AuthInvalidJwtError:xpe,isAuthError:_pe,isAuthApiError:Spe,isAuthSessionMissingError:Ope,isAuthImplicitGrantRedirectError:Ape,isAuthRetryableFetchError:Epe,isAuthWeakPasswordError:Ppe,RealtimePresence:jpe,RealtimeChannel:Tpe,RealtimeClient:Cpe,REALTIME_LISTEN_TYPES:kpe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:$pe,REALTIME_PRESENCE_LISTEN_EVENTS:Npe,REALTIME_SUBSCRIBE_STATES:Rpe,REALTIME_CHANNEL_STATES:Ipe}=oE||pB;console.error("Missing VITE_SUPABASE_URL or VITE_SUPABASE_ANON/VITE_SUPABASE_PUBLISHABLE_KEY in environment variables.");const vB="https://placeholder.supabase.co",gB="placeholder-key",be=mB(vB,gB,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function Me(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function sn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Du(t,e){const r=Me(t);return isNaN(e)?sn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function sE(t,e){const r=Me(t);if(isNaN(e))return sn(t,NaN);if(!e)return r;const n=r.getDate(),i=sn(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const Lg=6048e5,yB=864e5;let bB={};function gf(){return bB}function pr(t,e){var s,c,l,u;const r=gf(),n=(e==null?void 0:e.weekStartsOn)??((c=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=Me(t),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Lu(t){return pr(t,{weekStartsOn:1})}function cE(t){const e=Me(t),r=e.getFullYear(),n=sn(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Lu(n),a=sn(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Lu(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Xr(t){const e=Me(t);return e.setHours(0,0,0,0),e}function Bu(t){const e=Me(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Bg(t,e){const r=Xr(t),n=Xr(e),i=+r-Bu(r),a=+n-Bu(n);return Math.round((i-a)/yB)}function wB(t){const e=cE(t),r=sn(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Lu(r)}function xB(t,e){const r=e*7;return Du(t,r)}function _B(t,e){return sE(t,e*12)}function _0(t,e){const r=Xr(t),n=Xr(e);return+r==+n}function SB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function OB(t){if(!SB(t)&&typeof t!="number")return!1;const e=Me(t);return!isNaN(Number(e))}function AB(t){const e=Me(t);return Math.trunc(e.getMonth()/3)+1}function EB(t,e,r){const n=pr(t,r),i=pr(e,r),a=+n-Bu(n),o=+i-Bu(i);return Math.round((a-o)/Lg)}function PB(t,e){const r=Me(t),n=Me(e),i=S0(r,n),a=Math.abs(Bg(r,n));r.setDate(r.getDate()-i*a);const o=+(S0(r,n)===-i),s=i*(a-o);return s===0?0:s}function S0(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function eo(t,e){const r=Me(t.start),n=Me(t.end);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let s=1;const c=[];for(;+o<=a;)c.push(Me(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?c.reverse():c}function Fg(t){const e=Me(t);return e.setDate(1),e.setHours(0,0,0,0),e}function lE(t){const e=Me(t),r=sn(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function jB(t,e){const r=e==null?void 0:e.weekStartsOn,n=Me(t),i=n.getDay(),a=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+a),n.setHours(23,59,59,999),n}const TB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},CB=(t,e,r)=>{let n;const i=TB[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function fo(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const kB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$B={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},NB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RB={date:fo({formats:kB,defaultWidth:"full"}),time:fo({formats:$B,defaultWidth:"full"}),dateTime:fo({formats:NB,defaultWidth:"full"})},IB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},MB=(t,e,r,n)=>IB[t];function Qr(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[s]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const DB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zB=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},qB={ordinalNumber:zB,era:Qr({values:DB,defaultWidth:"wide"}),quarter:Qr({values:LB,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qr({values:BB,defaultWidth:"wide"}),day:Qr({values:FB,defaultWidth:"wide"}),dayPeriod:Qr({values:UB,defaultWidth:"wide",formattingValues:WB,defaultFormattingWidth:"wide"})};function Jr(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(s)?KB(s,d=>d.test(o)):HB(s,d=>d.test(o));let l;l=t.valueCallback?t.valueCallback(c):c,l=r.valueCallback?r.valueCallback(l):l;const u=e.slice(o.length);return{value:l,rest:u}}}function HB(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function KB(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function uE(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const VB=/^(\d+)(th|st|nd|rd)?/i,GB=/\d+/i,YB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},XB={any:[/^b/i,/^(a|c)/i]},QB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JB={any:[/1/i,/2/i,/3/i,/4/i]},ZB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aF={ordinalNumber:uE({matchPattern:VB,parsePattern:GB,valueCallback:t=>parseInt(t,10)}),era:Jr({matchPatterns:YB,defaultMatchWidth:"wide",parsePatterns:XB,defaultParseWidth:"any"}),quarter:Jr({matchPatterns:QB,defaultMatchWidth:"wide",parsePatterns:JB,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jr({matchPatterns:ZB,defaultMatchWidth:"wide",parsePatterns:eF,defaultParseWidth:"any"}),day:Jr({matchPatterns:tF,defaultMatchWidth:"wide",parsePatterns:rF,defaultParseWidth:"any"}),dayPeriod:Jr({matchPatterns:nF,defaultMatchWidth:"any",parsePatterns:iF,defaultParseWidth:"any"})},oF={code:"en-US",formatDistance:CB,formatLong:RB,formatRelative:MB,localize:qB,match:aF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sF(t){const e=Me(t);return Bg(e,lE(e))+1}function cF(t){const e=Me(t),r=+Lu(e)-+wB(e);return Math.round(r/Lg)+1}function dE(t,e){var u,d,f,h;const r=Me(t),n=r.getFullYear(),i=gf(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=sn(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=pr(o,e),c=sn(t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const l=pr(c,e);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function lF(t,e){var s,c,l,u;const r=gf(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(l=r.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??1,i=dE(t,e),a=sn(t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),pr(a,e)}function uF(t,e){const r=Me(t),n=+pr(r,e)-+lF(r,e);return Math.round(n/Lg)+1}function $e(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Hn={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return $e(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):$e(r+1,2)},d(t,e){return $e(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return $e(t.getHours()%12||12,e.length)},H(t,e){return $e(t.getHours(),e.length)},m(t,e){return $e(t.getMinutes(),e.length)},s(t,e){return $e(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return $e(i,e.length)}},za={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},O0={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Hn.y(t,e)},Y:function(t,e,r,n){const i=dE(t,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return $e(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):$e(a,e.length)},R:function(t,e){const r=cE(t);return $e(r,e.length)},u:function(t,e){const r=t.getFullYear();return $e(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return $e(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return $e(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Hn.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return $e(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=uF(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):$e(i,e.length)},I:function(t,e,r){const n=cF(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):$e(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Hn.d(t,e)},D:function(t,e,r){const n=sF(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):$e(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return $e(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return $e(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return $e(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=za.noon:n===0?i=za.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=za.evening:n>=12?i=za.afternoon:n>=4?i=za.morning:i=za.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Hn.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Hn.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):$e(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):$e(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Hn.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Hn.s(t,e)},S:function(t,e){return Hn.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return E0(n);case"XXXX":case"XX":return zi(n);case"XXXXX":case"XXX":default:return zi(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return E0(n);case"xxxx":case"xx":return zi(n);case"xxxxx":case"xxx":default:return zi(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+A0(n,":");case"OOOO":default:return"GMT"+zi(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+A0(n,":");case"zzzz":default:return"GMT"+zi(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return $e(n,e.length)},T:function(t,e,r){const n=t.getTime();return $e(n,e.length)}};function A0(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+$e(a,2)}function E0(t,e){return t%60===0?(t>0?"-":"+")+$e(Math.abs(t)/60,2):zi(t,e)}function zi(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=$e(Math.trunc(n/60),2),a=$e(n%60,2);return r+i+e+a}const P0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fE=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},dF=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return P0(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",P0(n,e)).replace("{{time}}",fE(i,e))},fF={p:fE,P:dF},hF=/^D+$/,pF=/^Y+$/,mF=["D","DD","YY","YYYY"];function vF(t){return hF.test(t)}function gF(t){return pF.test(t)}function yF(t,e,r){const n=bF(t,e,r);if(console.warn(n),mF.includes(t))throw new RangeError(n)}function bF(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_F=/^'([^]*?)'?$/,SF=/''/g,OF=/[a-zA-Z]/;function Ge(t,e,r){var u,d,f,h,g,m,v,b;const n=gf(),i=(r==null?void 0:r.locale)??n.locale??oF,a=(r==null?void 0:r.firstWeekContainsDate)??((d=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,s=Me(t);if(!OB(s))throw new RangeError("Invalid time value");let c=e.match(xF).map(w=>{const y=w[0];if(y==="p"||y==="P"){const O=fF[y];return O(w,i.formatLong)}return w}).join("").match(wF).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const y=w[0];if(y==="'")return{isToken:!1,value:AF(w)};if(O0[y])return{isToken:!0,value:w};if(y.match(OF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(s,c));const l={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const y=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&gF(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&vF(y))&&yF(y,e,String(t));const O=O0[y[0]];return O(s,y,i.localize,l)}).join("")}function AF(t){const e=t.match(_F);return e?e[1].replace(SF,"'"):t}function EF(t){return Me(t).getDate()}function PF(t){return Me(t).getDay()}function jF(t,e){const r=e==null?void 0:e.weekStartsOn,n=EF(t);if(isNaN(n))return NaN;const i=PF(Fg(t));let a=r-i;a<=0&&(a+=7);const o=n-a;return Math.ceil(o/7)+1}function TF(t){const e=Me(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function CF(t,e){return EB(TF(t),Fg(t),e)+1}function to(t,e){const r=Me(t),n=Me(e);return r.getTime()>n.getTime()}function Qi(t,e){const r=Me(t),n=Me(e);return+r<+n}function j0(t,e,r){const n=pr(t,r),i=pr(e,r);return+n==+i}function Ht(t,e){return Du(t,-e)}function kF(t,e){return sE(t,-e)}function $F(t,e){return xB(t,-e)}function NF(t,e){return _B(t,-e)}function qi(t=new Date){return Ge(t,"yyyy-MM-dd")}function RF(t,e,r){return!(t<e||r&&t>r)}function hE(){const t=bs(),{data:e,isLoading:r}=$o({queryKey:["goals"],queryFn:async()=>{const{data:f,error:h}=await be.from("goals").select("*").order("created_at",{ascending:!0});if(h)throw Ye.error("Errore caricamento obiettivi"),h;return f}}),{data:n,isLoading:i}=$o({queryKey:["goal_logs"],queryFn:async()=>{let f=[],h=0;const g=1e3;let m=!0;for(;m;){const{data:v,error:b}=await be.from("goal_logs").select("*").range(h,h+g-1);if(b)throw console.error(b),b;v&&v.length>0?(f=[...f,...v],v.length<g?m=!1:h+=g):m=!1}return f}}),a={};n&&n.forEach(f=>{a[f.date]||(a[f.date]={}),a[f.date][f.goal_id]=f.status});const o=wn({mutationFn:async f=>{const{data:{session:h}}=await be.auth.getSession();if(!h)throw new Error("Non sei autenticato. Effettua il login.");const{data:g,error:m}=await be.from("goals").insert([{title:f.title,color:f.color,start_date:f.start_date||qi(new Date),user_id:h.user.id}]).select().single();if(m)throw m;return g},onSuccess:()=>{t.invalidateQueries({queryKey:["goals"]}),Ye.success("Obiettivo creato")},onError:f=>{Ye.error("Errore creazione: "+f.message)}}),s=async f=>{const h=new Date;h.setDate(h.getDate()-1),await be.from("goals").update({end_date:qi(h)}).eq("id",f)},c=wn({mutationFn:async f=>{const{count:h,error:g}=await be.from("goal_logs").select("*",{count:"exact",head:!0}).eq("goal_id",f);if(g)throw g;if(h&&h>0)await s(f);else try{const{error:m}=await be.from("goals").delete().eq("id",f);m&&(console.warn("Hard delete failed, falling back to soft delete",m),await s(f))}catch(m){console.warn("Hard delete exception, falling back to soft delete",m),await s(f)}},onSuccess:()=>{t.invalidateQueries({queryKey:["goals"]}),Ye.success("Obiettivo eliminato")},onError:f=>{Ye.error("Errore eliminazione: "+f.message)}}),l=wn({mutationFn:async()=>{const{data:{session:f}}=await be.auth.getSession();if(!f)throw new Error("Not authenticated");const{error:h}=await be.from("goal_logs").delete().eq("user_id",f.user.id);if(h)throw h;const{error:g}=await be.from("goals").delete().eq("user_id",f.user.id);if(g)throw g},onSuccess:()=>{t.invalidateQueries({queryKey:["goals"]}),t.invalidateQueries({queryKey:["goal_logs"]}),Ye.success("Reset completo effettuato")},onError:f=>{Ye.error("Errore reset: "+f.message)}}),u=(e||[]).filter(f=>!f.end_date||f.end_date>=qi(new Date)),d=wn({mutationFn:async({goalId:f,date:h,currentStatus:g})=>{const m=qi(h),{data:{session:v}}=await be.auth.getSession(),{data:b,error:w}=await be.from("goals").select("start_date, end_date").eq("id",f).single();if(w||!b)throw w||new Error("Goal not found");const y=b;if(!RF(m,y.start_date,y.end_date))throw new Error("Impossibile modificare un obiettivo fuori dal suo periodo di validit.");let O="done";if(g==="done"?O="missed":g==="missed"&&(O=null),O===null){const{error:_}=await be.from("goal_logs").delete().eq("goal_id",f).eq("date",m);if(_)throw _}else{const{error:_}=await be.from("goal_logs").upsert({goal_id:f,date:m,status:O,user_id:v==null?void 0:v.user.id},{onConflict:"goal_id, date"});if(_)throw _}return{goalId:f,dateStr:m,nextStatus:O}},onMutate:async({goalId:f,date:h,currentStatus:g})=>{await t.cancelQueries({queryKey:["goal_logs"]});const m=t.getQueryData(["goal_logs"]),v=qi(h);let b="done";return g==="done"?b="missed":g==="missed"&&(b=null),t.setQueryData(["goal_logs"],w=>{if(!w)return[];const y=w.filter(O=>!(O.goal_id===f&&O.date===v));return b?[...y,{id:"temp-"+Date.now(),goal_id:f,date:v,status:b,created_at:"",updated_at:""}]:y}),{previousLogs:m}},onError:(f,h,g)=>{t.setQueryData(["goal_logs"],g==null?void 0:g.previousLogs),Ye.error("Errore aggiornamento")},onSettled:()=>{t.invalidateQueries({queryKey:["goal_logs"]})}});return{goals:u,allGoals:e||[],logs:a,rawLogs:n||[],isLoading:r||i,createGoal:o.mutate,deleteGoal:c.mutate,isDeleting:c.isPending,resetAllData:l.mutate,isResetting:l.isPending,toggleGoal:async(f,h)=>{var v;const g=qi(f),m=((v=a[g])==null?void 0:v[h])||null;d.mutate({goalId:h,date:f,currentStatus:m})}}}const pE=x.createContext(void 0),IF=({children:t})=>{const[e,r]=x.useState(!1),n=()=>{r(i=>!i)};return p.jsx(pE.Provider,{value:{isPrivacyMode:e,setIsPrivacyMode:r,togglePrivacyMode:n},children:t})},Ug=()=>{const t=x.useContext(pE);if(t===void 0)throw new Error("usePrivacy must be used within a PrivacyProvider");return t},Wg=ag("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ze=x.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const o=n?SN:"button";return p.jsx(o,{className:J(Wg({variant:e,size:r,className:t})),ref:a,...i})});Ze.displayName="Button";const MF={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},DF=(t,e,r)=>{let n;const i=MF[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"tra "+n:n+" fa":n},LF={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},BF={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},FF={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},UF={date:fo({formats:LF,defaultWidth:"full"}),time:fo({formats:BF,defaultWidth:"full"}),dateTime:fo({formats:FF,defaultWidth:"full"})},zg=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function WF(t){switch(t){case 0:return"'domenica scorsa alle' p";default:return"'"+zg[t]+" scorso alle' p"}}function T0(t){return"'"+zg[t]+" alle' p"}function zF(t){switch(t){case 0:return"'domenica prossima alle' p";default:return"'"+zg[t]+" prossimo alle' p"}}const qF={lastWeek:(t,e,r)=>{const n=t.getDay();return j0(t,e,r)?T0(n):WF(n)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(t,e,r)=>{const n=t.getDay();return j0(t,e,r)?T0(n):zF(n)},other:"P"},HF=(t,e,r,n)=>{const i=qF[t];return typeof i=="function"?i(e,r,n):i},KF={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},VF={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},GF={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},YF={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},XF={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},QF={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},JF=(t,e)=>{const r=Number(t);return String(r)},ZF={ordinalNumber:JF,era:Qr({values:KF,defaultWidth:"wide"}),quarter:Qr({values:VF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qr({values:GF,defaultWidth:"wide"}),day:Qr({values:YF,defaultWidth:"wide"}),dayPeriod:Qr({values:XF,defaultWidth:"wide",formattingValues:QF,defaultFormattingWidth:"wide"})},e5=/^(\d+)()?/i,t5=/\d+/i,r5={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},n5={any:[/^a/i,/^(d|e)/i]},i5={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},a5={any:[/1/i,/2/i,/3/i,/4/i]},o5={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},s5={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},c5={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},l5={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},u5={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},d5={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},f5={ordinalNumber:uE({matchPattern:e5,parsePattern:t5,valueCallback:t=>parseInt(t,10)}),era:Jr({matchPatterns:r5,defaultMatchWidth:"wide",parsePatterns:n5,defaultParseWidth:"any"}),quarter:Jr({matchPatterns:i5,defaultMatchWidth:"wide",parsePatterns:a5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jr({matchPatterns:o5,defaultMatchWidth:"wide",parsePatterns:s5,defaultParseWidth:"any"}),day:Jr({matchPatterns:c5,defaultMatchWidth:"wide",parsePatterns:l5,defaultParseWidth:"any"}),dayPeriod:Jr({matchPatterns:u5,defaultMatchWidth:"any",parsePatterns:d5,defaultParseWidth:"any"})},On={code:"it",formatDistance:DF,formatLong:UF,formatRelative:HF,localize:ZF,match:f5,options:{weekStartsOn:1,firstWeekContainsDate:4}};function vi(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var h5="DismissableLayer",mm="dismissableLayer.update",p5="dismissableLayer.pointerDownOutside",m5="dismissableLayer.focusOutside",C0,mE=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vE=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...c}=t,l=x.useContext(mE),[u,d]=x.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=x.useState({}),g=ge(e,A=>d(A)),m=Array.from(l.layers),[v]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(v),w=u?m.indexOf(u):-1,y=l.layersWithOutsidePointerEventsDisabled.size>0,O=w>=b,_=y5(A=>{const E=A.target,j=[...l.branches].some(T=>T.contains(E));!O||j||(i==null||i(A),o==null||o(A),A.defaultPrevented||s==null||s())},f),S=b5(A=>{const E=A.target;[...l.branches].some(T=>T.contains(E))||(a==null||a(A),o==null||o(A),A.defaultPrevented||s==null||s())},f);return f1(A=>{w===l.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&s&&(A.preventDefault(),s()))},f),x.useEffect(()=>{if(u)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(C0=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),k0(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=C0)}},[u,f,r,l]),x.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),k0())},[u,l]),x.useEffect(()=>{const A=()=>h({});return document.addEventListener(mm,A),()=>document.removeEventListener(mm,A)},[]),p.jsx(se.div,{...c,ref:g,style:{pointerEvents:y?O?"auto":"none":void 0,...t.style},onFocusCapture:vi(t.onFocusCapture,S.onFocusCapture),onBlurCapture:vi(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:vi(t.onPointerDownCapture,_.onPointerDownCapture)})});vE.displayName=h5;var v5="DismissableLayerBranch",g5=x.forwardRef((t,e)=>{const r=x.useContext(mE),n=x.useRef(null),i=ge(e,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),p.jsx(se.div,{...t,ref:i})});g5.displayName=v5;function y5(t,e=globalThis==null?void 0:globalThis.document){const r=et(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let c=function(){gE(p5,r,l,{discrete:!0})};const l={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function b5(t,e=globalThis==null?void 0:globalThis.document){const r=et(t),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&gE(m5,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function k0(){const t=new CustomEvent(mm);document.dispatchEvent(t)}function gE(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?sg(i,a):i.dispatchEvent(a)}var zh="focusScope.autoFocusOnMount",qh="focusScope.autoFocusOnUnmount",$0={bubbles:!1,cancelable:!0},w5="FocusScope",qg=x.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[s,c]=x.useState(null),l=et(i),u=et(a),d=x.useRef(null),f=ge(e,m=>c(m)),h=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(y){if(h.paused||!s)return;const O=y.target;s.contains(O)?d.current=O:Vn(d.current,{select:!0})},v=function(y){if(h.paused||!s)return;const O=y.relatedTarget;O!==null&&(s.contains(O)||Vn(d.current,{select:!0}))},b=function(y){if(document.activeElement===document.body)for(const _ of y)_.removedNodes.length>0&&Vn(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(b);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,s,h.paused]),x.useEffect(()=>{if(s){R0.add(h);const m=document.activeElement;if(!s.contains(m)){const b=new CustomEvent(zh,$0);s.addEventListener(zh,l),s.dispatchEvent(b),b.defaultPrevented||(x5(E5(yE(s)),{select:!0}),document.activeElement===m&&Vn(s))}return()=>{s.removeEventListener(zh,l),setTimeout(()=>{const b=new CustomEvent(qh,$0);s.addEventListener(qh,u),s.dispatchEvent(b),b.defaultPrevented||Vn(m??document.body,{select:!0}),s.removeEventListener(qh,u),R0.remove(h)},0)}}},[s,l,u,h]);const g=x.useCallback(m=>{if(!r&&!n||h.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(v&&b){const w=m.currentTarget,[y,O]=_5(w);y&&O?!m.shiftKey&&b===O?(m.preventDefault(),r&&Vn(y,{select:!0})):m.shiftKey&&b===y&&(m.preventDefault(),r&&Vn(O,{select:!0})):b===w&&m.preventDefault()}},[r,n,h.paused]);return p.jsx(se.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});qg.displayName=w5;function x5(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Vn(n,{select:e}),document.activeElement!==r)return}function _5(t){const e=yE(t),r=N0(e,t),n=N0(e.reverse(),t);return[r,n]}function yE(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function N0(t,e){for(const r of t)if(!S5(r,{upTo:e}))return r}function S5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function O5(t){return t instanceof HTMLInputElement&&"select"in t}function Vn(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&O5(t)&&e&&t.select()}}var R0=A5();function A5(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=I0(t,e),t.unshift(e)},remove(e){var r;t=I0(t,e),(r=t[0])==null||r.resume()}}}function I0(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function E5(t){return t.filter(e=>e.tagName!=="A")}function P5(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var yf=t=>{const{present:e,children:r}=t,n=j5(e),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),a=ge(n.ref,T5(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:a}):null};yf.displayName="Presence";function j5(t){const[e,r]=x.useState(),n=x.useRef(null),i=x.useRef(t),a=x.useRef("none"),o=t?"mounted":"unmounted",[s,c]=P5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const l=ql(n.current);a.current=s==="mounted"?l:"none"},[s]),ot(()=>{const l=n.current,u=i.current;if(u!==t){const f=a.current,h=ql(l);t?c("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),ot(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,d=h=>{const m=ql(n.current).includes(CSS.escape(h.animationName));if(h.target===e&&m&&(c("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=h=>{h.target===e&&(a.current=ql(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:x.useCallback(l=>{n.current=l?getComputedStyle(l):null,r(l)},[])}}function ql(t){return(t==null?void 0:t.animationName)||"none"}function T5(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Hh=0;function C5(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??M0()),document.body.insertAdjacentElement("beforeend",t[1]??M0()),Hh++,()=>{Hh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hh--}},[])}function M0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gu="right-scroll-bar-position",yu="width-before-scroll-bar",k5="with-scroll-bars-hidden",$5="--removed-body-scroll-bar-size";function Kh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function N5(t,e){var r=x.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var R5=typeof window<"u"?x.useLayoutEffect:x.useEffect,D0=new WeakMap;function I5(t,e){var r=N5(null,function(n){return t.forEach(function(i){return Kh(i,n)})});return R5(function(){var n=D0.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(s){a.has(s)||Kh(s,null)}),a.forEach(function(s){i.has(s)||Kh(s,o)})}D0.set(r,t)},[t]),r}function M5(t){return t}function D5(t,e){e===void 0&&(e=M5);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var c=function(){var u=o;o=[],u.forEach(a)},l=function(){return Promise.resolve().then(c)};l(),r={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),r}}}};return i}function L5(t){t===void 0&&(t={});var e=D5(null);return e.options=cr({async:!0,ssr:!1},t),e}var bE=function(t){var e=t.sideCar,r=Ai(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,cr({},r))};bE.isSideCarExport=!0;function B5(t,e){return t.useMedium(e),bE}var wE=L5(),Vh=function(){},bf=x.forwardRef(function(t,e){var r=x.useRef(null),n=x.useState({onScrollCapture:Vh,onWheelCapture:Vh,onTouchMoveCapture:Vh}),i=n[0],a=n[1],o=t.forwardProps,s=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noRelative,g=t.noIsolation,m=t.inert,v=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,y=t.gapMode,O=Ai(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,S=I5([r,e]),A=cr(cr({},O),i);return x.createElement(x.Fragment,null,u&&x.createElement(_,{sideCar:wE,removeScrollBar:l,shards:d,noRelative:h,noIsolation:g,inert:m,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:y}),o?x.cloneElement(x.Children.only(s),cr(cr({},A),{ref:S})):x.createElement(w,cr({},A,{className:c,ref:S}),s))});bf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bf.classNames={fullWidth:yu,zeroRight:gu};var F5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=F5();return e&&t.setAttribute("nonce",e),t}function W5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function z5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var q5=function(){var t=0,e=null;return{add:function(r){t==0&&(e=U5())&&(W5(e,r),z5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},H5=function(){var t=q5();return function(e,r){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},xE=function(){var t=H5(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},K5={left:0,top:0,right:0,gap:0},Gh=function(t){return parseInt(t||"",10)||0},V5=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Gh(r),Gh(n),Gh(i)]},G5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return K5;var e=V5(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Y5=xE(),ho="data-scroll-locked",X5=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(k5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(ho,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gu,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(yu,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(gu," .").concat(gu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yu," .").concat(yu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ho,`] {
    `).concat($5,": ").concat(s,`px;
  }
`)},L0=function(){var t=parseInt(document.body.getAttribute(ho)||"0",10);return isFinite(t)?t:0},Q5=function(){x.useEffect(function(){return document.body.setAttribute(ho,(L0()+1).toString()),function(){var t=L0()-1;t<=0?document.body.removeAttribute(ho):document.body.setAttribute(ho,t.toString())}},[])},J5=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Q5();var a=x.useMemo(function(){return G5(i)},[i]);return x.createElement(Y5,{styles:X5(a,!e,i,r?"":"!important")})},vm=!1;if(typeof window<"u")try{var Hl=Object.defineProperty({},"passive",{get:function(){return vm=!0,!0}});window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{vm=!1}var qa=vm?{passive:!1}:!1,Z5=function(t){return t.tagName==="TEXTAREA"},_E=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Z5(t)&&r[e]==="visible")},e3=function(t){return _E(t,"overflowY")},t3=function(t){return _E(t,"overflowX")},B0=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=SE(t,n);if(i){var a=OE(t,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},r3=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},n3=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},SE=function(t,e){return t==="v"?e3(e):t3(e)},OE=function(t,e){return t==="v"?r3(e):n3(e)},i3=function(t,e){return t==="h"&&e==="rtl"?-1:1},a3=function(t,e,r,n,i){var a=i3(t,window.getComputedStyle(e).direction),o=a*n,s=r.target,c=e.contains(s),l=!1,u=o>0,d=0,f=0;do{if(!s)break;var h=OE(t,s),g=h[0],m=h[1],v=h[2],b=m-v-a*g;(g||b)&&SE(t,s)&&(d+=b,f+=g);var w=s.parentNode;s=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&s!==document.body||c&&(e.contains(s)||e===s));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(f)<1||!i))&&(l=!0),l},Kl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},F0=function(t){return[t.deltaX,t.deltaY]},U0=function(t){return t&&"current"in t?t.current:t},o3=function(t,e){return t[0]===e[0]&&t[1]===e[1]},s3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},c3=0,Ha=[];function l3(t){var e=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),i=x.useState(c3++)[0],a=x.useState(xE)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=Tg([t.lockRef.current],(t.shards||[]).map(U0),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=x.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=Kl(m),w=r.current,y="deltaX"in m?m.deltaX:w[0]-b[0],O="deltaY"in m?m.deltaY:w[1]-b[1],_,S=m.target,A=Math.abs(y)>Math.abs(O)?"h":"v";if("touches"in m&&A==="h"&&S.type==="range")return!1;var E=B0(A,S);if(!E)return!0;if(E?_=A:(_=A==="v"?"h":"v",E=B0(A,S)),!E)return!1;if(!n.current&&"changedTouches"in m&&(y||O)&&(n.current=_),!_)return!0;var j=n.current||_;return a3(j,v,m,j==="h"?y:O,!0)},[]),c=x.useCallback(function(m){var v=m;if(!(!Ha.length||Ha[Ha.length-1]!==a)){var b="deltaY"in v?F0(v):Kl(v),w=e.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&o3(_.delta,b)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var y=(o.current.shards||[]).map(U0).filter(Boolean).filter(function(_){return _.contains(v.target)}),O=y.length>0?s(v,y[0]):!o.current.noIsolation;O&&v.cancelable&&v.preventDefault()}}},[]),l=x.useCallback(function(m,v,b,w){var y={name:m,delta:v,target:b,should:w,shadowParent:u3(b)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(O){return O!==y})},1)},[]),u=x.useCallback(function(m){r.current=Kl(m),n.current=void 0},[]),d=x.useCallback(function(m){l(m.type,F0(m),m.target,s(m,t.lockRef.current))},[]),f=x.useCallback(function(m){l(m.type,Kl(m),m.target,s(m,t.lockRef.current))},[]);x.useEffect(function(){return Ha.push(a),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",c,qa),document.addEventListener("touchmove",c,qa),document.addEventListener("touchstart",u,qa),function(){Ha=Ha.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,qa),document.removeEventListener("touchmove",c,qa),document.removeEventListener("touchstart",u,qa)}},[]);var h=t.removeScrollBar,g=t.inert;return x.createElement(x.Fragment,null,g?x.createElement(a,{styles:s3(i)}):null,h?x.createElement(J5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function u3(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const d3=B5(wE,l3);var Hg=x.forwardRef(function(t,e){return x.createElement(bf,cr({},t,{ref:e,sideCar:d3}))});Hg.classNames=bf.classNames;var f3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ka=new WeakMap,Vl=new WeakMap,Gl={},Yh=0,AE=function(t){return t&&(t.host||AE(t.parentNode))},h3=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=AE(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},p3=function(t,e,r,n){var i=h3(e,Array.isArray(t)?t:[t]);Gl[r]||(Gl[r]=new WeakMap);var a=Gl[r],o=[],s=new Set,c=new Set(i),l=function(d){!d||s.has(d)||(s.add(d),l(d.parentNode))};i.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(s.has(f))u(f);else try{var h=f.getAttribute(n),g=h!==null&&h!=="false",m=(Ka.get(f)||0)+1,v=(a.get(f)||0)+1;Ka.set(f,m),a.set(f,v),o.push(f),m===1&&g&&Vl.set(f,!0),v===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(e),s.clear(),Yh++,function(){o.forEach(function(d){var f=Ka.get(d)-1,h=a.get(d)-1;Ka.set(d,f),a.set(d,h),f||(Vl.has(d)||d.removeAttribute(n),Vl.delete(d)),h||d.removeAttribute(r)}),Yh--,Yh||(Ka=new WeakMap,Ka=new WeakMap,Vl=new WeakMap,Gl={})}},EE=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=f3(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),p3(n,i,r,"aria-hidden")):function(){return null}},wf="Dialog",[PE,jE]=Ut(wf),[m3,Fr]=PE(wf),TE=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,s=x.useRef(null),c=x.useRef(null),[l,u]=jn({prop:n,defaultProp:i??!1,onChange:a,caller:wf});return p.jsx(m3,{scope:e,triggerRef:s,contentRef:c,contentId:pi(),titleId:pi(),descriptionId:pi(),open:l,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),modal:o,children:r})};TE.displayName=wf;var CE="DialogTrigger",kE=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(CE,r),a=ge(e,i.triggerRef);return p.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Gg(i.open),...n,ref:a,onClick:vi(t.onClick,i.onOpenToggle)})});kE.displayName=CE;var Kg="DialogPortal",[v3,$E]=PE(Kg,{forceMount:void 0}),NE=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Fr(Kg,e);return p.jsx(v3,{scope:e,forceMount:r,children:x.Children.map(n,o=>p.jsx(yf,{present:r||a.open,children:p.jsx(Zd,{asChild:!0,container:i,children:o})}))})};NE.displayName=Kg;var Fu="DialogOverlay",RE=x.forwardRef((t,e)=>{const r=$E(Fu,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Fr(Fu,t.__scopeDialog);return a.modal?p.jsx(yf,{present:n||a.open,children:p.jsx(y3,{...i,ref:e})}):null});RE.displayName=Fu;var g3=hc("DialogOverlay.RemoveScroll"),y3=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(Fu,r);return p.jsx(Hg,{as:g3,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(se.div,{"data-state":Gg(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),xa="DialogContent",IE=x.forwardRef((t,e)=>{const r=$E(xa,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Fr(xa,t.__scopeDialog);return p.jsx(yf,{present:n||a.open,children:a.modal?p.jsx(b3,{...i,ref:e}):p.jsx(w3,{...i,ref:e})})});IE.displayName=xa;var b3=x.forwardRef((t,e)=>{const r=Fr(xa,t.__scopeDialog),n=x.useRef(null),i=ge(e,r.contentRef,n);return x.useEffect(()=>{const a=n.current;if(a)return EE(a)},[]),p.jsx(ME,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vi(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:vi(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:vi(t.onFocusOutside,a=>a.preventDefault())})}),w3=x.forwardRef((t,e)=>{const r=Fr(xa,t.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return p.jsx(ME,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((l=r.triggerRef.current)==null?void 0:l.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),ME=x.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,s=Fr(xa,r),c=x.useRef(null),l=ge(e,c);return C5(),p.jsxs(p.Fragment,{children:[p.jsx(qg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:p.jsx(vE,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Gg(s.open),...o,ref:l,onDismiss:()=>s.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(_3,{titleId:s.titleId}),p.jsx(O3,{contentRef:c,descriptionId:s.descriptionId})]})]})}),Vg="DialogTitle",DE=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(Vg,r);return p.jsx(se.h2,{id:i.titleId,...n,ref:e})});DE.displayName=Vg;var LE="DialogDescription",BE=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(LE,r);return p.jsx(se.p,{id:i.descriptionId,...n,ref:e})});BE.displayName=LE;var FE="DialogClose",UE=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(FE,r);return p.jsx(se.button,{type:"button",...n,ref:e,onClick:vi(t.onClick,()=>i.onOpenChange(!1))})});UE.displayName=FE;function Gg(t){return t?"open":"closed"}var WE="DialogTitleWarning",[x3,zE]=BN(WE,{contentName:xa,titleName:Vg,docsSlug:"dialog"}),_3=({titleId:t})=>{const e=zE(WE),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},S3="DialogDescriptionWarning",O3=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zE(S3).contentName}}.`;return x.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},qE=TE,HE=kE,KE=NE,Yg=RE,Xg=IE,Qg=DE,Jg=BE,Zg=UE;const ey=qE,VE=HE,A3=KE,GE=x.forwardRef(({className:t,...e},r)=>p.jsx(Yg,{ref:r,className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));GE.displayName=Yg.displayName;const xf=x.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(A3,{children:[p.jsx(GE,{}),p.jsxs(Xg,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,p.jsxs(Zg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[p.jsx(fg,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xf.displayName=Xg.displayName;const _f=({className:t,...e})=>p.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});_f.displayName="DialogHeader";const YE=({className:t,...e})=>p.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});YE.displayName="DialogFooter";const Sf=x.forwardRef(({className:t,...e},r)=>p.jsx(Qg,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",t),...e}));Sf.displayName=Qg.displayName;const Of=x.forwardRef(({className:t,...e},r)=>p.jsx(Jg,{ref:r,className:J("text-sm text-muted-foreground",t),...e}));Of.displayName=Jg.displayName;function XE({date:t,isOpen:e,onClose:r,habits:n,records:i,onToggleHabit:a,isPrivacyMode:o=!1,readonly:s=!1}){if(!t)return null;const c=Ge(t,"yyyy-MM-dd"),l=n.filter(u=>{const d=u.start_date<=c,f=!u.end_date||u.end_date>=c;return d&&f});return p.jsx(ey,{open:e,onOpenChange:r,children:p.jsxs(xf,{className:"sm:max-w-[400px]",children:[p.jsxs(_f,{children:[p.jsx(Sf,{className:"text-xl font-display capitalize",children:Ge(t,"EEEE d MMMM",{locale:On})}),p.jsx(Of,{className:"sr-only",children:"Dettagli delle attivit giornaliere"})]}),p.jsx("div",{className:"py-2",children:p.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:p.jsx("div",{className:"space-y-3 pr-4",children:l.map(u=>{const f=(i[c]||{})[u.id],h=f==="done",g=f==="missed";return p.jsxs("div",{onClick:()=>!s&&a(u.id),className:J("flex items-center justify-between p-3 rounded-xl border transition-all",!s&&"cursor-pointer hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",s&&"opacity-90",h&&"bg-success/15 border-success/30",g&&"bg-destructive/15 border-destructive/30",!f&&"bg-card border-border",!f&&!s&&"hover:bg-accent"),children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"h-3 w-3 rounded-full ring-2 ring-offset-2 ring-offset-background",style:{backgroundColor:u.color}}),p.jsx("span",{className:J("font-medium transition-colors transition-all duration-300",(h||g)&&"text-foreground",o&&"blur-sm"),children:u.title})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[h&&p.jsx(rf,{className:"h-5 w-5 text-success"}),g&&p.jsx(fg,{className:"h-5 w-5 text-destructive"}),!f&&p.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-muted-foreground/30"})]})]},u.id)})})})})]})})}const E3=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"],P3=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];function j3({habits:t,records:e,onToggleHabit:r,isPrivacyMode:n=!1}){const[i,a]=x.useState(new Date),[o,s]=x.useState(null),c=i.getFullYear(),l=i.getMonth(),u=new Date(c,l,1),d=new Date(c,l+1,0);let f=u.getDay()-1;f<0&&(f=6);const h=d.getDate(),g=new Date,m=()=>a(new Date(c,l-1,1)),v=()=>a(new Date(c,l+1,1)),b=()=>a(new Date),w=_=>g.getDate()===_&&g.getMonth()===l&&g.getFullYear()===c,y=_=>{const S=new Date(c,l,_),A=new Date(g.getFullYear(),g.getMonth(),g.getDate());return S>A},O=()=>{const _=[];for(let S=0;S<f;S++)_.push(p.jsx("div",{className:"aspect-square"},`empty-${S}`));for(let S=1;S<=h;S++){const A=new Date(c,l,S),E=Ge(A,"yyyy-MM-dd"),j=e[E]||{},T=y(S),C=t.filter(D=>{const K=D.start_date<=E,X=!D.end_date||D.end_date>=E;return K&&X}),k=C.filter(D=>j[D.id]==="done").length,L=C.filter(D=>j[D.id]==="missed").length,R=k+L,M=C.length;let $=0;M>0&&($=k/M);let I={};const F=R>0;if(F&&M>0){const D=Math.round($*142);I={backgroundColor:`hsl(${D}, 70%, 10%, 0.3)`,borderColor:`hsl(${D}, 80%, 40%, 0.5)`,boxShadow:$===1?`0 0 10px hsl(${D}, 80%, 40%, 0.2)`:"none"}}_.push(p.jsxs("button",{onClick:()=>!T&&s(A),disabled:T,style:I,className:J("aspect-square rounded-xl flex flex-col items-center justify-start py-[clamp(4px,1vw,8px)] transition-all duration-300 relative border border-white/5 hover:border-white/20 hover:bg-white/5 group",T&&"opacity-30 cursor-not-allowed",w(S)&&!F&&"bg-white/5 ring-1 ring-primary/50"),children:[p.jsx("span",{className:J("text-[clamp(0.7rem,2.5vw,0.9rem)] font-medium mb-[2px] font-mono-nums transition-all duration-300",w(S)&&"text-primary font-bold",F&&"text-foreground",n&&"blur-[2px]"),children:S}),p.jsx("div",{className:J("flex flex-wrap items-center justify-center gap-0.5 px-1 w-full max-w-[80%] transition-all duration-300",n&&"blur-[1px]"),children:C.map(D=>{const K=j[D.id];return K?p.jsx("div",{className:J("w-1 h-1 rounded-sm",K==="done"?"opacity-80":"opacity-0"),style:{backgroundColor:K==="done"?D.color:void 0}},D.id):null})})]},S))}return _};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"w-full h-full p-4 sm:p-6 animate-scale-in",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx(Ze,{variant:"ghost",size:"icon",onClick:m,children:p.jsx(F1,{className:"h-5 w-5"})}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:[P3[l]," ",p.jsx("span",{className:"text-muted-foreground font-light",children:c})]}),p.jsx(Ze,{variant:"ghost",size:"icon",onClick:b,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:p.jsx(qR,{className:"h-3 w-3"})})]}),p.jsx(Ze,{variant:"ghost",size:"icon",onClick:v,children:p.jsx(U1,{className:"h-5 w-5"})})]}),p.jsx("div",{className:"grid grid-cols-7 gap-[clamp(4px,1.5vw,12px)] mb-2",children:E3.map(_=>p.jsx("div",{className:"text-center text-[10px] sm:text-xs font-semibold text-muted-foreground uppercase tracking-wider py-2",children:_},_))}),p.jsx("div",{className:"grid grid-cols-7 gap-[clamp(4px,1.5vw,12px)]",children:O()})]}),p.jsx(XE,{isOpen:!!o,onClose:()=>s(null),date:o,habits:t,records:e,onToggleHabit:_=>o&&r(o,_),isPrivacyMode:n})]})}function T3({habits:t,records:e,onToggleHabit:r,isPrivacyMode:n=!1}){const i=x.useMemo(()=>new Date,[]),[a,o]=x.useState(new Date),s=x.useMemo(()=>pr(a,{weekStartsOn:1}),[a]),c=x.useMemo(()=>jB(a,{weekStartsOn:1}),[a]),[l,u]=x.useState(null),d=x.useMemo(()=>Array.from({length:7}).map((m,v)=>Du(s,v)),[s]),f=()=>{o(m=>Ht(m,7))},h=()=>{o(m=>Du(m,7))},g=x.useMemo(()=>{const m=Ge(s,"d",{locale:On}),v=Ge(c,"d MMMM",{locale:On});return`${m} - ${v}`},[s,c]);return _0(pr(i,{weekStartsOn:1}),s),p.jsxs("div",{className:"w-full h-full p-6 animate-scale-in",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-xl font-display font-bold capitalize",children:g}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:p.jsx(F1,{className:"w-5 h-5"})}),p.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:p.jsx(U1,{className:"w-5 h-5"})})]})]}),p.jsx("div",{className:"grid grid-cols-7 gap-2 sm:gap-4",children:d.map(m=>{const v=Ge(m,"yyyy-MM-dd"),b=e[v]||{},w=_0(m,i),y=new Date(i);y.setHours(0,0,0,0);const O=m>y;return p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("button",{onClick:()=>!O&&u(m),disabled:O,className:J("text-center py-2 rounded-xl border border-transparent transition-all w-full",w&&"bg-primary/10 border-primary/20 text-primary",!O&&"hover:bg-white/5 hover:border-white/10 cursor-pointer active:scale-95",O&&"opacity-50 cursor-default"),children:[p.jsx("div",{className:"text-[10px] uppercase font-bold opacity-60",children:Ge(m,"EEE",{locale:On})}),p.jsx("div",{className:"text-lg font-mono font-bold",children:Ge(m,"d")})]}),p.jsx("div",{className:J("flex flex-col gap-2 transition-all duration-300",n&&"blur-[2px]"),children:t.map(_=>{const S=_.start_date<=v,A=_.end_date&&_.end_date<v;if(!S||A)return p.jsx("div",{className:"aspect-square rounded-xl invisible"},_.id);const E=b[_.id];return p.jsx("button",{disabled:O,onClick:()=>u(m),className:J("aspect-square rounded-xl border border-white/5 flex items-center justify-center transition-all hover:border-white/20",O&&"opacity-30 cursor-not-allowed",!O&&"cursor-pointer hover:bg-white/10",E==="done"&&"opacity-100 shadow-[0_0_10px_currentColor]",E==="missed"&&"opacity-50 grayscale",!E&&!O&&"bg-white/5"),style:{backgroundColor:E==="done"?_.color:void 0,color:_.color}},_.id)})})]},v)})}),p.jsx(XE,{isOpen:!!l,onClose:()=>u(null),date:l,habits:t,records:e,onToggleHabit:m=>l&&r(l,m),isPrivacyMode:n,readonly:!0})]})}function C3({habits:t,records:e,onToggleHabit:r,isPrivacyMode:n=!1,date:i=new Date}){const a=qi(i),o=e[a]||{},s=t.filter(c=>{const l=c.start_date<=a,u=!c.end_date||c.end_date>=a;return l&&u});return p.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-scale-in max-w-lg mx-auto w-full",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-2xl font-display font-bold",children:"Focus Giornaliero"}),p.jsx("p",{className:"text-muted-foreground capitalize",children:Ge(i,"EEEE d MMMM",{locale:On})})]}),p.jsxs("div",{className:"space-y-3",children:[s.length===0&&p.jsxs("div",{className:"text-center py-12 border border-dashed border-white/10 rounded-xl",children:[p.jsx("p",{className:"text-muted-foreground",children:"Nessun obiettivo per oggi."}),p.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:"Aggiungine alcuni dalle impostazioni."})]}),s.map(c=>{const l=o[c.id];return p.jsxs("div",{onClick:()=>r(i,c.id),className:J("group relative overflow-hidden p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all cursor-pointer flex items-center justify-between",l==="done"&&"border-primary/20 bg-primary/5"),children:[p.jsx("div",{className:J("absolute inset-0 opacity-0 transition-opacity duration-500",l==="done"&&"opacity-10"),style:{backgroundColor:c.color}}),p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:J("w-8 h-8 rounded-lg border-2 flex items-center justify-center transition-all",l==="done"?"border-transparent text-black":"border-white/20 text-transparent"),style:{backgroundColor:l==="done"?c.color:"transparent",borderColor:l==="done"?void 0:c.color},children:p.jsx(rf,{className:"w-5 h-5"})}),p.jsx("span",{className:J("text-lg font-medium transition-colors transition-all duration-300",l==="done"?"text-foreground":"text-muted-foreground group-hover:text-foreground",n&&"blur-sm"),children:c.title})]}),l==="missed"&&p.jsx("span",{className:"text-xs uppercase font-bold text-destructive tracking-widest px-2 py-1 rounded bg-destructive/10",children:"Saltato"})]},c.id)})]})]})}const Io=x.forwardRef(({className:t,type:e,...r},n)=>p.jsx("input",{type:e,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Io.displayName="Input";var k3="Label",QE=x.forwardRef((t,e)=>p.jsx(se.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));QE.displayName=k3;var JE=QE;const $3=ag("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mo=x.forwardRef(({className:t,...e},r)=>p.jsx(JE,{ref:r,className:J($3(),t),...e}));Mo.displayName=JE.displayName;function gm(t,[e,r]){return Math.min(r,Math.max(e,t))}var N3=x.createContext(void 0);function gl(t){const e=x.useContext(N3);return t||e||"ltr"}var Xh=0;function R3(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??W0()),document.body.insertAdjacentElement("beforeend",t[1]??W0()),Xh++,()=>{Xh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xh--}},[])}function W0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function Af(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var I3=[" ","Enter","ArrowUp","ArrowDown"],M3=[" ","Enter"],_a="Select",[Ef,Pf,D3]=og(_a),[_s,Mpe]=Ut(_a,[D3,cf]),jf=cf(),[L3,Pi]=_s(_a),[B3,F3]=_s(_a),ZE=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:f,required:h,form:g}=t,m=jf(e),[v,b]=x.useState(null),[w,y]=x.useState(null),[O,_]=x.useState(!1),S=gl(l),[A,E]=jn({prop:n,defaultProp:i??!1,onChange:a,caller:_a}),[j,T]=jn({prop:o,defaultProp:s,onChange:c,caller:_a}),C=x.useRef(null),k=v?g||!!v.closest("form"):!0,[L,R]=x.useState(new Set),M=Array.from(L).map($=>$.props.value).join(";");return p.jsx(JM,{...m,children:p.jsxs(L3,{required:h,scope:e,trigger:v,onTriggerChange:b,valueNode:w,onValueNodeChange:y,valueNodeHasChildren:O,onValueNodeHasChildrenChange:_,contentId:pi(),value:j,onValueChange:T,open:A,onOpenChange:E,dir:S,triggerPointerDownPosRef:C,disabled:f,children:[p.jsx(Ef.Provider,{scope:e,children:p.jsx(B3,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback($=>{R(I=>new Set(I).add($))},[]),onNativeOptionRemove:x.useCallback($=>{R(I=>{const F=new Set(I);return F.delete($),F})},[]),children:r})}),k?p.jsxs(SP,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:d,value:j,onChange:$=>T($.target.value),disabled:f,form:g,children:[j===void 0?p.jsx("option",{value:""}):null,Array.from(L)]},M):null]})})};ZE.displayName=_a;var eP="SelectTrigger",tP=x.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=jf(r),o=Pi(eP,r),s=o.disabled||n,c=ge(e,o.onTriggerChange),l=Pf(r),u=x.useRef("touch"),[d,f,h]=AP(m=>{const v=l().filter(y=>!y.disabled),b=v.find(y=>y.value===o.value),w=EP(v,m,b);w!==void 0&&o.onValueChange(w.value)}),g=m=>{s||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return p.jsx(mO,{asChild:!0,...a,children:p.jsx(se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":OP(o.value)?"":void 0,...i,ref:c,onClick:oe(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&g(m)}),onPointerDown:oe(i.onPointerDown,m=>{u.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:oe(i.onKeyDown,m=>{const v=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(v&&m.key===" ")&&I3.includes(m.key)&&(g(),m.preventDefault())})})})});tP.displayName=eP;var rP="SelectValue",nP=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=t,c=Pi(rP,r),{onValueNodeHasChildrenChange:l}=c,u=a!==void 0,d=ge(e,c.onValueNodeChange);return ot(()=>{l(u)},[l,u]),p.jsx(se.span,{...s,ref:d,style:{pointerEvents:"none"},children:OP(c.value)?p.jsx(p.Fragment,{children:o}):a})});nP.displayName=rP;var U3="SelectIcon",iP=x.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return p.jsx(se.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});iP.displayName=U3;var W3="SelectPortal",aP=t=>p.jsx(Zd,{asChild:!0,...t});aP.displayName=W3;var Sa="SelectContent",oP=x.forwardRef((t,e)=>{const r=Pi(Sa,t.__scopeSelect),[n,i]=x.useState();if(ot(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?ms.createPortal(p.jsx(sP,{scope:t.__scopeSelect,children:p.jsx(Ef.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),a):null}return p.jsx(cP,{...t,ref:e})});oP.displayName=Sa;var Er=10,[sP,ji]=_s(Sa),z3="SelectContentImpl",q3=hc("SelectContent.RemoveScroll"),cP=x.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v,...b}=t,w=Pi(Sa,r),[y,O]=x.useState(null),[_,S]=x.useState(null),A=ge(e,Q=>O(Q)),[E,j]=x.useState(null),[T,C]=x.useState(null),k=Pf(r),[L,R]=x.useState(!1),M=x.useRef(!1);x.useEffect(()=>{if(y)return EE(y)},[y]),R3();const $=x.useCallback(Q=>{const[B,...U]=k().map(W=>W.ref.current),[H]=U.slice(-1),G=document.activeElement;for(const W of Q)if(W===G||(W==null||W.scrollIntoView({block:"nearest"}),W===B&&_&&(_.scrollTop=0),W===H&&_&&(_.scrollTop=_.scrollHeight),W==null||W.focus(),document.activeElement!==G))return},[k,_]),I=x.useCallback(()=>$([E,y]),[$,E,y]);x.useEffect(()=>{L&&I()},[L,I]);const{onOpenChange:F,triggerPointerDownPosRef:D}=w;x.useEffect(()=>{if(y){let Q={x:0,y:0};const B=H=>{var G,W;Q={x:Math.abs(Math.round(H.pageX)-(((G=D.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(H.pageY)-(((W=D.current)==null?void 0:W.y)??0))}},U=H=>{Q.x<=10&&Q.y<=10?H.preventDefault():y.contains(H.target)||F(!1),document.removeEventListener("pointermove",B),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",U,{capture:!0})}}},[y,F,D]),x.useEffect(()=>{const Q=()=>F(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[F]);const[K,X]=AP(Q=>{const B=k().filter(G=>!G.disabled),U=B.find(G=>G.ref.current===document.activeElement),H=EP(B,Q,U);H&&setTimeout(()=>H.ref.current.focus())}),q=x.useCallback((Q,B,U)=>{const H=!M.current&&!U;(w.value!==void 0&&w.value===B||H)&&(j(Q),H&&(M.current=!0))},[w.value]),V=x.useCallback(()=>y==null?void 0:y.focus(),[y]),ee=x.useCallback((Q,B,U)=>{const H=!M.current&&!U;(w.value!==void 0&&w.value===B||H)&&C(Q)},[w.value]),ie=n==="popper"?ym:lP,_e=ie===ym?{side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return p.jsx(sP,{scope:r,content:y,viewport:_,onViewportChange:S,itemRefCallback:q,selectedItem:E,onItemLeave:V,itemTextRefCallback:ee,focusSelectedItem:I,selectedItemText:T,position:n,isPositioned:L,searchRef:K,children:p.jsx(Hg,{as:q3,allowPinchZoom:!0,children:p.jsx(qg,{asChild:!0,trapped:w.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:oe(i,Q=>{var B;(B=w.trigger)==null||B.focus({preventScroll:!0}),Q.preventDefault()}),children:p.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:p.jsx(ie,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:Q=>Q.preventDefault(),...b,..._e,onPlaced:()=>R(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:oe(b.onKeyDown,Q=>{const B=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!B&&Q.key.length===1&&X(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let H=k().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const G=Q.target,W=H.indexOf(G);H=H.slice(W+1)}setTimeout(()=>$(H)),Q.preventDefault()}})})})})})})});cP.displayName=z3;var H3="SelectItemAlignedPosition",lP=x.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Pi(Sa,r),o=ji(Sa,r),[s,c]=x.useState(null),[l,u]=x.useState(null),d=ge(e,A=>u(A)),f=Pf(r),h=x.useRef(!1),g=x.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:b,focusSelectedItem:w}=o,y=x.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&l&&m&&v&&b){const A=a.trigger.getBoundingClientRect(),E=l.getBoundingClientRect(),j=a.valueNode.getBoundingClientRect(),T=b.getBoundingClientRect();if(a.dir!=="rtl"){const G=T.left-E.left,W=j.left-G,ve=A.left-W,he=A.width+ve,je=Math.max(he,E.width),Ae=window.innerWidth-Er,Ee=gm(W,[Er,Math.max(Er,Ae-je)]);s.style.minWidth=he+"px",s.style.left=Ee+"px"}else{const G=E.right-T.right,W=window.innerWidth-j.right-G,ve=window.innerWidth-A.right-W,he=A.width+ve,je=Math.max(he,E.width),Ae=window.innerWidth-Er,Ee=gm(W,[Er,Math.max(Er,Ae-je)]);s.style.minWidth=he+"px",s.style.right=Ee+"px"}const C=f(),k=window.innerHeight-Er*2,L=m.scrollHeight,R=window.getComputedStyle(l),M=parseInt(R.borderTopWidth,10),$=parseInt(R.paddingTop,10),I=parseInt(R.borderBottomWidth,10),F=parseInt(R.paddingBottom,10),D=M+$+L+F+I,K=Math.min(v.offsetHeight*5,D),X=window.getComputedStyle(m),q=parseInt(X.paddingTop,10),V=parseInt(X.paddingBottom,10),ee=A.top+A.height/2-Er,ie=k-ee,_e=v.offsetHeight/2,Q=v.offsetTop+_e,B=M+$+Q,U=D-B;if(B<=ee){const G=C.length>0&&v===C[C.length-1].ref.current;s.style.bottom="0px";const W=l.clientHeight-m.offsetTop-m.offsetHeight,ve=Math.max(ie,_e+(G?V:0)+W+I),he=B+ve;s.style.height=he+"px"}else{const G=C.length>0&&v===C[0].ref.current;s.style.top="0px";const ve=Math.max(ee,M+m.offsetTop+(G?q:0)+_e)+U;s.style.height=ve+"px",m.scrollTop=B-ee+m.offsetTop}s.style.margin=`${Er}px 0`,s.style.minHeight=K+"px",s.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[f,a.trigger,a.valueNode,s,l,m,v,b,a.dir,n]);ot(()=>y(),[y]);const[O,_]=x.useState();ot(()=>{l&&_(window.getComputedStyle(l).zIndex)},[l]);const S=x.useCallback(A=>{A&&g.current===!0&&(y(),w==null||w(),g.current=!1)},[y,w]);return p.jsx(V3,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:S,children:p.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:p.jsx(se.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});lP.displayName=H3;var K3="SelectPopperPosition",ym=x.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Er,...a}=t,o=jf(r);return p.jsx(vO,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ym.displayName=K3;var[V3,ty]=_s(Sa,{}),bm="SelectViewport",uP=x.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=ji(bm,r),o=ty(bm,r),s=ge(e,a.onViewportChange),c=x.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),p.jsx(Ef.Slot,{scope:r,children:p.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:oe(i.onScroll,l=>{const u=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const h=Math.abs(c.current-u.scrollTop);if(h>0){const g=window.innerHeight-Er*2,m=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),b=Math.max(m,v);if(b<g){const w=b+h,y=Math.min(g,w),O=w-y;d.style.height=y+"px",d.style.bottom==="0px"&&(u.scrollTop=O>0?O:0,d.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});uP.displayName=bm;var dP="SelectGroup",[G3,Y3]=_s(dP),X3=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=pi();return p.jsx(G3,{scope:r,id:i,children:p.jsx(se.div,{role:"group","aria-labelledby":i,...n,ref:e})})});X3.displayName=dP;var fP="SelectLabel",hP=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Y3(fP,r);return p.jsx(se.div,{id:i.id,...n,ref:e})});hP.displayName=fP;var Uu="SelectItem",[Q3,pP]=_s(Uu),mP=x.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,s=Pi(Uu,r),c=ji(Uu,r),l=s.value===n,[u,d]=x.useState(a??""),[f,h]=x.useState(!1),g=ge(e,w=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,w,n,i)}),m=pi(),v=x.useRef("touch"),b=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(Q3,{scope:r,value:n,disabled:i,textId:m,isSelected:l,onItemTextChange:x.useCallback(w=>{d(y=>y||((w==null?void 0:w.textContent)??"").trim())},[]),children:p.jsx(Ef.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:p.jsx(se.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":l&&f,"data-state":l?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:oe(o.onFocus,()=>h(!0)),onBlur:oe(o.onBlur,()=>h(!1)),onClick:oe(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:oe(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:oe(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:oe(o.onPointerMove,w=>{var y;v.current=w.pointerType,i?(y=c.onItemLeave)==null||y.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,w=>{var y;w.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:oe(o.onKeyDown,w=>{var O;((O=c.searchRef)==null?void 0:O.current)!==""&&w.key===" "||(M3.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});mP.displayName=Uu;var Zs="SelectItemText",vP=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=Pi(Zs,r),s=ji(Zs,r),c=pP(Zs,r),l=F3(Zs,r),[u,d]=x.useState(null),f=ge(e,b=>d(b),c.onItemTextChange,b=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,b,c.value,c.disabled)}),h=u==null?void 0:u.textContent,g=x.useMemo(()=>p.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=l;return ot(()=>(m(g),()=>v(g)),[m,v,g]),p.jsxs(p.Fragment,{children:[p.jsx(se.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ms.createPortal(a.children,o.valueNode):null]})});vP.displayName=Zs;var gP="SelectItemIndicator",yP=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return pP(gP,r).isSelected?p.jsx(se.span,{"aria-hidden":!0,...n,ref:e}):null});yP.displayName=gP;var wm="SelectScrollUpButton",bP=x.forwardRef((t,e)=>{const r=ji(wm,t.__scopeSelect),n=ty(wm,t.__scopeSelect),[i,a]=x.useState(!1),o=ge(e,n.onScrollButtonChange);return ot(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollTop>0;a(l)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?p.jsx(xP,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});bP.displayName=wm;var xm="SelectScrollDownButton",wP=x.forwardRef((t,e)=>{const r=ji(xm,t.__scopeSelect),n=ty(xm,t.__scopeSelect),[i,a]=x.useState(!1),o=ge(e,n.onScrollButtonChange);return ot(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;a(u)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?p.jsx(xP,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});wP.displayName=xm;var xP=x.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=ji("SelectScrollButton",r),o=x.useRef(null),s=Pf(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),ot(()=>{var u;const l=s().find(d=>d.ref.current===document.activeElement);(u=l==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),p.jsx(se.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:oe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:oe(i.onPointerMove,()=>{var l;(l=a.onItemLeave)==null||l.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:oe(i.onPointerLeave,()=>{c()})})}),J3="SelectSeparator",_P=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return p.jsx(se.div,{"aria-hidden":!0,...n,ref:e})});_P.displayName=J3;var _m="SelectArrow",Z3=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=jf(r),a=Pi(_m,r),o=ji(_m,r);return a.open&&o.position==="popper"?p.jsx(gO,{...i,...n,ref:e}):null});Z3.displayName=_m;var eU="SelectBubbleInput",SP=x.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=x.useRef(null),a=ge(n,i),o=Af(e);return x.useEffect(()=>{const s=i.current;if(!s)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(s,e),s.dispatchEvent(d)}},[o,e]),p.jsx(se.select,{...r,style:{...v1,...r.style},ref:a,defaultValue:e})});SP.displayName=eU;function OP(t){return t===""||t===void 0}function AP(t){const e=et(t),r=x.useRef(""),n=x.useRef(0),i=x.useCallback(o=>{const s=r.current+o;e(s),function c(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(s)},[e]),a=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function EP(t,e,r){const i=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=tU(t,Math.max(a,0));i.length===1&&(o=o.filter(l=>l!==r));const c=o.find(l=>l.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function tU(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var rU=ZE,PP=tP,nU=nP,iU=iP,aU=aP,jP=oP,oU=uP,TP=hP,CP=mP,sU=vP,cU=yP,kP=bP,$P=wP,NP=_P;const Hi=rU,ec=nU,Yn=x.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(PP,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,p.jsx(iU,{asChild:!0,children:p.jsx(B1,{className:"h-4 w-4 opacity-50"})})]}));Yn.displayName=PP.displayName;const RP=x.forwardRef(({className:t,...e},r)=>p.jsx(kP,{ref:r,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(kR,{className:"h-4 w-4"})}));RP.displayName=kP.displayName;const IP=x.forwardRef(({className:t,...e},r)=>p.jsx($P,{ref:r,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(B1,{className:"h-4 w-4"})}));IP.displayName=$P.displayName;const Xn=x.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>p.jsx(aU,{children:p.jsxs(jP,{ref:i,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[p.jsx(RP,{}),p.jsx(oU,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(IP,{})]})}));Xn.displayName=jP.displayName;const lU=x.forwardRef(({className:t,...e},r)=>p.jsx(TP,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));lU.displayName=TP.displayName;const Pr=x.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(CP,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(cU,{children:p.jsx(rf,{className:"h-4 w-4"})})}),p.jsx(sU,{children:e})]}));Pr.displayName=CP.displayName;const uU=x.forwardRef(({className:t,...e},r)=>p.jsx(NP,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",t),...e}));uU.displayName=NP.displayName;function dU(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var ry="ScrollArea",[MP,Dpe]=Ut(ry),[fU,vr]=MP(ry),DP=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=t,[s,c]=x.useState(null),[l,u]=x.useState(null),[d,f]=x.useState(null),[h,g]=x.useState(null),[m,v]=x.useState(null),[b,w]=x.useState(0),[y,O]=x.useState(0),[_,S]=x.useState(!1),[A,E]=x.useState(!1),j=ge(e,C=>c(C)),T=gl(i);return p.jsx(fU,{scope:r,type:n,dir:T,scrollHideDelay:a,scrollArea:s,viewport:l,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:E,onCornerWidthChange:w,onCornerHeightChange:O,children:p.jsx(se.div,{dir:T,...o,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":y+"px",...t.style}})})});DP.displayName=ry;var LP="ScrollAreaViewport",BP=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=t,o=vr(LP,r),s=x.useRef(null),c=ge(e,s,o.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),p.jsx(se.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});BP.displayName=LP;var dn="ScrollAreaScrollbar",ny=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=vr(dn,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=t.orientation==="horizontal";return x.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?p.jsx(hU,{...n,ref:e,forceMount:r}):i.type==="scroll"?p.jsx(pU,{...n,ref:e,forceMount:r}):i.type==="auto"?p.jsx(FP,{...n,ref:e,forceMount:r}):i.type==="always"?p.jsx(iy,{...n,ref:e}):null});ny.displayName=dn;var hU=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=vr(dn,t.__scopeScrollArea),[a,o]=x.useState(!1);return x.useEffect(()=>{const s=i.scrollArea;let c=0;if(s){const l=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",l),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),s.removeEventListener("pointerenter",l),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(ln,{present:r||a,children:p.jsx(FP,{"data-state":a?"visible":"hidden",...n,ref:e})})}),pU=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=vr(dn,t.__scopeScrollArea),a=t.orientation==="horizontal",o=Cf(()=>c("SCROLL_END"),100),[s,c]=dU("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(s==="idle"){const l=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[s,i.scrollHideDelay,c]),x.useEffect(()=>{const l=i.viewport,u=a?"scrollLeft":"scrollTop";if(l){let d=l[u];const f=()=>{const h=l[u];d!==h&&(c("SCROLL"),o()),d=h};return l.addEventListener("scroll",f),()=>l.removeEventListener("scroll",f)}},[i.viewport,a,c,o]),p.jsx(ln,{present:r||s!=="hidden",children:p.jsx(iy,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:oe(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:oe(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),FP=x.forwardRef((t,e)=>{const r=vr(dn,t.__scopeScrollArea),{forceMount:n,...i}=t,[a,o]=x.useState(!1),s=t.orientation==="horizontal",c=Cf(()=>{if(r.viewport){const l=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?l:u)}},10);return Do(r.viewport,c),Do(r.content,c),p.jsx(ln,{present:n||a,children:p.jsx(iy,{"data-state":a?"visible":"hidden",...i,ref:e})})}),iy=x.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=vr(dn,t.__scopeScrollArea),a=x.useRef(null),o=x.useRef(0),[s,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=HP(s.viewport,s.content),u={...n,sizes:s,onSizesChange:c,hasThumb:l>0&&l<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function d(f,h){return wU(f,o.current,s,h)}return r==="horizontal"?p.jsx(mU,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollLeft,h=z0(f,s,i.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=d(f,i.dir))}}):r==="vertical"?p.jsx(vU,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollTop,h=z0(f,s);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=d(f))}}):null}),mU=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=vr(dn,t.__scopeScrollArea),[o,s]=x.useState(),c=x.useRef(null),l=ge(e,c,a.onScrollbarXChange);return x.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),p.jsx(WP,{"data-orientation":"horizontal",...i,ref:l,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tf(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(a.viewport){const f=a.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),VP(f,d)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:zu(o.paddingLeft),paddingEnd:zu(o.paddingRight)}})}})}),vU=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=vr(dn,t.__scopeScrollArea),[o,s]=x.useState(),c=x.useRef(null),l=ge(e,c,a.onScrollbarYChange);return x.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),p.jsx(WP,{"data-orientation":"vertical",...i,ref:l,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tf(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(a.viewport){const f=a.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),VP(f,d)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:zu(o.paddingTop),paddingEnd:zu(o.paddingBottom)}})}})}),[gU,UP]=MP(dn),WP=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:c,onDragScroll:l,onWheelScroll:u,onResize:d,...f}=t,h=vr(dn,r),[g,m]=x.useState(null),v=ge(e,j=>m(j)),b=x.useRef(null),w=x.useRef(""),y=h.viewport,O=n.content-n.viewport,_=et(u),S=et(c),A=Cf(d,10);function E(j){if(b.current){const T=j.clientX-b.current.left,C=j.clientY-b.current.top;l({x:T,y:C})}}return x.useEffect(()=>{const j=T=>{const C=T.target;(g==null?void 0:g.contains(C))&&_(T,O)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[y,g,O,_]),x.useEffect(S,[n,S]),Do(g,A),Do(h.content,A),p.jsx(gU,{scope:r,scrollbar:g,hasThumb:i,onThumbChange:et(a),onThumbPointerUp:et(o),onThumbPositionChange:S,onThumbPointerDown:et(s),children:p.jsx(se.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:oe(t.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),b.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(j))}),onPointerMove:oe(t.onPointerMove,E),onPointerUp:oe(t.onPointerUp,j=>{const T=j.target;T.hasPointerCapture(j.pointerId)&&T.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=w.current,h.viewport&&(h.viewport.style.scrollBehavior=""),b.current=null})})})}),Wu="ScrollAreaThumb",zP=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=UP(Wu,t.__scopeScrollArea);return p.jsx(ln,{present:r||i.hasThumb,children:p.jsx(yU,{ref:e,...n})})}),yU=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,a=vr(Wu,r),o=UP(Wu,r),{onThumbPositionChange:s}=o,c=ge(e,d=>o.onThumbChange(d)),l=x.useRef(void 0),u=Cf(()=>{l.current&&(l.current(),l.current=void 0)},100);return x.useEffect(()=>{const d=a.viewport;if(d){const f=()=>{if(u(),!l.current){const h=xU(d,s);l.current=h,s()}};return s(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,u,s]),p.jsx(se.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:oe(t.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),g=d.clientX-h.left,m=d.clientY-h.top;o.onThumbPointerDown({x:g,y:m})}),onPointerUp:oe(t.onPointerUp,o.onThumbPointerUp)})});zP.displayName=Wu;var ay="ScrollAreaCorner",qP=x.forwardRef((t,e)=>{const r=vr(ay,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?p.jsx(bU,{...t,ref:e}):null});qP.displayName=ay;var bU=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=vr(ay,r),[a,o]=x.useState(0),[s,c]=x.useState(0),l=!!(a&&s);return Do(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),c(u)}),Do(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),l?p.jsx(se.div,{...n,ref:e,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function zu(t){return t?parseInt(t,10):0}function HP(t,e){const r=t/e;return isNaN(r)?0:r}function Tf(t){const e=HP(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function wU(t,e,r,n="ltr"){const i=Tf(r),a=i/2,o=e||a,s=i-o,c=r.scrollbar.paddingStart+o,l=r.scrollbar.size-r.scrollbar.paddingEnd-s,u=r.content-r.viewport,d=n==="ltr"?[0,u]:[u*-1,0];return KP([c,l],d)(t)}function z0(t,e,r="ltr"){const n=Tf(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,s=a-n,c=r==="ltr"?[0,o]:[o*-1,0],l=gm(t,c);return KP([0,o],[0,s])(l)}function KP(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function VP(t,e){return t>0&&t<e}var xU=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&e(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function Cf(t,e){const r=et(t),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Do(t,e){const r=et(e);ot(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var GP=DP,_U=BP,SU=qP;const YP=x.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(GP,{ref:n,className:J("relative overflow-hidden",t),...r,children:[p.jsx(_U,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(XP,{}),p.jsx(SU,{})]}));YP.displayName=GP.displayName;const XP=x.forwardRef(({className:t,orientation:e="vertical",...r},n)=>p.jsx(ny,{ref:n,orientation:e,className:J("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:p.jsx(zP,{className:"relative flex-1 rounded-full bg-border"})}));XP.displayName=ny.displayName;function OU(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var QP="AlertDialog",[AU,Lpe]=Ut(QP,[jE]),Dn=jE(),JP=t=>{const{__scopeAlertDialog:e,...r}=t,n=Dn(e);return p.jsx(qE,{...n,...r,modal:!0})};JP.displayName=QP;var EU="AlertDialogTrigger",ZP=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Dn(r);return p.jsx(HE,{...i,...n,ref:e})});ZP.displayName=EU;var PU="AlertDialogPortal",ej=t=>{const{__scopeAlertDialog:e,...r}=t,n=Dn(e);return p.jsx(KE,{...n,...r})};ej.displayName=PU;var jU="AlertDialogOverlay",tj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Dn(r);return p.jsx(Yg,{...i,...n,ref:e})});tj.displayName=jU;var po="AlertDialogContent",[TU,CU]=AU(po),kU=c1("AlertDialogContent"),rj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=Dn(r),o=x.useRef(null),s=ge(e,o),c=x.useRef(null);return p.jsx(x3,{contentName:po,titleName:nj,docsSlug:"alert-dialog",children:p.jsx(TU,{scope:r,cancelRef:c,children:p.jsxs(Xg,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:OU(i.onOpenAutoFocus,l=>{var u;l.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:l=>l.preventDefault(),onInteractOutside:l=>l.preventDefault(),children:[p.jsx(kU,{children:n}),p.jsx(NU,{contentRef:o})]})})})});rj.displayName=po;var nj="AlertDialogTitle",ij=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Dn(r);return p.jsx(Qg,{...i,...n,ref:e})});ij.displayName=nj;var aj="AlertDialogDescription",oj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Dn(r);return p.jsx(Jg,{...i,...n,ref:e})});oj.displayName=aj;var $U="AlertDialogAction",sj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Dn(r);return p.jsx(Zg,{...i,...n,ref:e})});sj.displayName=$U;var cj="AlertDialogCancel",lj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=CU(cj,r),a=Dn(r),o=ge(e,i);return p.jsx(Zg,{...a,...n,ref:o})});lj.displayName=cj;var NU=({contentRef:t})=>{const e=`\`${po}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${po}\` by passing a \`${aj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${po}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},RU=JP,IU=ZP,MU=ej,uj=tj,dj=rj,fj=sj,hj=lj,pj=ij,mj=oj;const qu=RU,oy=IU,DU=MU,vj=x.forwardRef(({className:t,...e},r)=>p.jsx(uj,{className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));vj.displayName=uj.displayName;const bc=x.forwardRef(({className:t,...e},r)=>p.jsxs(DU,{children:[p.jsx(vj,{}),p.jsx(dj,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));bc.displayName=dj.displayName;const wc=({className:t,...e})=>p.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",t),...e});wc.displayName="AlertDialogHeader";const xc=({className:t,...e})=>p.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});xc.displayName="AlertDialogFooter";const _c=x.forwardRef(({className:t,...e},r)=>p.jsx(pj,{ref:r,className:J("text-lg font-semibold",t),...e}));_c.displayName=pj.displayName;const Sc=x.forwardRef(({className:t,...e},r)=>p.jsx(mj,{ref:r,className:J("text-sm text-muted-foreground",t),...e}));Sc.displayName=mj.displayName;const Oc=x.forwardRef(({className:t,...e},r)=>p.jsx(fj,{ref:r,className:J(Wg(),t),...e}));Oc.displayName=fj.displayName;const kf=x.forwardRef(({className:t,...e},r)=>p.jsx(hj,{ref:r,className:J(Wg({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));kf.displayName=hj.displayName;const Qh=[{name:"Green",value:"hsl(145 55% 42%)"},{name:"Blue",value:"hsl(220 70% 50%)"},{name:"Purple",value:"hsl(270 70% 50%)"},{name:"Red",value:"hsl(0 65% 55%)"},{name:"Orange",value:"hsl(25 60% 45%)"},{name:"Pink",value:"hsl(330 70% 50%)"},{name:"Teal",value:"hsl(170 70% 40%)"},{name:"Yellow",value:"hsl(45 90% 45%)"}];function LU({habits:t,onAddHabit:e,onRemoveHabit:r,isDeleting:n,isPrivacyMode:i=!1}){const[a,o]=x.useState(""),[s,c]=x.useState(Qh[0].value);x.useState(null);const l=()=>{a.trim()&&(e({title:a,color:s}),o(""),c(Qh[0].value))};return p.jsxs(ey,{children:[p.jsx(VE,{asChild:!0,children:p.jsx(Ze,{variant:"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",children:p.jsx(KR,{className:"h-4 w-4"})})}),p.jsxs(xf,{className:"sm:max-w-[425px] bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground",children:[p.jsxs(_f,{children:[p.jsx(Sf,{children:"Gestisci Abitudini"}),p.jsx(Of,{children:"Aggiungi o rimuovi le abitudini che vuoi tracciare."})]}),p.jsxs("div",{className:"space-y-8 py-4",children:[p.jsxs("div",{className:"space-y-4 p-4 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-md",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:p.jsx($p,{className:"h-4 w-4"})}),p.jsx("h4",{className:"text-sm font-display font-bold",children:"Nuova Abitudine"})]}),p.jsxs("div",{className:"grid gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Mo,{htmlFor:"title",className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Nome"}),p.jsx(Io,{id:"title",placeholder:"Es. Palestra, Lettura...",value:a,onChange:u=>o(u.target.value),className:"bg-black/20 border-white/10 focus:border-primary/50 text-foreground placeholder:text-muted-foreground/50 h-10 rounded-xl"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Mo,{htmlFor:"color",className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Colore"}),p.jsxs(Hi,{value:s,onValueChange:c,children:[p.jsx(Yn,{className:"w-full bg-black/20 border-white/10 h-10 rounded-xl",children:p.jsx(ec,{placeholder:"Seleziona colore"})}),p.jsx(Xn,{className:"bg-[#1a1a1a] border-white/10 backdrop-blur-xl",children:p.jsx("div",{className:"grid grid-cols-2 gap-1 p-1",children:Qh.map(u=>p.jsx(Pr,{value:u.value,className:"rounded-lg hover:bg-white/10 focus:bg-white/10 cursor-pointer",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"h-3 w-3 rounded-full shadow-[0_0_8px_currentColor]",style:{backgroundColor:u.value,color:u.value}}),p.jsx("span",{className:"font-medium",children:u.name})]})},u.value))})})]})]}),p.jsx(Ze,{onClick:l,disabled:!a.trim(),className:"w-full rounded-xl",children:"Aggiungi al Protocollo"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"text-sm font-display font-bold px-1",children:"Le tue Abitudini"}),p.jsx(YP,{className:"h-[240px] w-full rounded-2xl border border-white/5 bg-black/20 p-4",children:p.jsxs("div",{className:"space-y-2",children:[t.map(u=>p.jsxs("div",{className:"group flex items-center justify-between rounded-xl p-3 bg-white/5 border border-transparent hover:border-white/10 hover:bg-white/10 transition-all",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"h-3 w-3 rounded-full shadow-[0_0_8px_currentColor]",style:{backgroundColor:u.color,color:u.color}}),p.jsx("span",{className:J("text-sm font-medium transition-all duration-300",i&&"blur-sm"),children:u.title})]}),p.jsxs(qu,{children:[p.jsx(oy,{asChild:!0,children:p.jsx(Ze,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-destructive hover:bg-destructive/10 transition-all rounded-lg",children:p.jsx(dg,{className:"h-4 w-4"})})}),p.jsxs(bc,{children:[p.jsxs(wc,{children:[p.jsx(_c,{children:"Sei sicuro?"}),p.jsx(Sc,{children:"Stai per rimuovere questa abitudine. Se ha dei dati associati, verr archiviata per preservare lo storico. Altrimenti verr eliminata definitivamente."})]}),p.jsxs(xc,{children:[p.jsx(kf,{children:"Annulla"}),p.jsx(Oc,{onClick:()=>r(u.id),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:n,children:n?"Eliminazione...":"Conferma elimina"})]})]})]})]},u.id)),t.length===0&&p.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-muted-foreground space-y-2",children:[p.jsx("div",{className:"h-10 w-10 rounded-full bg-white/5 flex items-center justify-center",children:p.jsx($p,{className:"h-5 w-5 opacity-50"})}),p.jsx("p",{className:"text-sm",children:"Nessuna abitudine definita."})]})]})})]})]})]})]})}var Jh="rovingFocusGroup.onEntryFocus",BU={bubbles:!1,cancelable:!0},yl="RovingFocusGroup",[Sm,gj,FU]=og(yl),[UU,$f]=Ut(yl,[FU]),[WU,zU]=UU(yl),yj=x.forwardRef((t,e)=>p.jsx(Sm.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Sm.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(qU,{...t,ref:e})})}));yj.displayName=yl;var qU=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...d}=t,f=x.useRef(null),h=ge(e,f),g=gl(a),[m,v]=jn({prop:o,defaultProp:s??null,onChange:c,caller:yl}),[b,w]=x.useState(!1),y=et(l),O=gj(r),_=x.useRef(!1),[S,A]=x.useState(0);return x.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(Jh,y),()=>E.removeEventListener(Jh,y)},[y]),p.jsx(WU,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:m,onItemFocus:x.useCallback(E=>v(E),[v]),onItemShiftTab:x.useCallback(()=>w(!0),[]),onFocusableItemAdd:x.useCallback(()=>A(E=>E+1),[]),onFocusableItemRemove:x.useCallback(()=>A(E=>E-1),[]),children:p.jsx(se.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...d,ref:h,style:{outline:"none",...t.style},onMouseDown:oe(t.onMouseDown,()=>{_.current=!0}),onFocus:oe(t.onFocus,E=>{const j=!_.current;if(E.target===E.currentTarget&&j&&!b){const T=new CustomEvent(Jh,BU);if(E.currentTarget.dispatchEvent(T),!T.defaultPrevented){const C=O().filter($=>$.focusable),k=C.find($=>$.active),L=C.find($=>$.id===m),M=[k,L,...C].filter(Boolean).map($=>$.ref.current);xj(M,u)}}_.current=!1}),onBlur:oe(t.onBlur,()=>w(!1))})})}),bj="RovingFocusGroupItem",wj=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...s}=t,c=pi(),l=a||c,u=zU(bj,r),d=u.currentTabStopId===l,f=gj(r),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:m}=u;return x.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),p.jsx(Sm.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:p.jsx(se.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:oe(t.onMouseDown,v=>{n?u.onItemFocus(l):v.preventDefault()}),onFocus:oe(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:oe(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=VU(v,u.orientation,u.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=f().filter(O=>O.focusable).map(O=>O.ref.current);if(b==="last")y.reverse();else if(b==="prev"||b==="next"){b==="prev"&&y.reverse();const O=y.indexOf(v.currentTarget);y=u.loop?GU(y,O+1):y.slice(O+1)}setTimeout(()=>xj(y))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:m!=null}):o})})});wj.displayName=bj;var HU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KU(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function VU(t,e,r){const n=KU(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return HU[n]}function xj(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function GU(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var _j=yj,Sj=wj,Nf="Tabs",[YU,Bpe]=Ut(Nf,[$f]),Oj=$f(),[XU,sy]=YU(Nf),Aj=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:c="automatic",...l}=t,u=gl(s),[d,f]=jn({prop:n,onChange:i,defaultProp:a??"",caller:Nf});return p.jsx(XU,{scope:r,baseId:pi(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:c,children:p.jsx(se.div,{dir:u,"data-orientation":o,...l,ref:e})})});Aj.displayName=Nf;var Ej="TabsList",Pj=x.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=sy(Ej,r),o=Oj(r);return p.jsx(_j,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:p.jsx(se.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});Pj.displayName=Ej;var jj="TabsTrigger",Tj=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=sy(jj,r),s=Oj(r),c=$j(o.baseId,n),l=Nj(o.baseId,n),u=n===o.value;return p.jsx(Sj,{asChild:!0,...s,focusable:!i,active:u,children:p.jsx(se.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:oe(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:oe(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:oe(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(n)})})})});Tj.displayName=jj;var Cj="TabsContent",kj=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,s=sy(Cj,r),c=$j(s.baseId,n),l=Nj(s.baseId,n),u=n===s.value,d=x.useRef(u);return x.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),p.jsx(ln,{present:i||u,children:({present:f})=>p.jsx(se.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:l,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&a})})});kj.displayName=Cj;function $j(t,e){return`${t}-trigger-${e}`}function Nj(t,e){return`${t}-content-${e}`}var QU=Aj,Rj=Pj,Ij=Tj,Mj=kj;const Dj=QU,cy=x.forwardRef(({className:t,...e},r)=>p.jsx(Rj,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));cy.displayName=Rj.displayName;const ma=x.forwardRef(({className:t,...e},r)=>p.jsx(Ij,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));ma.displayName=Ij.displayName;const bu=x.forwardRef(({className:t,...e},r)=>p.jsx(Mj,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));bu.displayName=Mj.displayName;var Rf="Switch",[JU,Fpe]=Ut(Rf),[ZU,e4]=JU(Rf),Lj=x.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:c="on",onCheckedChange:l,form:u,...d}=t,[f,h]=x.useState(null),g=ge(e,y=>h(y)),m=x.useRef(!1),v=f?u||!!f.closest("form"):!0,[b,w]=jn({prop:i,defaultProp:a??!1,onChange:l,caller:Rf});return p.jsxs(ZU,{scope:r,checked:b,disabled:s,children:[p.jsx(se.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":Wj(b),"data-disabled":s?"":void 0,disabled:s,value:c,...d,ref:g,onClick:oe(t.onClick,y=>{w(O=>!O),v&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})}),v&&p.jsx(Uj,{control:f,bubbles:!m.current,name:n,value:c,checked:b,required:o,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});Lj.displayName=Rf;var Bj="SwitchThumb",Fj=x.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=e4(Bj,r);return p.jsx(se.span,{"data-state":Wj(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Fj.displayName=Bj;var t4="SwitchBubbleInput",Uj=x.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=x.useRef(null),s=ge(o,a),c=Af(r),l=sf(e);return x.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(g)}},[c,r,n]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Uj.displayName=t4;function Wj(t){return t?"checked":"unchecked"}var zj=Lj,r4=Fj;const qj=x.forwardRef(({className:t,...e},r)=>p.jsx(zj,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:p.jsx(r4,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qj.displayName=zj.displayName;const n4=()=>{const{goals:t,logs:e,allGoals:r,rawLogs:n,createGoal:i,deleteGoal:a,toggleGoal:o,isDeleting:s,resetAllData:c,isResetting:l}=hE(),{isPrivacyMode:u,setIsPrivacyMode:d}=Ug(),f=()=>{if(!n||!r){Ye.error("Nessun dato da esportare");return}try{const m=new Map(r.map(O=>[O.id,O.title])),v=["Date,Habit Name,Status,Value,Notes"];n.forEach(O=>{const _=m.get(O.goal_id)||"Archived Habit",S=E=>`"${E.replace(/"/g,'""')}"`,A=[O.date,S(_),O.status,O.value||"",O.notes?S(O.notes):""].join(",");v.push(A)});const b=new Blob([v.join(`
`)],{type:"text/csv;charset=utf-8;"}),w=window.URL.createObjectURL(b),y=document.createElement("a");y.href=w,y.download=`habit-tracker-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(y),y.click(),window.URL.revokeObjectURL(w),document.body.removeChild(y),Ye.success("Export completato!")}catch(m){console.error("Export failed:",m),Ye.error("Errore durante l'export")}},[h,g]=x.useState("month");return p.jsxs("div",{className:"flex-1 min-h-dvh flex flex-col pt-8 pb-12 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[2400px] mx-auto",children:[p.jsx("div",{className:"fixed top-[-20%] left-[-10%] w-[50%] h-[50%] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 w-full",children:[p.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[p.jsxs("div",{className:"glass-panel p-6 rounded-2xl space-y-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Protocollo"}),p.jsx("p",{className:"text-muted-foreground text-sm",children:"Esecuzione giornaliera."})]}),p.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[p.jsx(qj,{id:"privacy-mode",checked:u,onCheckedChange:d}),p.jsxs(Mo,{htmlFor:"privacy-mode",className:"text-xs text-muted-foreground flex items-center gap-2 cursor-pointer",children:[u?p.jsx(MR,{className:"w-3 h-3"}):p.jsx(DR,{className:"w-3 h-3"}),"Privacy Mode"]})]}),p.jsxs("div",{className:"pt-4 border-t border-white/5 flex gap-2",children:[p.jsx(LU,{habits:t,onAddHabit:i,onRemoveHabit:a,isDeleting:s,isPrivacyMode:u}),p.jsx(Ze,{variant:"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",onClick:f,title:"Esporta dati CSV",children:p.jsx(W1,{className:"h-4 w-4"})}),p.jsxs(qu,{children:[p.jsx(oy,{asChild:!0,children:p.jsx(Ze,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white border-red-500/20",title:"Hard Reset (Elimina tutto)",children:p.jsx(dg,{className:"h-4 w-4"})})}),p.jsxs(bc,{children:[p.jsxs(wc,{children:[p.jsx(_c,{className:"text-destructive",children:"Hard Reset: Attenzione!"}),p.jsxs(Sc,{children:["Questa azione eliminer ",p.jsx("strong",{children:"definitivamente"})," tutte le tue abitudini e tutto lo storico dei progressi.",p.jsx("br",{}),p.jsx("br",{}),"I dati non potranno essere recuperati. Sei sicuro di voler procedere?"]})]}),p.jsxs(xc,{children:[p.jsx(kf,{children:"Annulla"}),p.jsx(Oc,{onClick:()=>c(),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:l,children:l?"Eliminazione...":"Conferma Reset Totale"})]})]})]})]})]}),p.jsxs("div",{className:"glass-card p-6 rounded-2xl hidden lg:block",children:[p.jsx("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-widest mb-2",children:"Status"}),p.jsxs("div",{className:"flex items-baseline gap-2",children:[p.jsx("span",{className:"text-2xl font-bold font-mono-nums text-primary",children:"Active"}),p.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-4",children:["Mattioli.OS v1.0",p.jsx("br",{}),"System Optimized"]})]})]}),p.jsx("div",{className:"lg:col-span-9 space-y-6",children:p.jsxs(Dj,{defaultValue:"month",value:h,onValueChange:g,className:"w-full",children:[p.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:p.jsxs(cy,{className:"grid w-full sm:w-auto sm:inline-grid grid-cols-3 bg-card/40 border border-white/10 backdrop-blur-md rounded-xl p-1",children:[p.jsxs(ma,{value:"month",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm px-6",children:[p.jsx(D1,{className:"w-4 h-4 mr-2"}),"Mese"]}),p.jsxs(ma,{value:"week",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm px-6",children:[p.jsx(LR,{className:"w-4 h-4 mr-2"}),"Settimana"]}),p.jsxs(ma,{value:"day",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm px-6",children:[p.jsx(BR,{className:"w-4 h-4 mr-2"}),"Oggi"]})]})}),p.jsxs("div",{className:"min-h-[600px] glass-panel rounded-2xl p-1 sm:p-2",children:[p.jsx(bu,{value:"month",className:"mt-0 animate-scale-in h-full",children:p.jsx(j3,{habits:t,records:e,onToggleHabit:o,isPrivacyMode:u})}),p.jsx(bu,{value:"week",className:"mt-0 animate-scale-in h-full",children:p.jsx(T3,{habits:t,records:e,onToggleHabit:o,isPrivacyMode:u})}),p.jsx(bu,{value:"day",className:"mt-0 animate-scale-in h-full",children:p.jsx("div",{className:"flex justify-center h-full",children:p.jsx(C3,{habits:t,records:e,onToggleHabit:o,isPrivacyMode:u,date:new Date})})})]})]})})]})]})};function i4(t,e){return x.useMemo(()=>{const r=Xr(new Date),n=Object.keys(e).sort(),i=t.map($=>{var he,je,Ae;const I=Xr(new Date($.start_date)),F=$.id;let D=0,K=0,X=0,q=0;const V=Math.max(0,Bg(r,I)+1),ee=new Date(r);let ie=!0;const _e=Ge(ee,"yyyy-MM-dd"),Q=(he=e[_e])==null?void 0:he[F];Q==="done"?D++:Q==="missed"&&(ie=!1);let B=1;for(;;){const Ee=Ht(r,B);if(Qi(Ee,I))break;const tt=Ge(Ee,"yyyy-MM-dd"),Je=(je=e[tt])==null?void 0:je[F];if(Je==="done"?ie&&D++:Je==="missed"&&(ie=!1),!ie||B>365*5)break;B++}if(V>0){for(let Ee=0;Ee<V;Ee++){const tt=Ht(r,Ee),Je=Ge(tt,"yyyy-MM-dd"),Wr=(Ae=e[Je])==null?void 0:Ae[F];Wr==="done"?(q++,X++):Wr==="missed"&&(K=Math.max(K,X),X=0)}K=Math.max(K,X)}let U=0,H=0;const G=Ht(r,29),W=to(I,G)?I:G;to(W,r)||eo({start:W,end:r}).forEach(Ee=>{var Je;U++;const tt=Ge(Ee,"yyyy-MM-dd");((Je=e[tt])==null?void 0:Je[F])==="done"&&H++});const ve=U>0?Math.round(H/U*100):0;return{id:$.id,title:$.title,color:$.color,currentStreak:D,longestStreak:K,totalDays:q,completionRate:ve}}),a=[],o=Ht(r,365);eo({start:o,end:r}).forEach($=>{const I=Ge($,"yyyy-MM-dd");let F=0,D=0;t.forEach(X=>{var V;const q=new Date(X.start_date);Qi(Xr($),Xr(q))||(F++,((V=e[I])==null?void 0:V[X.id])==="done"&&D++)});let K=0;if(F>0&&D>0){const X=D/F;X<=.25?K=1:X<=.5?K=2:X<=.75?K=3:K=4}a.push({date:I,count:D,intensity:K})});const s=[],c=Ht(r,6);eo({start:c,end:r}).forEach($=>{const I=Ge($,"yyyy-MM-dd"),F={date:Ge($,"EEE",{locale:On})};let D=0,K=0;t.forEach(q=>{var _e;const V=new Date(q.start_date);if(Qi(Xr($),Xr(V))){F[q.id]=0;return}K++;const ie=((_e=e[I])==null?void 0:_e[q.id])==="done";ie&&D++,F[q.id]=ie?100:0});const X=K>0?Math.round(D/K*100):0;F.overall=X,s.push(F)});const l=[0,0,0,0,0,0,0].map(($,I)=>({dayIndex:I,dayName:Ge(new Date(2024,0,7+I),"EEEE",{locale:On}),totalActive:0,totalDone:0,rate:0})),u=t.reduce(($,I)=>Qi(new Date(I.start_date),$)?new Date(I.start_date):$,r),d=to(u,Ht(r,365))?u:Ht(r,365);to(d,r)||eo({start:d,end:r}).forEach($=>{const I=$.getDay(),F=Ge($,"yyyy-MM-dd");t.forEach(D=>{var X;const K=new Date(D.start_date);Qi($,K)||(l[I].totalActive++,((X=e[F])==null?void 0:X[D.id])==="done"&&l[I].totalDone++)})}),l.forEach($=>{$.rate=$.totalActive>0?Math.round($.totalDone/$.totalActive*100):0});const f=n.length,h=i.length>0?Math.round(i.reduce(($,I)=>$+I.completionRate,0)/i.length):0,g=a4(t,e,r),m=pr(r,{locale:On,weekStartsOn:1}),v=r,b=$F(m,1),w=Ht(m,1),y=Fg(r),O=r,_=kF(y,1),S=Ht(y,1),A=lE(r),E=r,j=NF(A,1),T=Ht(A,1),C=Zh(t,e,m,v,b,w,"week"),k=Zh(t,e,y,O,_,S,"month"),L=Zh(t,e,A,E,j,T,"year"),R=t.map($=>({habitId:$.id,week:C[$.id],month:k[$.id],year:L[$.id]}));return{habitStats:i,heatmapData:a,trendData:s,weekdayStats:l.sort(($,I)=>$.dayIndex===0?1:I.dayIndex===0?-1:$.dayIndex-I.dayIndex),totalActiveDays:f,globalSuccessRate:h,bestStreak:Math.max(...i.map($=>$.longestStreak),0),worstDay:l.reduce(($,I)=>I.rate<$.rate&&I.totalActive>0?I:$,l[0]).dayName,comparisons:R,criticalHabits:g.sort(($,I)=>$.completionRate-I.completionRate)}},[t,e])}function Zh(t,e,r,n,i,a,o="month"){const s={},c=t.map(u=>u.id),l=(u,d,f,h)=>{const g=Qi(d,h)?h:d;if(to(g,f))return 0;let m=0,v=0;return eo({start:g,end:f}).forEach(b=>{var y;m++;const w=Ge(b,"yyyy-MM-dd");((y=e[w])==null?void 0:y[u])==="done"&&v++}),m>0?Math.round(v/m*100):0};return c.forEach(u=>{const d=t.find(b=>b.id===u);if(!d)return;const f=new Date(d.start_date),h=l(u,r,n,f),g=l(u,i,a,f),m=h-g;let v="neutral";m>0&&(v="up"),m<0&&(v="down"),s[u]={previous:g,current:h,change:m,trend:v}}),s}function a4(t,e,r){const n=[],i=Ht(r,90);return t.forEach(a=>{const o=[0,0,0,0,0,0,0].map(()=>({total:0,done:0}));let s=0,c=0;const l=Qi(i,new Date(a.start_date))?new Date(a.start_date):i;to(l,r)||eo({start:l,end:r}).forEach(h=>{var v;const g=h.getDay(),m=Ge(h,"yyyy-MM-dd");o[g].total++,((v=e[m])==null?void 0:v[a.id])==="done"&&(o[g].done++,s++),c++});let u="",d=101;o.forEach((h,g)=>{if(h.total<4)return;const m=Math.round(h.done/h.total*100);if(m<d){d=m;const v=new Date(2024,0,7+g);u=Ge(v,"EEEE",{locale:On})}});const f=c>0?Math.round(s/c*100):0;d===101&&(u="N/A",d=f),n.push({habitId:a.id,title:a.title,color:a.color,completionRate:f,worstDay:u,worstDayRate:d})}),n}function o4({globalStats:t,bestHabit:e}){return p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[p.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(Zi,{className:"w-24 h-24"})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[p.jsx(Zi,{className:"w-4 h-4"}),p.jsx("span",{className:"text-sm font-medium",children:"Completamento"})]}),p.jsxs("div",{className:"flex items-baseline gap-2",children:[p.jsxs("span",{className:"text-4xl font-display font-bold text-foreground",children:[t.globalSuccessRate,"%"]}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"globale"})]})]})]}),p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[p.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(Cb,{className:"w-24 h-24 text-orange-500"})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[p.jsx(Cb,{className:"w-4 h-4 text-orange-500"}),p.jsx("span",{className:"text-sm font-medium",children:"Miglior Serie"})]}),p.jsxs("div",{className:"flex items-baseline gap-2",children:[p.jsx("span",{className:"text-4xl font-display font-bold text-foreground",children:t.bestStreak}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"giorni"})]})]})]}),p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[p.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(so,{className:"w-24 h-24 text-yellow-500"})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[p.jsx(so,{className:"w-4 h-4 text-yellow-500"}),p.jsx("span",{className:"text-sm font-medium",children:"Top Performer"})]}),e?p.jsxs("div",{children:[p.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:e.title}),p.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.completionRate,"% completamento"]})]}):p.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]}),p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[p.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx("div",{className:"text-4xl",children:""})}),p.jsxs("div",{children:[p.jsx("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:p.jsx("span",{className:"text-sm font-medium",children:"Giorno Peggiore"})}),t.worstDay?p.jsxs("div",{children:[p.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:t.worstDay}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"Focus richiesto"})]}):p.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]})]})}function s4({data:t}){const e=new Date,r=105,n=t.filter(a=>PB(e,new Date(a.date))<r),i=[];for(let a=r-1;a>=0;a--){const o=Ht(e,a),s=Ge(o,"yyyy-MM-dd"),c=n.find(l=>l.date===s);i.push(c||{date:s,count:0,intensity:0})}return p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl",children:[p.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Costanza"}),p.jsx("div",{className:"flex flex-wrap gap-1 justify-center sm:justify-start",children:i.map(a=>p.jsx("div",{className:J("w-3 h-3 sm:w-4 sm:h-4 rounded-sm transition-all hover:scale-125 hover:z-10 relative cursor-pointer",a.intensity===0&&"bg-muted/10",a.intensity===1&&"bg-primary/30",a.intensity===2&&"bg-primary/50",a.intensity===3&&"bg-primary/70",a.intensity===4&&"bg-primary"),title:`${a.date}: ${a.count} habits`},a.date))}),p.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 text-xs text-muted-foreground",children:[p.jsx("span",{children:"Meno"}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("div",{className:"w-3 h-3 rounded-sm bg-muted/10"}),p.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/30"}),p.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/50"}),p.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/70"}),p.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary"})]}),p.jsx("span",{children:"Pi"})]})]})}var c4=Array.isArray,Wt=c4,l4=typeof Yr=="object"&&Yr&&Yr.Object===Object&&Yr,Hj=l4,u4=Hj,d4=typeof self=="object"&&self&&self.Object===Object&&self,f4=u4||d4||Function("return this")(),fn=f4,h4=fn,p4=h4.Symbol,bl=p4,q0=bl,Kj=Object.prototype,m4=Kj.hasOwnProperty,v4=Kj.toString,Bs=q0?q0.toStringTag:void 0;function g4(t){var e=m4.call(t,Bs),r=t[Bs];try{t[Bs]=void 0;var n=!0}catch{}var i=v4.call(t);return n&&(e?t[Bs]=r:delete t[Bs]),i}var y4=g4,b4=Object.prototype,w4=b4.toString;function x4(t){return w4.call(t)}var _4=x4,H0=bl,S4=y4,O4=_4,A4="[object Null]",E4="[object Undefined]",K0=H0?H0.toStringTag:void 0;function P4(t){return t==null?t===void 0?E4:A4:K0&&K0 in Object(t)?S4(t):O4(t)}var Ln=P4;function j4(t){return t!=null&&typeof t=="object"}var Bn=j4,T4=Ln,C4=Bn,k4="[object Symbol]";function $4(t){return typeof t=="symbol"||C4(t)&&T4(t)==k4}var Ss=$4,N4=Wt,R4=Ss,I4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M4=/^\w*$/;function D4(t,e){if(N4(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||R4(t)?!0:M4.test(t)||!I4.test(t)||e!=null&&t in Object(e)}var ly=D4;function L4(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ti=L4;const Os=ke(Ti);var B4=Ln,F4=Ti,U4="[object AsyncFunction]",W4="[object Function]",z4="[object GeneratorFunction]",q4="[object Proxy]";function H4(t){if(!F4(t))return!1;var e=B4(t);return e==W4||e==z4||e==U4||e==q4}var uy=H4;const ce=ke(uy);var K4=fn,V4=K4["__core-js_shared__"],G4=V4,ep=G4,V0=function(){var t=/[^.]+$/.exec(ep&&ep.keys&&ep.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Y4(t){return!!V0&&V0 in t}var X4=Y4,Q4=Function.prototype,J4=Q4.toString;function Z4(t){if(t!=null){try{return J4.call(t)}catch{}try{return t+""}catch{}}return""}var Vj=Z4,eW=uy,tW=X4,rW=Ti,nW=Vj,iW=/[\\^$.*+?()[\]{}|]/g,aW=/^\[object .+?Constructor\]$/,oW=Function.prototype,sW=Object.prototype,cW=oW.toString,lW=sW.hasOwnProperty,uW=RegExp("^"+cW.call(lW).replace(iW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dW(t){if(!rW(t)||tW(t))return!1;var e=eW(t)?uW:aW;return e.test(nW(t))}var fW=dW;function hW(t,e){return t==null?void 0:t[e]}var pW=hW,mW=fW,vW=pW;function gW(t,e){var r=vW(t,e);return mW(r)?r:void 0}var ka=gW,yW=ka,bW=yW(Object,"create"),If=bW,G0=If;function wW(){this.__data__=G0?G0(null):{},this.size=0}var xW=wW;function _W(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var SW=_W,OW=If,AW="__lodash_hash_undefined__",EW=Object.prototype,PW=EW.hasOwnProperty;function jW(t){var e=this.__data__;if(OW){var r=e[t];return r===AW?void 0:r}return PW.call(e,t)?e[t]:void 0}var TW=jW,CW=If,kW=Object.prototype,$W=kW.hasOwnProperty;function NW(t){var e=this.__data__;return CW?e[t]!==void 0:$W.call(e,t)}var RW=NW,IW=If,MW="__lodash_hash_undefined__";function DW(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=IW&&e===void 0?MW:e,this}var LW=DW,BW=xW,FW=SW,UW=TW,WW=RW,zW=LW;function As(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}As.prototype.clear=BW;As.prototype.delete=FW;As.prototype.get=UW;As.prototype.has=WW;As.prototype.set=zW;var qW=As;function HW(){this.__data__=[],this.size=0}var KW=HW;function VW(t,e){return t===e||t!==t&&e!==e}var dy=VW,GW=dy;function YW(t,e){for(var r=t.length;r--;)if(GW(t[r][0],e))return r;return-1}var Mf=YW,XW=Mf,QW=Array.prototype,JW=QW.splice;function ZW(t){var e=this.__data__,r=XW(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():JW.call(e,r,1),--this.size,!0}var ez=ZW,tz=Mf;function rz(t){var e=this.__data__,r=tz(e,t);return r<0?void 0:e[r][1]}var nz=rz,iz=Mf;function az(t){return iz(this.__data__,t)>-1}var oz=az,sz=Mf;function cz(t,e){var r=this.__data__,n=sz(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var lz=cz,uz=KW,dz=ez,fz=nz,hz=oz,pz=lz;function Es(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Es.prototype.clear=uz;Es.prototype.delete=dz;Es.prototype.get=fz;Es.prototype.has=hz;Es.prototype.set=pz;var Df=Es,mz=ka,vz=fn,gz=mz(vz,"Map"),fy=gz,Y0=qW,yz=Df,bz=fy;function wz(){this.size=0,this.__data__={hash:new Y0,map:new(bz||yz),string:new Y0}}var xz=wz;function _z(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Sz=_z,Oz=Sz;function Az(t,e){var r=t.__data__;return Oz(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Lf=Az,Ez=Lf;function Pz(t){var e=Ez(this,t).delete(t);return this.size-=e?1:0,e}var jz=Pz,Tz=Lf;function Cz(t){return Tz(this,t).get(t)}var kz=Cz,$z=Lf;function Nz(t){return $z(this,t).has(t)}var Rz=Nz,Iz=Lf;function Mz(t,e){var r=Iz(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Dz=Mz,Lz=xz,Bz=jz,Fz=kz,Uz=Rz,Wz=Dz;function Ps(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ps.prototype.clear=Lz;Ps.prototype.delete=Bz;Ps.prototype.get=Fz;Ps.prototype.has=Uz;Ps.prototype.set=Wz;var hy=Ps,Gj=hy,zz="Expected a function";function py(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zz);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(py.Cache||Gj),r}py.Cache=Gj;var Yj=py;const qz=ke(Yj);var Hz=Yj,Kz=500;function Vz(t){var e=Hz(t,function(n){return r.size===Kz&&r.clear(),n}),r=e.cache;return e}var Gz=Vz,Yz=Gz,Xz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qz=/\\(\\)?/g,Jz=Yz(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Xz,function(r,n,i,a){e.push(i?a.replace(Qz,"$1"):n||r)}),e}),Zz=Jz;function e8(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var my=e8,X0=bl,t8=my,r8=Wt,n8=Ss,i8=1/0,Q0=X0?X0.prototype:void 0,J0=Q0?Q0.toString:void 0;function Xj(t){if(typeof t=="string")return t;if(r8(t))return t8(t,Xj)+"";if(n8(t))return J0?J0.call(t):"";var e=t+"";return e=="0"&&1/t==-i8?"-0":e}var a8=Xj,o8=a8;function s8(t){return t==null?"":o8(t)}var Qj=s8,c8=Wt,l8=ly,u8=Zz,d8=Qj;function f8(t,e){return c8(t)?t:l8(t,e)?[t]:u8(d8(t))}var Jj=f8,h8=Ss,p8=1/0;function m8(t){if(typeof t=="string"||h8(t))return t;var e=t+"";return e=="0"&&1/t==-p8?"-0":e}var Bf=m8,v8=Jj,g8=Bf;function y8(t,e){e=v8(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[g8(e[r++])];return r&&r==n?t:void 0}var vy=y8,b8=vy;function w8(t,e,r){var n=t==null?void 0:b8(t,e);return n===void 0?r:n}var Zj=w8;const Jt=ke(Zj);function x8(t){return t==null}var _8=x8;const le=ke(_8);var S8=Ln,O8=Wt,A8=Bn,E8="[object String]";function P8(t){return typeof t=="string"||!O8(t)&&A8(t)&&S8(t)==E8}var j8=P8;const Oa=ke(j8);var eT={exports:{}},Ne={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=Symbol.for("react.element"),yy=Symbol.for("react.portal"),Ff=Symbol.for("react.fragment"),Uf=Symbol.for("react.strict_mode"),Wf=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),qf=Symbol.for("react.context"),T8=Symbol.for("react.server_context"),Hf=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Vf=Symbol.for("react.suspense_list"),Gf=Symbol.for("react.memo"),Yf=Symbol.for("react.lazy"),C8=Symbol.for("react.offscreen"),tT;tT=Symbol.for("react.module.reference");function gr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case gy:switch(t=t.type,t){case Ff:case Wf:case Uf:case Kf:case Vf:return t;default:switch(t=t&&t.$$typeof,t){case T8:case qf:case Hf:case Yf:case Gf:case zf:return t;default:return e}}case yy:return e}}}Ne.ContextConsumer=qf;Ne.ContextProvider=zf;Ne.Element=gy;Ne.ForwardRef=Hf;Ne.Fragment=Ff;Ne.Lazy=Yf;Ne.Memo=Gf;Ne.Portal=yy;Ne.Profiler=Wf;Ne.StrictMode=Uf;Ne.Suspense=Kf;Ne.SuspenseList=Vf;Ne.isAsyncMode=function(){return!1};Ne.isConcurrentMode=function(){return!1};Ne.isContextConsumer=function(t){return gr(t)===qf};Ne.isContextProvider=function(t){return gr(t)===zf};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===gy};Ne.isForwardRef=function(t){return gr(t)===Hf};Ne.isFragment=function(t){return gr(t)===Ff};Ne.isLazy=function(t){return gr(t)===Yf};Ne.isMemo=function(t){return gr(t)===Gf};Ne.isPortal=function(t){return gr(t)===yy};Ne.isProfiler=function(t){return gr(t)===Wf};Ne.isStrictMode=function(t){return gr(t)===Uf};Ne.isSuspense=function(t){return gr(t)===Kf};Ne.isSuspenseList=function(t){return gr(t)===Vf};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ff||t===Wf||t===Uf||t===Kf||t===Vf||t===C8||typeof t=="object"&&t!==null&&(t.$$typeof===Yf||t.$$typeof===Gf||t.$$typeof===zf||t.$$typeof===qf||t.$$typeof===Hf||t.$$typeof===tT||t.getModuleId!==void 0)};Ne.typeOf=gr;eT.exports=Ne;var k8=eT.exports,$8=Ln,N8=Bn,R8="[object Number]";function I8(t){return typeof t=="number"||N8(t)&&$8(t)==R8}var rT=I8;const M8=ke(rT);var D8=rT;function L8(t){return D8(t)&&t!=+t}var B8=L8;const js=ke(B8);var kt=function(e){return e===0?0:e>0?1:-1},ta=function(e){return Oa(e)&&e.indexOf("%")===e.length-1},Y=function(e){return M8(e)&&!js(e)},F8=function(e){return le(e)},pt=function(e){return Y(e)||Oa(e)},U8=0,Ci=function(e){var r=++U8;return"".concat(e||"").concat(r)},$t=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Y(e)&&!Oa(e))return n;var a;if(ta(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return js(a)&&(a=n),i&&a>r&&(a=r),a},ei=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},W8=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},De=function(e,r){return Y(e)&&Y(r)?function(n){return e+n*(r-e)}:function(){return r}};function Hu(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Jt(n,e))===r})}var z8=function(e){if(!e||!e.length)return null;for(var r=e.length,n=0,i=0,a=0,o=0,s=1/0,c=-1/0,l=0,u=0,d=0;d<r;d++)l=e[d].cx||0,u=e[d].cy||0,n+=l,i+=u,a+=l*u,o+=l*l,s=Math.min(s,l),c=Math.max(c,l);var f=r*o!==n*n?(r*a-n*i)/(r*o-n*n):0;return{xmin:s,xmax:c,a:f,b:(i-f*n)/r}},q8=function(e,r){return Y(e)&&Y(r)?e-r:Oa(e)&&Oa(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function mo(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}var H8=["viewBox","children"],K8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Z0=["points","pathLength"],tp={svg:H8,polygon:Z0,polyline:Z0},by=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ku=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),!Os(n))return null;var i={};return Object.keys(n).forEach(function(a){by.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},V8=function(e,r,n){return function(i){return e(r,n,i),null}},Si=function(e,r,n){if(!Os(e)||Om(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];by.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=V8(o,r,n))}),i},G8=["children"],Y8=["children"];function ew(t,e){if(t==null)return{};var r=X8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}var tw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},An=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},rw=null,rp=null,wy=function t(e){if(e===rw&&Array.isArray(rp))return rp;var r=[];return x.Children.forEach(e,function(n){le(n)||(k8.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),rp=r,rw=e,r};function Rt(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return An(i)}):n=[An(e)],wy(t).forEach(function(i){var a=Jt(i,"type.displayName")||Jt(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Vt(t,e){var r=Rt(t,e);return r&&r[0]}var nw=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Y(n)||n<=0||!Y(i)||i<=0)},Q8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],J8=function(e){return e&&e.type&&Oa(e.type)&&Q8.indexOf(e.type)>=0},nT=function(e){return e&&Am(e)==="object"&&"clipDot"in e},Z8=function(e,r,n,i){var a,o=(a=tp==null?void 0:tp[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!ce(e)&&(i&&o.includes(r)||K8.includes(r))||n&&by.includes(r)},te=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(x.isValidElement(e)&&(i=e.props),!Os(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Z8((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},Em=function t(e,r){if(e===r)return!0;var n=x.Children.count(e);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return iw(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!iw(a,o))return!1}return!0},iw=function(e,r){if(le(e)&&le(r))return!0;if(!le(e)&&!le(r)){var n=e.props||{},i=n.children,a=ew(n,G8),o=r.props||{},s=o.children,c=ew(o,Y8);return i&&s?mo(a,c)&&Em(i,s):!i&&!s?mo(a,c):!1}return!1},aw=function(e,r){var n=[],i={};return wy(e).forEach(function(a,o){if(J8(a))n.push(a);else if(a){var s=An(a.type),c=r[s]||{},l=c.handler,u=c.once;if(l&&(!u||!i[s])){var d=l(a,s,o);n.push(d),i[s]=!0}}}),n},eq=function(e){var r=e&&e.type;return r&&tw[r]?tw[r]:null},tq=function(e,r){return wy(r).indexOf(e)},rq=["children","width","height","viewBox","className","style","title","desc"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pm.apply(this,arguments)}function nq(t,e){if(t==null)return{};var r=iq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jm(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,c=t.desc,l=nq(t,rq),u=i||{width:r,height:n,x:0,y:0},d=pe("recharts-surface",a);return P.createElement("svg",Pm({},te(l,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),P.createElement("title",null,s),P.createElement("desc",null,c),e)}var aq=["children","className"];function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tm.apply(this,arguments)}function oq(t,e){if(t==null)return{};var r=sq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var me=P.forwardRef(function(t,e){var r=t.children,n=t.className,i=oq(t,aq),a=pe("recharts-layer",n);return P.createElement("g",Tm({className:a},te(i,!0),{ref:e}),r)}),Mr=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function cq(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var lq=cq,uq=lq;function dq(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:uq(t,e,r)}var fq=dq,hq="\\ud800-\\udfff",pq="\\u0300-\\u036f",mq="\\ufe20-\\ufe2f",vq="\\u20d0-\\u20ff",gq=pq+mq+vq,yq="\\ufe0e\\ufe0f",bq="\\u200d",wq=RegExp("["+bq+hq+gq+yq+"]");function xq(t){return wq.test(t)}var iT=xq;function _q(t){return t.split("")}var Sq=_q,aT="\\ud800-\\udfff",Oq="\\u0300-\\u036f",Aq="\\ufe20-\\ufe2f",Eq="\\u20d0-\\u20ff",Pq=Oq+Aq+Eq,jq="\\ufe0e\\ufe0f",Tq="["+aT+"]",Cm="["+Pq+"]",km="\\ud83c[\\udffb-\\udfff]",Cq="(?:"+Cm+"|"+km+")",oT="[^"+aT+"]",sT="(?:\\ud83c[\\udde6-\\uddff]){2}",cT="[\\ud800-\\udbff][\\udc00-\\udfff]",kq="\\u200d",lT=Cq+"?",uT="["+jq+"]?",$q="(?:"+kq+"(?:"+[oT,sT,cT].join("|")+")"+uT+lT+")*",Nq=uT+lT+$q,Rq="(?:"+[oT+Cm+"?",Cm,sT,cT,Tq].join("|")+")",Iq=RegExp(km+"(?="+km+")|"+Rq+Nq,"g");function Mq(t){return t.match(Iq)||[]}var Dq=Mq,Lq=Sq,Bq=iT,Fq=Dq;function Uq(t){return Bq(t)?Fq(t):Lq(t)}var Wq=Uq,zq=fq,qq=iT,Hq=Wq,Kq=Qj;function Vq(t){return function(e){e=Kq(e);var r=qq(e)?Hq(e):void 0,n=r?r[0]:e.charAt(0),i=r?zq(r,1).join(""):e.slice(1);return n[t]()+i}}var Gq=Vq,Yq=Gq,Xq=Yq("toUpperCase"),Qq=Xq;const Xf=ke(Qq);function We(t){return function(){return t}}const dT=Math.cos,Vu=Math.sin,Ur=Math.sqrt,Gu=Math.PI,Qf=2*Gu,$m=Math.PI,Nm=2*$m,Ki=1e-6,Jq=Nm-Ki;function fT(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Zq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fT;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class eH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fT:Zq(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=n-e,l=i-r,u=o-e,d=s-r,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Ki)if(!(Math.abs(d*c-l*u)>Ki)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-o,g=i-s,m=c*c+l*l,v=h*h+g*g,b=Math.sqrt(m),w=Math.sqrt(f),y=a*Math.tan(($m-Math.acos((m+f-v)/(2*b*w)))/2),O=y/w,_=y/b;Math.abs(O-1)>Ki&&this._append`L${e+O*u},${r+O*d}`,this._append`A${a},${a},0,0,${+(d*h>u*g)},${this._x1=e+_*c},${this._y1=r+_*l}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),c=n*Math.sin(i),l=e+s,u=r+c,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Ki||Math.abs(this._y1-u)>Ki)&&this._append`L${l},${u}`,n&&(f<0&&(f=f%Nm+Nm),f>Jq?this._append`A${n},${n},0,1,${d},${e-s},${r-c}A${n},${n},0,1,${d},${this._x1=l},${this._y1=u}`:f>Ki&&this._append`A${n},${n},0,${+(f>=$m)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function xy(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new eH(e)}function _y(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hT(t){this._context=t}hT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Jf(t){return new hT(t)}function pT(t){return t[0]}function mT(t){return t[1]}function vT(t,e){var r=We(!0),n=null,i=Jf,a=null,o=xy(s);t=typeof t=="function"?t:t===void 0?pT:We(t),e=typeof e=="function"?e:e===void 0?mT:We(e);function s(c){var l,u=(c=_y(c)).length,d,f=!1,h;for(n==null&&(a=i(h=o())),l=0;l<=u;++l)!(l<u&&r(d=c[l],l,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(d,l,c),+e(d,l,c));if(h)return a=null,h+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:We(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:We(+c),s):e},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:We(!!c),s):r},s.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),s):i},s.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),s):n},s}function Yl(t,e,r){var n=null,i=We(!0),a=null,o=Jf,s=null,c=xy(l);t=typeof t=="function"?t:t===void 0?pT:We(+t),e=typeof e=="function"?e:We(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?mT:We(+r);function l(d){var f,h,g,m=(d=_y(d)).length,v,b=!1,w,y=new Array(m),O=new Array(m);for(a==null&&(s=o(w=c())),f=0;f<=m;++f){if(!(f<m&&i(v=d[f],f,d))===b)if(b=!b)h=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=f-1;g>=h;--g)s.point(y[g],O[g]);s.lineEnd(),s.areaEnd()}b&&(y[f]=+t(v,f,d),O[f]=+e(v,f,d),s.point(n?+n(v,f,d):y[f],r?+r(v,f,d):O[f]))}if(w)return s=null,w+""||null}function u(){return vT().defined(i).curve(o).context(a)}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:We(+d),n=null,l):t},l.x0=function(d){return arguments.length?(t=typeof d=="function"?d:We(+d),l):t},l.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:We(+d),l):n},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:We(+d),r=null,l):e},l.y0=function(d){return arguments.length?(e=typeof d=="function"?d:We(+d),l):e},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:We(+d),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(e)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(n).y(e)},l.defined=function(d){return arguments.length?(i=typeof d=="function"?d:We(!!d),l):i},l.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),l):o},l.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),l):a},l}class gT{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function tH(t){return new gT(t,!0)}function rH(t){return new gT(t,!1)}const Sy={draw(t,e){const r=Ur(e/Gu);t.moveTo(r,0),t.arc(0,0,r,0,Qf)}},nH={draw(t,e){const r=Ur(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},yT=Ur(1/3),iH=yT*2,aH={draw(t,e){const r=Ur(e/iH),n=r*yT;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},oH={draw(t,e){const r=Ur(e),n=-r/2;t.rect(n,n,r,r)}},sH=.8908130915292852,bT=Vu(Gu/10)/Vu(7*Gu/10),cH=Vu(Qf/10)*bT,lH=-dT(Qf/10)*bT,uH={draw(t,e){const r=Ur(e*sH),n=cH*r,i=lH*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Qf*a/5,s=dT(o),c=Vu(o);t.lineTo(c*r,-s*r),t.lineTo(s*n-c*i,c*n+s*i)}t.closePath()}},np=Ur(3),dH={draw(t,e){const r=-Ur(e/(np*3));t.moveTo(0,r*2),t.lineTo(-np*r,-r),t.lineTo(np*r,-r),t.closePath()}},rr=-.5,nr=Ur(3)/2,Rm=1/Ur(12),fH=(Rm/2+1)*3,hH={draw(t,e){const r=Ur(e/fH),n=r/2,i=r*Rm,a=n,o=r*Rm+r,s=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,c),t.lineTo(rr*n-nr*i,nr*n+rr*i),t.lineTo(rr*a-nr*o,nr*a+rr*o),t.lineTo(rr*s-nr*c,nr*s+rr*c),t.lineTo(rr*n+nr*i,rr*i-nr*n),t.lineTo(rr*a+nr*o,rr*o-nr*a),t.lineTo(rr*s+nr*c,rr*c-nr*s),t.closePath()}};function pH(t,e){let r=null,n=xy(i);t=typeof t=="function"?t:We(t||Sy),e=typeof e=="function"?e:We(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:We(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:We(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Yu(){}function Xu(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function wT(t){this._context=t}wT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mH(t){return new wT(t)}function xT(t){this._context=t}xT.prototype={areaStart:Yu,areaEnd:Yu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vH(t){return new xT(t)}function _T(t){this._context=t}_T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gH(t){return new _T(t)}function ST(t){this._context=t}ST.prototype={areaStart:Yu,areaEnd:Yu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function yH(t){return new ST(t)}function ow(t){return t<0?-1:1}function sw(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(ow(a)+ow(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function cw(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ip(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Qu(t){this._context=t}Qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ip(this,this._t0,cw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ip(this,cw(this,r=sw(this,t,e)),r);break;default:ip(this,this._t0,r=sw(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function OT(t){this._context=new AT(t)}(OT.prototype=Object.create(Qu.prototype)).point=function(t,e){Qu.prototype.point.call(this,e,t)};function AT(t){this._context=t}AT.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function bH(t){return new Qu(t)}function wH(t){return new OT(t)}function ET(t){this._context=t}ET.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=lw(t),i=lw(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function lw(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function xH(t){return new ET(t)}function Zf(t,e){this._context=t,this._t=e}Zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function _H(t){return new Zf(t,.5)}function SH(t){return new Zf(t,0)}function OH(t){return new Zf(t,1)}function Lo(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Im(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function AH(t,e){return t[e]}function EH(t){const e=[];return e.key=t,e}function PH(){var t=We([]),e=Im,r=Lo,n=AH;function i(a){var o=Array.from(t.apply(this,arguments),EH),s,c=o.length,l=-1,u;for(const d of a)for(s=0,++l;s<c;++s)(o[s][l]=[0,+n(d,o[s].key,l,a)]).data=d;for(s=0,u=_y(e(o));s<c;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:We(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:We(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Im:typeof a=="function"?a:We(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Lo,i):r},i}function jH(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Lo(t,e)}}function TH(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Lo(t,e)}}function CH(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,c=0,l=0;s<o;++s){for(var u=t[e[s]],d=u[n][1]||0,f=u[n-1][1]||0,h=(d-f)/2,g=0;g<s;++g){var m=t[e[g]],v=m[n][1]||0,b=m[n-1][1]||0;h+=v-b}c+=d,l+=h*d}i[n-1][1]+=i[n-1][0]=r,c&&(r-=l/c)}i[n-1][1]+=i[n-1][0]=r,Lo(t,e)}}function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}var kH=["type","size","sizeType"];function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mm.apply(this,arguments)}function uw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uw(Object(r),!0).forEach(function(n){$H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $H(t,e,r){return e=NH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NH(t){var e=RH(t,"string");return Ac(e)=="symbol"?e:e+""}function RH(t,e){if(Ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IH(t,e){if(t==null)return{};var r=MH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var PT={symbolCircle:Sy,symbolCross:nH,symbolDiamond:aH,symbolSquare:oH,symbolStar:uH,symbolTriangle:dH,symbolWye:hH},DH=Math.PI/180,LH=function(e){var r="symbol".concat(Xf(e));return PT[r]||Sy},BH=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*DH;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},FH=function(e,r){PT["symbol".concat(Xf(e))]=r},eh=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,c=IH(e,kH),l=dw(dw({},c),{},{type:n,size:a,sizeType:s}),u=function(){var v=LH(n),b=pH().type(v).size(BH(a,s,n));return b()},d=l.className,f=l.cx,h=l.cy,g=te(l,!0);return f===+f&&h===+h&&a===+a?P.createElement("path",Mm({},g,{className:pe("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};eh.registerSymbol=FH;function Bo(t){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bo(t)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dm.apply(this,arguments)}function fw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fw(Object(r),!0).forEach(function(n){Ec(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TT(n.key),n)}}function qH(t,e,r){return e&&zH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HH(t,e,r){return e=Ju(e),KH(t,jT()?Reflect.construct(e,r||[],Ju(t).constructor):e.apply(t,r))}function KH(t,e){if(e&&(Bo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VH(t)}function VH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jT=function(){return!!t})()}function Ju(t){return Ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ju(t)}function GH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lm(t,e)}function Lm(t,e){return Lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lm(t,e)}function Ec(t,e,r){return e=TT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TT(t){var e=YH(t,"string");return Bo(e)=="symbol"?e:e+""}function YH(t,e){if(Bo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ir=32,Oy=function(t){function e(){return WH(this,e),HH(this,e,arguments)}return GH(e,t),qH(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ir/2,o=ir/6,s=ir/3,c=n.inactive?i:n.color;if(n.type==="plainline")return P.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ir,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(ir,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return P.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ir/8,"h").concat(ir,"v").concat(ir*3/4,"h").concat(-ir,"z"),className:"recharts-legend-icon"});if(P.isValidElement(n.legendIcon)){var l=UH({},n);return delete l.legendIcon,P.cloneElement(n.legendIcon,l)}return P.createElement(eh,{fill:c,cx:a,cy:a,size:ir,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,c=i.formatter,l=i.inactiveColor,u={x:0,y:0,width:ir,height:ir},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,g){var m=h.formatter||c,v=pe(Ec(Ec({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=ce(h.value)?null:h.value;Mr(!ce(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?l:h.color;return P.createElement("li",Dm({className:v,style:d,key:"legend-item-".concat(g)},Si(n.props,h,g)),P.createElement(jm,{width:o,height:o,viewBox:u,style:f},n.renderIcon(h)),P.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(b,h,g):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(x.PureComponent);Ec(Oy,"displayName","Legend");Ec(Oy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var XH=Df;function QH(){this.__data__=new XH,this.size=0}var JH=QH;function ZH(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var e6=ZH;function t6(t){return this.__data__.get(t)}var r6=t6;function n6(t){return this.__data__.has(t)}var i6=n6,a6=Df,o6=fy,s6=hy,c6=200;function l6(t,e){var r=this.__data__;if(r instanceof a6){var n=r.__data__;if(!o6||n.length<c6-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new s6(n)}return r.set(t,e),this.size=r.size,this}var u6=l6,d6=Df,f6=JH,h6=e6,p6=r6,m6=i6,v6=u6;function Ts(t){var e=this.__data__=new d6(t);this.size=e.size}Ts.prototype.clear=f6;Ts.prototype.delete=h6;Ts.prototype.get=p6;Ts.prototype.has=m6;Ts.prototype.set=v6;var CT=Ts,g6="__lodash_hash_undefined__";function y6(t){return this.__data__.set(t,g6),this}var b6=y6;function w6(t){return this.__data__.has(t)}var x6=w6,_6=hy,S6=b6,O6=x6;function Zu(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new _6;++e<r;)this.add(t[e])}Zu.prototype.add=Zu.prototype.push=S6;Zu.prototype.has=O6;var kT=Zu;function A6(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var $T=A6;function E6(t,e){return t.has(e)}var NT=E6,P6=kT,j6=$T,T6=NT,C6=1,k6=2;function $6(t,e,r,n,i,a){var o=r&C6,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(t),u=a.get(e);if(l&&u)return l==e&&u==t;var d=-1,f=!0,h=r&k6?new P6:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var g=t[d],m=e[d];if(n)var v=o?n(m,g,d,e,t,a):n(g,m,d,t,e,a);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!j6(e,function(b,w){if(!T6(h,w)&&(g===b||i(g,b,r,n,a)))return h.push(w)})){f=!1;break}}else if(!(g===m||i(g,m,r,n,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var RT=$6,N6=fn,R6=N6.Uint8Array,I6=R6;function M6(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var D6=M6;function L6(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Ay=L6,hw=bl,pw=I6,B6=dy,F6=RT,U6=D6,W6=Ay,z6=1,q6=2,H6="[object Boolean]",K6="[object Date]",V6="[object Error]",G6="[object Map]",Y6="[object Number]",X6="[object RegExp]",Q6="[object Set]",J6="[object String]",Z6="[object Symbol]",eK="[object ArrayBuffer]",tK="[object DataView]",mw=hw?hw.prototype:void 0,ap=mw?mw.valueOf:void 0;function rK(t,e,r,n,i,a,o){switch(r){case tK:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case eK:return!(t.byteLength!=e.byteLength||!a(new pw(t),new pw(e)));case H6:case K6:case Y6:return B6(+t,+e);case V6:return t.name==e.name&&t.message==e.message;case X6:case J6:return t==e+"";case G6:var s=U6;case Q6:var c=n&z6;if(s||(s=W6),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=q6,o.set(t,e);var u=F6(s(t),s(e),n,i,a,o);return o.delete(t),u;case Z6:if(ap)return ap.call(t)==ap.call(e)}return!1}var nK=rK;function iK(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var IT=iK,aK=IT,oK=Wt;function sK(t,e,r){var n=e(t);return oK(t)?n:aK(n,r(t))}var cK=sK;function lK(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var uK=lK;function dK(){return[]}var fK=dK,hK=uK,pK=fK,mK=Object.prototype,vK=mK.propertyIsEnumerable,vw=Object.getOwnPropertySymbols,gK=vw?function(t){return t==null?[]:(t=Object(t),hK(vw(t),function(e){return vK.call(t,e)}))}:pK,yK=gK;function bK(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var wK=bK,xK=Ln,_K=Bn,SK="[object Arguments]";function OK(t){return _K(t)&&xK(t)==SK}var AK=OK,gw=AK,EK=Bn,MT=Object.prototype,PK=MT.hasOwnProperty,jK=MT.propertyIsEnumerable,TK=gw(function(){return arguments}())?gw:function(t){return EK(t)&&PK.call(t,"callee")&&!jK.call(t,"callee")},Ey=TK,ed={exports:{}};function CK(){return!1}var kK=CK;ed.exports;(function(t,e){var r=fn,n=kK,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||n;t.exports=l})(ed,ed.exports);var DT=ed.exports,$K=9007199254740991,NK=/^(?:0|[1-9]\d*)$/;function RK(t,e){var r=typeof t;return e=e??$K,!!e&&(r=="number"||r!="symbol"&&NK.test(t))&&t>-1&&t%1==0&&t<e}var Py=RK,IK=9007199254740991;function MK(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=IK}var jy=MK,DK=Ln,LK=jy,BK=Bn,FK="[object Arguments]",UK="[object Array]",WK="[object Boolean]",zK="[object Date]",qK="[object Error]",HK="[object Function]",KK="[object Map]",VK="[object Number]",GK="[object Object]",YK="[object RegExp]",XK="[object Set]",QK="[object String]",JK="[object WeakMap]",ZK="[object ArrayBuffer]",eV="[object DataView]",tV="[object Float32Array]",rV="[object Float64Array]",nV="[object Int8Array]",iV="[object Int16Array]",aV="[object Int32Array]",oV="[object Uint8Array]",sV="[object Uint8ClampedArray]",cV="[object Uint16Array]",lV="[object Uint32Array]",ze={};ze[tV]=ze[rV]=ze[nV]=ze[iV]=ze[aV]=ze[oV]=ze[sV]=ze[cV]=ze[lV]=!0;ze[FK]=ze[UK]=ze[ZK]=ze[WK]=ze[eV]=ze[zK]=ze[qK]=ze[HK]=ze[KK]=ze[VK]=ze[GK]=ze[YK]=ze[XK]=ze[QK]=ze[JK]=!1;function uV(t){return BK(t)&&LK(t.length)&&!!ze[DK(t)]}var dV=uV;function fV(t){return function(e){return t(e)}}var LT=fV,td={exports:{}};td.exports;(function(t,e){var r=Hj,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(td,td.exports);var hV=td.exports,pV=dV,mV=LT,yw=hV,bw=yw&&yw.isTypedArray,vV=bw?mV(bw):pV,BT=vV,gV=wK,yV=Ey,bV=Wt,wV=DT,xV=Py,_V=BT,SV=Object.prototype,OV=SV.hasOwnProperty;function AV(t,e){var r=bV(t),n=!r&&yV(t),i=!r&&!n&&wV(t),a=!r&&!n&&!i&&_V(t),o=r||n||i||a,s=o?gV(t.length,String):[],c=s.length;for(var l in t)(e||OV.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||xV(l,c)))&&s.push(l);return s}var EV=AV,PV=Object.prototype;function jV(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||PV;return t===r}var TV=jV;function CV(t,e){return function(r){return t(e(r))}}var FT=CV,kV=FT,$V=kV(Object.keys,Object),NV=$V,RV=TV,IV=NV,MV=Object.prototype,DV=MV.hasOwnProperty;function LV(t){if(!RV(t))return IV(t);var e=[];for(var r in Object(t))DV.call(t,r)&&r!="constructor"&&e.push(r);return e}var BV=LV,FV=uy,UV=jy;function WV(t){return t!=null&&UV(t.length)&&!FV(t)}var wl=WV,zV=EV,qV=BV,HV=wl;function KV(t){return HV(t)?zV(t):qV(t)}var th=KV,VV=cK,GV=yK,YV=th;function XV(t){return VV(t,YV,GV)}var QV=XV,ww=QV,JV=1,ZV=Object.prototype,eG=ZV.hasOwnProperty;function tG(t,e,r,n,i,a){var o=r&JV,s=ww(t),c=s.length,l=ww(e),u=l.length;if(c!=u&&!o)return!1;for(var d=c;d--;){var f=s[d];if(!(o?f in e:eG.call(e,f)))return!1}var h=a.get(t),g=a.get(e);if(h&&g)return h==e&&g==t;var m=!0;a.set(t,e),a.set(e,t);for(var v=o;++d<c;){f=s[d];var b=t[f],w=e[f];if(n)var y=o?n(w,b,f,e,t,a):n(b,w,f,t,e,a);if(!(y===void 0?b===w||i(b,w,r,n,a):y)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var O=t.constructor,_=e.constructor;O!=_&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return a.delete(t),a.delete(e),m}var rG=tG,nG=ka,iG=fn,aG=nG(iG,"DataView"),oG=aG,sG=ka,cG=fn,lG=sG(cG,"Promise"),uG=lG,dG=ka,fG=fn,hG=dG(fG,"Set"),UT=hG,pG=ka,mG=fn,vG=pG(mG,"WeakMap"),gG=vG,Bm=oG,Fm=fy,Um=uG,Wm=UT,zm=gG,WT=Ln,Cs=Vj,xw="[object Map]",yG="[object Object]",_w="[object Promise]",Sw="[object Set]",Ow="[object WeakMap]",Aw="[object DataView]",bG=Cs(Bm),wG=Cs(Fm),xG=Cs(Um),_G=Cs(Wm),SG=Cs(zm),Vi=WT;(Bm&&Vi(new Bm(new ArrayBuffer(1)))!=Aw||Fm&&Vi(new Fm)!=xw||Um&&Vi(Um.resolve())!=_w||Wm&&Vi(new Wm)!=Sw||zm&&Vi(new zm)!=Ow)&&(Vi=function(t){var e=WT(t),r=e==yG?t.constructor:void 0,n=r?Cs(r):"";if(n)switch(n){case bG:return Aw;case wG:return xw;case xG:return _w;case _G:return Sw;case SG:return Ow}return e});var OG=Vi,op=CT,AG=RT,EG=nK,PG=rG,Ew=OG,Pw=Wt,jw=DT,jG=BT,TG=1,Tw="[object Arguments]",Cw="[object Array]",Xl="[object Object]",CG=Object.prototype,kw=CG.hasOwnProperty;function kG(t,e,r,n,i,a){var o=Pw(t),s=Pw(e),c=o?Cw:Ew(t),l=s?Cw:Ew(e);c=c==Tw?Xl:c,l=l==Tw?Xl:l;var u=c==Xl,d=l==Xl,f=c==l;if(f&&jw(t)){if(!jw(e))return!1;o=!0,u=!1}if(f&&!u)return a||(a=new op),o||jG(t)?AG(t,e,r,n,i,a):EG(t,e,c,r,n,i,a);if(!(r&TG)){var h=u&&kw.call(t,"__wrapped__"),g=d&&kw.call(e,"__wrapped__");if(h||g){var m=h?t.value():t,v=g?e.value():e;return a||(a=new op),i(m,v,r,n,a)}}return f?(a||(a=new op),PG(t,e,r,n,i,a)):!1}var $G=kG,NG=$G,$w=Bn;function zT(t,e,r,n,i){return t===e?!0:t==null||e==null||!$w(t)&&!$w(e)?t!==t&&e!==e:NG(t,e,r,n,zT,i)}var Ty=zT,RG=CT,IG=Ty,MG=1,DG=2;function LG(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var c=s[0],l=t[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in t))return!1}else{var d=new RG;if(n)var f=n(l,u,c,t,e,d);if(!(f===void 0?IG(u,l,MG|DG,n,d):f))return!1}}return!0}var BG=LG,FG=Ti;function UG(t){return t===t&&!FG(t)}var qT=UG,WG=qT,zG=th;function qG(t){for(var e=zG(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,WG(i)]}return e}var HG=qG;function KG(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var HT=KG,VG=BG,GG=HG,YG=HT;function XG(t){var e=GG(t);return e.length==1&&e[0][2]?YG(e[0][0],e[0][1]):function(r){return r===t||VG(r,t,e)}}var QG=XG;function JG(t,e){return t!=null&&e in Object(t)}var ZG=JG,e7=Jj,t7=Ey,r7=Wt,n7=Py,i7=jy,a7=Bf;function o7(t,e,r){e=e7(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=a7(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&i7(i)&&n7(o,i)&&(r7(t)||t7(t)))}var s7=o7,c7=ZG,l7=s7;function u7(t,e){return t!=null&&l7(t,e,c7)}var d7=u7,f7=Ty,h7=Zj,p7=d7,m7=ly,v7=qT,g7=HT,y7=Bf,b7=1,w7=2;function x7(t,e){return m7(t)&&v7(e)?g7(y7(t),e):function(r){var n=h7(r,t);return n===void 0&&n===e?p7(r,t):f7(e,n,b7|w7)}}var _7=x7;function S7(t){return t}var ks=S7;function O7(t){return function(e){return e==null?void 0:e[t]}}var A7=O7,E7=vy;function P7(t){return function(e){return E7(e,t)}}var j7=P7,T7=A7,C7=j7,k7=ly,$7=Bf;function N7(t){return k7(t)?T7($7(t)):C7(t)}var R7=N7,I7=QG,M7=_7,D7=ks,L7=Wt,B7=R7;function F7(t){return typeof t=="function"?t:t==null?D7:typeof t=="object"?L7(t)?M7(t[0],t[1]):I7(t):B7(t)}var hn=F7;function U7(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var KT=U7;function W7(t){return t!==t}var z7=W7;function q7(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var H7=q7,K7=KT,V7=z7,G7=H7;function Y7(t,e,r){return e===e?G7(t,e,r):K7(t,V7,r)}var X7=Y7,Q7=X7;function J7(t,e){var r=t==null?0:t.length;return!!r&&Q7(t,e,0)>-1}var Z7=J7;function e9(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var t9=e9;function r9(){}var n9=r9,sp=UT,i9=n9,a9=Ay,o9=1/0,s9=sp&&1/a9(new sp([,-0]))[1]==o9?function(t){return new sp(t)}:i9,c9=s9,l9=kT,u9=Z7,d9=t9,f9=NT,h9=c9,p9=Ay,m9=200;function v9(t,e,r){var n=-1,i=u9,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=d9;else if(a>=m9){var l=e?null:h9(t);if(l)return p9(l);o=!1,i=f9,c=new l9}else c=e?[]:s;e:for(;++n<a;){var u=t[n],d=e?e(u):u;if(u=r||u!==0?u:0,o&&d===d){for(var f=c.length;f--;)if(c[f]===d)continue e;e&&c.push(d),s.push(u)}else i(c,d,r)||(c!==s&&c.push(d),s.push(u))}return s}var g9=v9,y9=hn,b9=g9;function w9(t,e){return t&&t.length?b9(t,y9(e)):[]}var x9=w9;const Nw=ke(x9);function VT(t,e,r){return e===!0?Nw(t,r):ce(e)?Nw(t,e):t}function Fo(t){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(t)}var _9=["ref"];function Rw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rw(Object(r),!0).forEach(function(n){rh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YT(n.key),n)}}function O9(t,e,r){return e&&Iw(t.prototype,e),r&&Iw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function A9(t,e,r){return e=rd(e),E9(t,GT()?Reflect.construct(e,r||[],rd(t).constructor):e.apply(t,r))}function E9(t,e){if(e&&(Fo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P9(t)}function P9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GT=function(){return!!t})()}function rd(t){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rd(t)}function j9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qm(t,e)}function qm(t,e){return qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qm(t,e)}function rh(t,e,r){return e=YT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YT(t){var e=T9(t,"string");return Fo(e)=="symbol"?e:e+""}function T9(t,e){if(Fo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C9(t,e){if(t==null)return{};var r=k9(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $9(t){return t.value}function N9(t,e){if(P.isValidElement(t))return P.cloneElement(t,e);if(typeof t=="function")return P.createElement(t,e);e.ref;var r=C9(e,_9);return P.createElement(Oy,r)}var Mw=1,gi=function(t){function e(){var r;S9(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=A9(this,e,[].concat(i)),rh(r,"lastBoundingBox",{width:-1,height:-1}),r}return j9(e,t),O9(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Mw||Math.abs(i.height-this.lastBoundingBox.height)>Mw)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?pn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,c=i.margin,l=i.chartWidth,u=i.chartHeight,d,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();d={left:((l||0)-h.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();f={top:((u||0)-g.height)/2}}else f=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return pn(pn({},d),f)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,c=i.wrapperStyle,l=i.payloadUniqBy,u=i.payload,d=pn(pn({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return P.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){n.wrapperNode=h}},N9(a,pn(pn({},this.props),{},{payload:VT(u,l,$9)})))}}],[{key:"getWithHeight",value:function(n,i){var a=pn(pn({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Y(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(x.PureComponent);rh(gi,"displayName","Legend");rh(gi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Dw=bl,R9=Ey,I9=Wt,Lw=Dw?Dw.isConcatSpreadable:void 0;function M9(t){return I9(t)||R9(t)||!!(Lw&&t&&t[Lw])}var D9=M9,L9=IT,B9=D9;function XT(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=B9),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?XT(s,e-1,r,n,i):L9(i,s):n||(i[i.length]=s)}return i}var QT=XT;function F9(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var c=o[t?s:++i];if(r(a[c],c,a)===!1)break}return e}}var U9=F9,W9=U9,z9=W9(),q9=z9,H9=q9,K9=th;function V9(t,e){return t&&H9(t,e,K9)}var JT=V9,G9=wl;function Y9(t,e){return function(r,n){if(r==null)return r;if(!G9(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var X9=Y9,Q9=JT,J9=X9,Z9=J9(Q9),Cy=Z9,eY=Cy,tY=wl;function rY(t,e){var r=-1,n=tY(t)?Array(t.length):[];return eY(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var ZT=rY;function nY(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var iY=nY,Bw=Ss;function aY(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=Bw(t),o=e!==void 0,s=e===null,c=e===e,l=Bw(e);if(!s&&!l&&!a&&t>e||a&&o&&c&&!s&&!l||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!l&&t<e||l&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!c)return-1}return 0}var oY=aY,sY=oY;function cY(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var c=sY(i[n],a[n]);if(c){if(n>=s)return c;var l=r[n];return c*(l=="desc"?-1:1)}}return t.index-e.index}var lY=cY,cp=my,uY=vy,dY=hn,fY=ZT,hY=iY,pY=LT,mY=lY,vY=ks,gY=Wt;function yY(t,e,r){e.length?e=cp(e,function(a){return gY(a)?function(o){return uY(o,a.length===1?a[0]:a)}:a}):e=[vY];var n=-1;e=cp(e,pY(dY));var i=fY(t,function(a,o,s){var c=cp(e,function(l){return l(a)});return{criteria:c,index:++n,value:a}});return hY(i,function(a,o){return mY(a,o,r)})}var bY=yY;function wY(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var xY=wY,_Y=xY,Fw=Math.max;function SY(t,e,r){return e=Fw(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Fw(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),_Y(t,this,s)}}var OY=SY;function AY(t){return function(){return t}}var EY=AY,PY=ka,jY=function(){try{var t=PY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),eC=jY,TY=EY,Uw=eC,CY=ks,kY=Uw?function(t,e){return Uw(t,"toString",{configurable:!0,enumerable:!1,value:TY(e),writable:!0})}:CY,$Y=kY,NY=800,RY=16,IY=Date.now;function MY(t){var e=0,r=0;return function(){var n=IY(),i=RY-(n-r);if(r=n,i>0){if(++e>=NY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var DY=MY,LY=$Y,BY=DY,FY=BY(LY),UY=FY,WY=ks,zY=OY,qY=UY;function HY(t,e){return qY(zY(t,e,WY),t+"")}var KY=HY,VY=dy,GY=wl,YY=Py,XY=Ti;function QY(t,e,r){if(!XY(r))return!1;var n=typeof e;return(n=="number"?GY(r)&&YY(e,r.length):n=="string"&&e in r)?VY(r[e],t):!1}var nh=QY,JY=QT,ZY=bY,eX=KY,Ww=nh,tX=eX(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Ww(t,e[0],e[1])?e=[]:r>2&&Ww(e[0],e[1],e[2])&&(e=[e[0]]),ZY(t,JY(e,1),[])}),rX=tX;const ky=ke(rX);function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hm.apply(this,arguments)}function nX(t,e){return sX(t)||oX(t,e)||aX(t,e)||iX()}function iX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aX(t,e){if(t){if(typeof t=="string")return zw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zw(t,e)}}function zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function sX(t){if(Array.isArray(t))return t}function qw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qw(Object(r),!0).forEach(function(n){cX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cX(t,e,r){return e=lX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lX(t){var e=uX(t,"string");return Pc(e)=="symbol"?e:e+""}function uX(t,e){if(Pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dX(t){return Array.isArray(t)&&pt(t[0])&&pt(t[1])?t.join(" ~ "):t}var fX=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,c=e.labelStyle,l=c===void 0?{}:c,u=e.payload,d=e.formatter,f=e.itemSorter,h=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,y=function(){if(u&&u.length){var k={padding:0,margin:0},L=(f?ky(u,f):u).map(function(R,M){if(R.type==="none")return null;var $=lp({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},s),I=R.formatter||d||dX,F=R.value,D=R.name,K=F,X=D;if(I&&K!=null&&X!=null){var q=I(F,D,R,M,u);if(Array.isArray(q)){var V=nX(q,2);K=V[0],X=V[1]}else K=q}return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:$},pt(X)?P.createElement("span",{className:"recharts-tooltip-item-name"},X):null,pt(X)?P.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,P.createElement("span",{className:"recharts-tooltip-item-value"},K),P.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:k},L)}return null},O=lp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=lp({margin:0},l),S=!le(m),A=S?m:"",E=pe("recharts-default-tooltip",h),j=pe("recharts-tooltip-label",g);S&&v&&u!==void 0&&u!==null&&(A=v(m,u));var T=w?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",Hm({className:E,style:O},T),P.createElement("p",{className:j,style:_},P.isValidElement(A)?A:"".concat(A)),y())};function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function Ql(t,e,r){return e=hX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hX(t){var e=pX(t,"string");return jc(e)=="symbol"?e:e+""}function pX(t,e){if(jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fs="recharts-tooltip-wrapper",mX={visibility:"hidden"};function vX(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return pe(Fs,Ql(Ql(Ql(Ql({},"".concat(Fs,"-right"),Y(r)&&e&&Y(e.x)&&r>=e.x),"".concat(Fs,"-left"),Y(r)&&e&&Y(e.x)&&r<e.x),"".concat(Fs,"-bottom"),Y(n)&&e&&Y(e.y)&&n>=e.y),"".concat(Fs,"-top"),Y(n)&&e&&Y(e.y)&&n<e.y))}function Hw(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,c=t.viewBox,l=t.viewBoxDimension;if(a&&Y(a[n]))return a[n];var u=r[n]-s-i,d=r[n]+i;if(e[n])return o[n]?u:d;if(o[n]){var f=u,h=c[n];return f<h?Math.max(d,c[n]):Math.max(u,c[n])}var g=d+s,m=c[n]+l;return g>m?Math.max(u,c[n]):Math.max(d,c[n])}function gX(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function yX(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,c=t.viewBox,l,u,d;return o.height>0&&o.width>0&&r?(u=Hw({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=Hw({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),l=gX({translateX:u,translateY:d,useTranslate3d:s})):l=mX,{cssProperties:l,cssClasses:vX({translateX:u,translateY:d,coordinate:r})}}function Uo(t){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(t)}function Kw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kw(Object(r),!0).forEach(function(n){Vm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rC(n.key),n)}}function xX(t,e,r){return e&&wX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _X(t,e,r){return e=nd(e),SX(t,tC()?Reflect.construct(e,r||[],nd(t).constructor):e.apply(t,r))}function SX(t,e){if(e&&(Uo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OX(t)}function OX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tC=function(){return!!t})()}function nd(t){return nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nd(t)}function AX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Km(t,e)}function Km(t,e){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Km(t,e)}function Vm(t,e,r){return e=rC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rC(t){var e=EX(t,"string");return Uo(e)=="symbol"?e:e+""}function EX(t,e){if(Uo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gw=1,PX=function(t){function e(){var r;bX(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_X(this,e,[].concat(i)),Vm(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Vm(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,l,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0}})}}),r}return AX(e,t),xX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Gw||Math.abs(n.height-this.state.lastBoundingBox.height)>Gw)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,l=i.children,u=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,h=i.offset,g=i.position,m=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,y=yX({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:h,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),O=y.cssClasses,_=y.cssProperties,S=Vw(Vw({transition:f&&a?"transform ".concat(s,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return P.createElement("div",{tabIndex:-1,className:O,style:S,ref:function(E){n.wrapperNode=E}},l)}}])}(x.PureComponent),jX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Zt={isSsr:jX(),get:function(e){return Zt[e]},set:function(e,r){if(typeof e=="string")Zt[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Zt[i]=e[i]})}}};function Wo(t){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(t)}function Yw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yw(Object(r),!0).forEach(function(n){$y(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iC(n.key),n)}}function kX(t,e,r){return e&&CX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $X(t,e,r){return e=id(e),NX(t,nC()?Reflect.construct(e,r||[],id(t).constructor):e.apply(t,r))}function NX(t,e){if(e&&(Wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RX(t)}function RX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nC=function(){return!!t})()}function id(t){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},id(t)}function IX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gm(t,e)}function Gm(t,e){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gm(t,e)}function $y(t,e,r){return e=iC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iC(t){var e=MX(t,"string");return Wo(e)=="symbol"?e:e+""}function MX(t,e){if(Wo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DX(t){return t.dataKey}function LX(t,e){return P.isValidElement(t)?P.cloneElement(t,e):typeof t=="function"?P.createElement(t,e):P.createElement(fX,e)}var gt=function(t){function e(){return TX(this,e),$X(this,e,arguments)}return IX(e,t),kX(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,l=i.content,u=i.coordinate,d=i.filterNull,f=i.isAnimationActive,h=i.offset,g=i.payload,m=i.payloadUniqBy,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,y=i.viewBox,O=i.wrapperStyle,_=g??[];d&&_.length&&(_=VT(g.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),m,DX));var S=_.length>0;return P.createElement(PX,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:f,active:a,coordinate:u,hasPayload:S,offset:h,position:v,reverseDirection:b,useTranslate3d:w,viewBox:y,wrapperStyle:O},LX(l,Xw(Xw({},this.props),{},{payload:_})))}}])}(x.PureComponent);$y(gt,"displayName","Tooltip");$y(gt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Zt.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var BX=fn,FX=function(){return BX.Date.now()},UX=FX,WX=/\s/;function zX(t){for(var e=t.length;e--&&WX.test(t.charAt(e)););return e}var qX=zX,HX=qX,KX=/^\s+/;function VX(t){return t&&t.slice(0,HX(t)+1).replace(KX,"")}var GX=VX,YX=GX,Qw=Ti,XX=Ss,Jw=NaN,QX=/^[-+]0x[0-9a-f]+$/i,JX=/^0b[01]+$/i,ZX=/^0o[0-7]+$/i,eQ=parseInt;function tQ(t){if(typeof t=="number")return t;if(XX(t))return Jw;if(Qw(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Qw(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=YX(t);var r=JX.test(t);return r||ZX.test(t)?eQ(t.slice(2),r?2:8):QX.test(t)?Jw:+t}var aC=tQ,rQ=Ti,up=UX,Zw=aC,nQ="Expected a function",iQ=Math.max,aQ=Math.min;function oQ(t,e,r){var n,i,a,o,s,c,l=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(nQ);e=Zw(e)||0,rQ(r)&&(u=!!r.leading,d="maxWait"in r,a=d?iQ(Zw(r.maxWait)||0,e):a,f="trailing"in r?!!r.trailing:f);function h(S){var A=n,E=i;return n=i=void 0,l=S,o=t.apply(E,A),o}function g(S){return l=S,s=setTimeout(b,e),u?h(S):o}function m(S){var A=S-c,E=S-l,j=e-A;return d?aQ(j,a-E):j}function v(S){var A=S-c,E=S-l;return c===void 0||A>=e||A<0||d&&E>=a}function b(){var S=up();if(v(S))return w(S);s=setTimeout(b,m(S))}function w(S){return s=void 0,f&&n?h(S):(n=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,n=c=i=s=void 0}function O(){return s===void 0?o:w(up())}function _(){var S=up(),A=v(S);if(n=arguments,i=this,c=S,A){if(s===void 0)return g(c);if(d)return clearTimeout(s),s=setTimeout(b,e),h(c)}return s===void 0&&(s=setTimeout(b,e)),o}return _.cancel=y,_.flush=O,_}var sQ=oQ,cQ=sQ,lQ=Ti,uQ="Expected a function";function dQ(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(uQ);return lQ(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),cQ(t,e,{leading:n,maxWait:e,trailing:i})}var fQ=dQ;const oC=ke(fQ);function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function ex(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ex(Object(r),!0).forEach(function(n){hQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hQ(t,e,r){return e=pQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pQ(t){var e=mQ(t,"string");return Tc(e)=="symbol"?e:e+""}function mQ(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vQ(t,e){return wQ(t)||bQ(t,e)||yQ(t,e)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(t,e){if(t){if(typeof t=="string")return tx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(t,e)}}function tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function wQ(t){if(Array.isArray(t))return t}var Hr=x.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,c=s===void 0?"100%":s,l=t.minWidth,u=l===void 0?0:l,d=t.minHeight,f=t.maxHeight,h=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,b=t.className,w=t.onResize,y=t.style,O=y===void 0?{}:y,_=x.useRef(null),S=x.useRef();S.current=w,x.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var A=x.useState({containerWidth:i.width,containerHeight:i.height}),E=vQ(A,2),j=E[0],T=E[1],C=x.useCallback(function(L,R){T(function(M){var $=Math.round(L),I=Math.round(R);return M.containerWidth===$&&M.containerHeight===I?M:{containerWidth:$,containerHeight:I}})},[]);x.useEffect(function(){var L=function(D){var K,X=D[0].contentRect,q=X.width,V=X.height;C(q,V),(K=S.current)===null||K===void 0||K.call(S,q,V)};m>0&&(L=oC(L,m,{trailing:!0,leading:!1}));var R=new ResizeObserver(L),M=_.current.getBoundingClientRect(),$=M.width,I=M.height;return C($,I),R.observe(_.current),function(){R.disconnect()}},[C,m]);var k=x.useMemo(function(){var L=j.containerWidth,R=j.containerHeight;if(L<0||R<0)return null;Mr(ta(o)||ta(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Mr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=ta(o)?L:o,$=ta(c)?R:c;r&&r>0&&(M?$=M/r:$&&(M=$*r),f&&$>f&&($=f)),Mr(M>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,$,o,c,u,d,r);var I=!Array.isArray(h)&&An(h.type).endsWith("Chart");return P.Children.map(h,function(F){return P.isValidElement(F)?x.cloneElement(F,Jl({width:M,height:$},I?{style:Jl({height:"100%",width:"100%",maxHeight:$,maxWidth:M},F.props.style)}:{})):F})},[r,h,c,f,d,u,j,o]);return P.createElement("div",{id:v?"".concat(v):void 0,className:pe("recharts-responsive-container",b),style:Jl(Jl({},O),{},{width:o,height:c,minWidth:u,minHeight:d,maxHeight:f}),ref:_},k)}),$s=function(e){return null};$s.displayName="Cell";function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function rx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ym(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rx(Object(r),!0).forEach(function(n){xQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xQ(t,e,r){return e=_Q(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Q(t){var e=SQ(t,"string");return Cc(e)=="symbol"?e:e+""}function SQ(t,e){if(Cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Va={widthCache:{},cacheCount:0},OQ=2e3,AQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nx="recharts_measurement_span";function EQ(t){var e=Ym({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var ic=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Zt.isSsr)return{width:0,height:0};var n=EQ(r),i=JSON.stringify({text:e,copyStyle:n});if(Va.widthCache[i])return Va.widthCache[i];try{var a=document.getElementById(nx);a||(a=document.createElement("span"),a.setAttribute("id",nx),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Ym(Ym({},AQ),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),c={width:s.width,height:s.height};return Va.widthCache[i]=c,++Va.cacheCount>OQ&&(Va.cacheCount=0,Va.widthCache={}),c}catch{return{width:0,height:0}}},PQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function ad(t,e){return kQ(t)||CQ(t,e)||TQ(t,e)||jQ()}function jQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(t,e){if(t){if(typeof t=="string")return ix(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ix(t,e)}}function ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function kQ(t){if(Array.isArray(t))return t}function $Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ax(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RQ(n.key),n)}}function NQ(t,e,r){return e&&ax(t.prototype,e),r&&ax(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RQ(t){var e=IQ(t,"string");return kc(e)=="symbol"?e:e+""}function IQ(t,e){if(kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ox=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},LQ=Object.keys(sC),ro="NaN";function BQ(t,e){return t*sC[e]}var Zl=function(){function t(e,r){$Q(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!MQ.test(r)&&(this.num=NaN,this.unit=""),LQ.includes(r)&&(this.num=BQ(e,r),this.unit="px")}return NQ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=DQ.exec(r))!==null&&n!==void 0?n:[],a=ad(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function cC(t){if(t.includes(ro))return ro;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=ox.exec(e))!==null&&r!==void 0?r:[],i=ad(n,4),a=i[1],o=i[2],s=i[3],c=Zl.parse(a??""),l=Zl.parse(s??""),u=o==="*"?c.multiply(l):c.divide(l);if(u.isNaN())return ro;e=e.replace(ox,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=sx.exec(e))!==null&&d!==void 0?d:[],h=ad(f,4),g=h[1],m=h[2],v=h[3],b=Zl.parse(g??""),w=Zl.parse(v??""),y=m==="+"?b.add(w):b.subtract(w);if(y.isNaN())return ro;e=e.replace(sx,y.toString())}return e}var cx=/\(([^()]*)\)/;function FQ(t){for(var e=t;e.includes("(");){var r=cx.exec(e),n=ad(r,2),i=n[1];e=e.replace(cx,cC(i))}return e}function UQ(t){var e=t.replace(/\s+/g,"");return e=FQ(e),e=cC(e),e}function WQ(t){try{return UQ(t)}catch{return ro}}function dp(t){var e=WQ(t.slice(5,-1));return e===ro?"":e}var zQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qQ=["dx","dy","angle","className","breakAll"];function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xm.apply(this,arguments)}function lx(t,e){if(t==null)return{};var r=HQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ux(t,e){return YQ(t)||GQ(t,e)||VQ(t,e)||KQ()}function KQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VQ(t,e){if(t){if(typeof t=="string")return dx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dx(t,e)}}function dx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function YQ(t){if(Array.isArray(t))return t}var lC=/[ \f\n\r\t\v\u2028\u2029]+/,uC=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];le(r)||(n?a=r.toString().split(""):a=r.toString().split(lC));var o=a.map(function(c){return{word:c,width:ic(c,i).width}}),s=n?0:ic("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},XQ=function(e,r,n,i,a){var o=e.maxLines,s=e.children,c=e.style,l=e.breakAll,u=Y(o),d=s,f=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function($,I){var F=I.word,D=I.width,K=$[$.length-1];if(K&&(i==null||a||K.width+D+n<Number(i)))K.words.push(F),K.width+=D+n;else{var X={words:[F],width:D};$.push(X)}return $},[])},h=f(r),g=function(M){return M.reduce(function($,I){return $.width>I.width?$:I})};if(!u)return h;for(var m="",v=function(M){var $=d.slice(0,M),I=uC({breakAll:l,style:c,children:$+m}).wordsWithComputedWidth,F=f(I),D=F.length>o||g(F).width>Number(i);return[D,F]},b=0,w=d.length-1,y=0,O;b<=w&&y<=d.length-1;){var _=Math.floor((b+w)/2),S=_-1,A=v(S),E=ux(A,2),j=E[0],T=E[1],C=v(_),k=ux(C,1),L=k[0];if(!j&&!L&&(b=_+1),j&&L&&(w=_-1),!j&&L){O=T;break}y++}return O||h},fx=function(e){var r=le(e)?[]:e.toString().split(lC);return[{words:r}]},QQ=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Zt.isSsr){var c,l,u=uC({breakAll:o,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;c=d,l=f}else return fx(i);return XQ({breakAll:o,children:i,maxLines:s,style:a},c,l,r,n)}return fx(i)},hx="#808080",Aa=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,c=e.capHeight,l=c===void 0?"0.71em":c,u=e.scaleToFit,d=u===void 0?!1:u,f=e.textAnchor,h=f===void 0?"start":f,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,b=v===void 0?hx:v,w=lx(e,zQ),y=x.useMemo(function(){return QQ({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),O=w.dx,_=w.dy,S=w.angle,A=w.className,E=w.breakAll,j=lx(w,qQ);if(!pt(n)||!pt(a))return null;var T=n+(Y(O)?O:0),C=a+(Y(_)?_:0),k;switch(m){case"start":k=dp("calc(".concat(l,")"));break;case"middle":k=dp("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:k=dp("calc(".concat(y.length-1," * -").concat(s,")"));break}var L=[];if(d){var R=y[0].width,M=w.width;L.push("scale(".concat((Y(M)?M/R:1)/R,")"))}return S&&L.push("rotate(".concat(S,", ").concat(T,", ").concat(C,")")),L.length&&(j.transform=L.join(" ")),P.createElement("text",Xm({},te(j,!0),{x:T,y:C,className:pe("recharts-text",A),textAnchor:h,fill:b.includes("url")?hx:b}),y.map(function($,I){var F=$.words.join(E?"":" ");return P.createElement("tspan",{x:T,dy:I===0?k:s,key:"".concat(F,"-").concat(I)},F)}))};function yi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ny(t){let e,r,n;t.length!==2?(e=yi,r=(s,c)=>yi(t(s),c),n=(s,c)=>t(s)-c):(e=t===yi||t===JQ?t:ZQ,r=t,n=t);function i(s,c,l=0,u=s.length){if(l<u){if(e(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<0?l=d+1:u=d}while(l<u)}return l}function a(s,c,l=0,u=s.length){if(l<u){if(e(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<=0?l=d+1:u=d}while(l<u)}return l}function o(s,c,l=0,u=s.length){const d=i(s,c,l,u-1);return d>l&&n(s[d-1],c)>-n(s[d],c)?d-1:d}return{left:i,center:o,right:a}}function ZQ(){return 0}function dC(t){return t===null?NaN:+t}function*eJ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const tJ=Ny(yi),xl=tJ.right;Ny(dC).center;class px extends Map{constructor(e,r=iJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(mx(this,e))}has(e){return super.has(mx(this,e))}set(e,r){return super.set(rJ(this,e),r)}delete(e){return super.delete(nJ(this,e))}}function mx({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function rJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function nJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function iJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function aJ(t=yi){if(t===yi)return fC;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function fC(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const oJ=Math.sqrt(50),sJ=Math.sqrt(10),cJ=Math.sqrt(2);function od(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=oJ?10:a>=sJ?5:a>=cJ?2:1;let s,c,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(t*l),c=Math.round(e*l),s/l<t&&++s,c/l>e&&--c,l=-l):(l=Math.pow(10,i)*o,s=Math.round(t/l),c=Math.round(e/l),s*l<t&&++s,c*l>e&&--c),c<s&&.5<=r&&r<2?od(t,e,r*2):[s,c,l]}function Qm(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?od(e,t,r):od(t,e,r);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(n)if(o<0)for(let l=0;l<s;++l)c[l]=(a-l)/-o;else for(let l=0;l<s;++l)c[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)c[l]=(i+l)/-o;else for(let l=0;l<s;++l)c[l]=(i+l)*o;return c}function Jm(t,e,r){return e=+e,t=+t,r=+r,od(t,e,r)[2]}function Zm(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Jm(e,t,r):Jm(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function vx(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gx(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hC(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?fC:aJ(i);n>r;){if(n-r>600){const c=n-r+1,l=e-r+1,u=Math.log(c),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(c-d)/c)*(l-c/2<0?-1:1),h=Math.max(r,Math.floor(e-l*d/c+f)),g=Math.min(n,Math.floor(e+(c-l)*d/c+f));hC(t,e,h,g,i)}const a=t[e];let o=r,s=n;for(Us(t,r,e),i(t[n],a)>0&&Us(t,r,n);o<s;){for(Us(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Us(t,r,s):(++s,Us(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Us(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function lJ(t,e,r){if(t=Float64Array.from(eJ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return gx(t);if(e>=1)return vx(t);var n,i=(n-1)*e,a=Math.floor(i),o=vx(hC(t,a).subarray(0,a+1)),s=gx(t.subarray(a+1));return o+(s-o)*(i-a)}}function uJ(t,e,r=dC){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function dJ(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function yr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ev=Symbol("implicit");function Ry(){var t=new px,e=[],r=[],n=ev;function i(a){let o=t.get(a);if(o===void 0){if(n!==ev)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new px;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Ry(e,r).unknown(n)},yr.apply(i,arguments),i}function $c(){var t=Ry().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,c=0,l=0,u=.5;delete t.unknown;function d(){var f=e().length,h=i<n,g=h?i:n,m=h?n:i;a=(m-g)/Math.max(1,f-c+l*2),s&&(a=Math.floor(a)),g+=(m-g-a*(f-c))*u,o=a*(1-c),s&&(g=Math.round(g),o=Math.round(o));var v=dJ(f).map(function(b){return g+a*b});return r(h?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(s=!!f,d()):s},t.padding=function(f){return arguments.length?(c=Math.min(1,l=+f),d()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),d()):c},t.paddingOuter=function(f){return arguments.length?(l=+f,d()):l},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return $c(e(),[n,i]).round(s).paddingInner(c).paddingOuter(l).align(u)},yr.apply(d(),arguments)}function pC(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pC(e())},t}function ac(){return pC($c.apply(null,arguments).paddingInner(1))}function Iy(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function mC(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function _l(){}var Nc=.7,sd=1/Nc,vo="\\s*([+-]?\\d+)\\s*",Rc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fJ=/^#([0-9a-f]{3,8})$/,hJ=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),pJ=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),mJ=new RegExp(`^rgba\\(${vo},${vo},${vo},${Rc}\\)$`),vJ=new RegExp(`^rgba\\(${nn},${nn},${nn},${Rc}\\)$`),gJ=new RegExp(`^hsl\\(${Rc},${nn},${nn}\\)$`),yJ=new RegExp(`^hsla\\(${Rc},${nn},${nn},${Rc}\\)$`),yx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Iy(_l,Ic,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bx,formatHex:bx,formatHex8:bJ,formatHsl:wJ,formatRgb:wx,toString:wx});function bx(){return this.rgb().formatHex()}function bJ(){return this.rgb().formatHex8()}function wJ(){return vC(this).formatHsl()}function wx(){return this.rgb().formatRgb()}function Ic(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=fJ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?xx(e):r===3?new Ft(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?eu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?eu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hJ.exec(t))?new Ft(e[1],e[2],e[3],1):(e=pJ.exec(t))?new Ft(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mJ.exec(t))?eu(e[1],e[2],e[3],e[4]):(e=vJ.exec(t))?eu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gJ.exec(t))?Ox(e[1],e[2]/100,e[3]/100,1):(e=yJ.exec(t))?Ox(e[1],e[2]/100,e[3]/100,e[4]):yx.hasOwnProperty(t)?xx(yx[t]):t==="transparent"?new Ft(NaN,NaN,NaN,0):null}function xx(t){return new Ft(t>>16&255,t>>8&255,t&255,1)}function eu(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ft(t,e,r,n)}function xJ(t){return t instanceof _l||(t=Ic(t)),t?(t=t.rgb(),new Ft(t.r,t.g,t.b,t.opacity)):new Ft}function tv(t,e,r,n){return arguments.length===1?xJ(t):new Ft(t,e,r,n??1)}function Ft(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Iy(Ft,tv,mC(_l,{brighter(t){return t=t==null?sd:Math.pow(sd,t),new Ft(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nc:Math.pow(Nc,t),new Ft(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ft(va(this.r),va(this.g),va(this.b),cd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_x,formatHex:_x,formatHex8:_J,formatRgb:Sx,toString:Sx}));function _x(){return`#${ra(this.r)}${ra(this.g)}${ra(this.b)}`}function _J(){return`#${ra(this.r)}${ra(this.g)}${ra(this.b)}${ra((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sx(){const t=cd(this.opacity);return`${t===1?"rgb(":"rgba("}${va(this.r)}, ${va(this.g)}, ${va(this.b)}${t===1?")":`, ${t})`}`}function cd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function va(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ra(t){return t=va(t),(t<16?"0":"")+t.toString(16)}function Ox(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Rr(t,e,r,n)}function vC(t){if(t instanceof Rr)return new Rr(t.h,t.s,t.l,t.opacity);if(t instanceof _l||(t=Ic(t)),!t)return new Rr;if(t instanceof Rr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,c=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new Rr(o,s,c,t.opacity)}function SJ(t,e,r,n){return arguments.length===1?vC(t):new Rr(t,e,r,n??1)}function Rr(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Iy(Rr,SJ,mC(_l,{brighter(t){return t=t==null?sd:Math.pow(sd,t),new Rr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nc:Math.pow(Nc,t),new Rr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ft(fp(t>=240?t-240:t+120,i,n),fp(t,i,n),fp(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Rr(Ax(this.h),tu(this.s),tu(this.l),cd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cd(this.opacity);return`${t===1?"hsl(":"hsla("}${Ax(this.h)}, ${tu(this.s)*100}%, ${tu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ax(t){return t=(t||0)%360,t<0?t+360:t}function tu(t){return Math.max(0,Math.min(1,t||0))}function fp(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const My=t=>()=>t;function OJ(t,e){return function(r){return t+r*e}}function AJ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function EJ(t){return(t=+t)==1?gC:function(e,r){return r-e?AJ(e,r,t):My(isNaN(e)?r:e)}}function gC(t,e){var r=e-t;return r?OJ(t,r):My(isNaN(t)?e:t)}const Ex=function t(e){var r=EJ(e);function n(i,a){var o=r((i=tv(i)).r,(a=tv(a)).r),s=r(i.g,a.g),c=r(i.b,a.b),l=gC(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=c(u),i.opacity=l(u),i+""}}return n.gamma=t,n}(1);function PJ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function jJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function TJ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Ns(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function CJ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ld(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function kJ(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Ns(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var rv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hp=new RegExp(rv.source,"g");function $J(t){return function(){return t}}function NJ(t){return function(e){return t(e)+""}}function RJ(t,e){var r=rv.lastIndex=hp.lastIndex=0,n,i,a,o=-1,s=[],c=[];for(t=t+"",e=e+"";(n=rv.exec(t))&&(i=hp.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:ld(n,i)})),r=hp.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?NJ(c[0].x):$J(e):(e=c.length,function(l){for(var u=0,d;u<e;++u)s[(d=c[u]).i]=d.x(l);return s.join("")})}function Ns(t,e){var r=typeof e,n;return e==null||r==="boolean"?My(e):(r==="number"?ld:r==="string"?(n=Ic(e))?(e=n,Ex):RJ:e instanceof Ic?Ex:e instanceof Date?CJ:jJ(e)?PJ:Array.isArray(e)?TJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kJ:ld)(t,e)}function Dy(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function IJ(t,e){e===void 0&&(e=t,t=Ns);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function MJ(t){return function(){return t}}function ud(t){return+t}var Px=[0,1];function Nt(t){return t}function nv(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:MJ(isNaN(e)?NaN:.5)}function DJ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function LJ(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=nv(i,n),a=r(o,a)):(n=nv(n,i),a=r(a,o)),function(s){return a(n(s))}}function BJ(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=nv(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var c=xl(t,s,1,n)-1;return a[c](i[c](s))}}function Sl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ih(){var t=Px,e=Px,r=Ns,n,i,a,o=Nt,s,c,l;function u(){var f=Math.min(t.length,e.length);return o!==Nt&&(o=DJ(t[0],t[f-1])),s=f>2?BJ:LJ,c=l=null,d}function d(f){return f==null||isNaN(f=+f)?a:(c||(c=s(t.map(n),e,r)))(n(o(f)))}return d.invert=function(f){return o(i((l||(l=s(e,t.map(n),ld)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,ud),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),r=Dy,u()},d.clamp=function(f){return arguments.length?(o=f?!0:Nt,u()):o!==Nt},d.interpolate=function(f){return arguments.length?(r=f,u()):r},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return n=f,i=h,u()}}function Ly(){return ih()(Nt,Nt)}function FJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function dd(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function zo(t){return t=dd(Math.abs(t)),t?t[1]:NaN}function UJ(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(r.substring(i-=s,i+s)),!((c+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function WJ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var zJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mc(t){if(!(e=zJ.exec(t)))throw new Error("invalid format: "+t);var e;return new By({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mc.prototype=By.prototype;function By(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}By.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qJ(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var yC;function HJ(t,e){var r=dd(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(yC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+dd(t,Math.max(0,e+a-1))[0]}function jx(t,e){var r=dd(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Tx={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:FJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jx(t*100,e),r:jx,s:HJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Cx(t){return t}var kx=Array.prototype.map,$x=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function KJ(t){var e=t.grouping===void 0||t.thousands===void 0?Cx:UJ(kx.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Cx:WJ(kx.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function l(d){d=Mc(d);var f=d.fill,h=d.align,g=d.sign,m=d.symbol,v=d.zero,b=d.width,w=d.comma,y=d.precision,O=d.trim,_=d.type;_==="n"?(w=!0,_="g"):Tx[_]||(y===void 0&&(y=12),O=!0,_="g"),(v||f==="0"&&h==="=")&&(v=!0,f="0",h="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",A=m==="$"?n:/[%p]/.test(_)?o:"",E=Tx[_],j=/[defgprs%]/.test(_);y=y===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function T(C){var k=S,L=A,R,M,$;if(_==="c")L=E(C)+L,C="";else{C=+C;var I=C<0||1/C<0;if(C=isNaN(C)?c:E(Math.abs(C),y),O&&(C=qJ(C)),I&&+C==0&&g!=="+"&&(I=!1),k=(I?g==="("?g:s:g==="-"||g==="("?"":g)+k,L=(_==="s"?$x[8+yC/3]:"")+L+(I&&g==="("?")":""),j){for(R=-1,M=C.length;++R<M;)if($=C.charCodeAt(R),48>$||$>57){L=($===46?i+C.slice(R+1):C.slice(R))+L,C=C.slice(0,R);break}}}w&&!v&&(C=e(C,1/0));var F=k.length+C.length+L.length,D=F<b?new Array(b-F+1).join(f):"";switch(w&&v&&(C=e(D+C,D.length?b-L.length:1/0),D=""),h){case"<":C=k+C+L+D;break;case"=":C=k+D+C+L;break;case"^":C=D.slice(0,F=D.length>>1)+k+C+L+D.slice(F);break;default:C=D+k+C+L;break}return a(C)}return T.toString=function(){return d+""},T}function u(d,f){var h=l((d=Mc(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(zo(f)/3)))*3,m=Math.pow(10,-g),v=$x[8+g/3];return function(b){return h(m*b)+v}}return{format:l,formatPrefix:u}}var ru,Fy,bC;VJ({thousands:",",grouping:[3],currency:["$",""]});function VJ(t){return ru=KJ(t),Fy=ru.format,bC=ru.formatPrefix,ru}function GJ(t){return Math.max(0,-zo(Math.abs(t)))}function YJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zo(e)/3)))*3-zo(Math.abs(t)))}function XJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zo(e)-zo(t))+1}function wC(t,e,r,n){var i=Zm(t,e,r),a;switch(n=Mc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=YJ(i,o))&&(n.precision=a),bC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=XJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=GJ(i))&&(n.precision=a-(n.type==="%")*2);break}}return Fy(n)}function ki(t){var e=t.domain;return t.ticks=function(r){var n=e();return Qm(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return wC(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],c,l,u=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);u-- >0;){if(l=Jm(o,s,r),l===c)return n[i]=o,n[a]=s,e(n);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;c=l}return t},t}function fd(){var t=Ly();return t.copy=function(){return Sl(t,fd())},yr.apply(t,arguments),ki(t)}function xC(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,ud),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return xC(t).unknown(e)},t=arguments.length?Array.from(t,ud):[0,1],ki(r)}function _C(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function Nx(t){return Math.log(t)}function Rx(t){return Math.exp(t)}function QJ(t){return-Math.log(-t)}function JJ(t){return-Math.exp(-t)}function ZJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function eZ(t){return t===10?ZJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function tZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Ix(t){return(e,r)=>-t(-e,r)}function Uy(t){const e=t(Nx,Rx),r=e.domain;let n=10,i,a;function o(){return i=tZ(n),a=eZ(n),r()[0]<0?(i=Ix(i),a=Ix(a),t(QJ,JJ)):t(Nx,Rx),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const c=r();let l=c[0],u=c[c.length-1];const d=u<l;d&&([l,u]=[u,l]);let f=i(l),h=i(u),g,m;const v=s==null?10:+s;let b=[];if(!(n%1)&&h-f<v){if(f=Math.floor(f),h=Math.ceil(h),l>0){for(;f<=h;++f)for(g=1;g<n;++g)if(m=f<0?g/a(-f):g*a(f),!(m<l)){if(m>u)break;b.push(m)}}else for(;f<=h;++f)for(g=n-1;g>=1;--g)if(m=f>0?g/a(-f):g*a(f),!(m<l)){if(m>u)break;b.push(m)}b.length*2<v&&(b=Qm(l,u,v))}else b=Qm(f,h,Math.min(h-f,v)).map(a);return d?b.reverse():b},e.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Mc(c)).precision==null&&(c.trim=!0),c=Fy(c)),s===1/0)return c;const l=Math.max(1,n*s/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=l?c(u):""}},e.nice=()=>r(_C(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function SC(){const t=Uy(ih()).domain([1,10]);return t.copy=()=>Sl(t,SC()).base(t.base()),yr.apply(t,arguments),t}function Mx(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Dx(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Wy(t){var e=1,r=t(Mx(e),Dx(e));return r.constant=function(n){return arguments.length?t(Mx(e=+n),Dx(e)):e},ki(r)}function OC(){var t=Wy(ih());return t.copy=function(){return Sl(t,OC()).constant(t.constant())},yr.apply(t,arguments)}function Lx(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function rZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function nZ(t){return t<0?-t*t:t*t}function zy(t){var e=t(Nt,Nt),r=1;function n(){return r===1?t(Nt,Nt):r===.5?t(rZ,nZ):t(Lx(r),Lx(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ki(e)}function qy(){var t=zy(ih());return t.copy=function(){return Sl(t,qy()).exponent(t.exponent())},yr.apply(t,arguments),t}function iZ(){return qy.apply(null,arguments).exponent(.5)}function Bx(t){return Math.sign(t)*t*t}function aZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function AC(){var t=Ly(),e=[0,1],r=!1,n;function i(a){var o=aZ(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(Bx(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,ud)).map(Bx)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return AC(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},yr.apply(i,arguments),ki(i)}function EC(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=uJ(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[xl(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(yi),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return EC().domain(t).range(e).unknown(n)},yr.apply(a,arguments)}function PC(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[xl(n,c,0,r)]:a}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,s()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var l=i.indexOf(c);return l<0?[NaN,NaN]:l<1?[t,n[0]]:l>=r?[n[r-1],e]:[n[l-1],n[l]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return PC().domain([t,e]).range(i).unknown(a)},yr.apply(ki(o),arguments)}function jC(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[xl(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return jC().domain(t).range(e).unknown(r)},yr.apply(i,arguments)}const pp=new Date,mp=new Date;function mt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let l;do c.push(l=new Date(+a)),e(a,s),t(a);while(l<a&&a<o);return c},i.filter=a=>mt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(pp.setTime(+a),mp.setTime(+o),t(pp),t(mp),Math.floor(r(pp,mp))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const hd=mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):hd);hd.range;const xn=1e3,dr=xn*60,_n=dr*60,kn=_n*24,Hy=kn*7,Fx=kn*30,vp=kn*365,na=mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xn)},(t,e)=>(e-t)/xn,t=>t.getUTCSeconds());na.range;const Ky=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xn)},(t,e)=>{t.setTime(+t+e*dr)},(t,e)=>(e-t)/dr,t=>t.getMinutes());Ky.range;const Vy=mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*dr)},(t,e)=>(e-t)/dr,t=>t.getUTCMinutes());Vy.range;const Gy=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xn-t.getMinutes()*dr)},(t,e)=>{t.setTime(+t+e*_n)},(t,e)=>(e-t)/_n,t=>t.getHours());Gy.range;const Yy=mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_n)},(t,e)=>(e-t)/_n,t=>t.getUTCHours());Yy.range;const Ol=mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*dr)/kn,t=>t.getDate()-1);Ol.range;const ah=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kn,t=>t.getUTCDate()-1);ah.range;const TC=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kn,t=>Math.floor(t/kn));TC.range;function $a(t){return mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*dr)/Hy)}const oh=$a(0),pd=$a(1),oZ=$a(2),sZ=$a(3),qo=$a(4),cZ=$a(5),lZ=$a(6);oh.range;pd.range;oZ.range;sZ.range;qo.range;cZ.range;lZ.range;function Na(t){return mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Hy)}const sh=Na(0),md=Na(1),uZ=Na(2),dZ=Na(3),Ho=Na(4),fZ=Na(5),hZ=Na(6);sh.range;md.range;uZ.range;dZ.range;Ho.range;fZ.range;hZ.range;const Xy=mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Xy.range;const Qy=mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Qy.range;const $n=mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$n.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});$n.range;const Nn=mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Nn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Nn.range;function CC(t,e,r,n,i,a){const o=[[na,1,xn],[na,5,5*xn],[na,15,15*xn],[na,30,30*xn],[a,1,dr],[a,5,5*dr],[a,15,15*dr],[a,30,30*dr],[i,1,_n],[i,3,3*_n],[i,6,6*_n],[i,12,12*_n],[n,1,kn],[n,2,2*kn],[r,1,Hy],[e,1,Fx],[e,3,3*Fx],[t,1,vp]];function s(l,u,d){const f=u<l;f&&([l,u]=[u,l]);const h=d&&typeof d.range=="function"?d:c(l,u,d),g=h?h.range(l,+u+1):[];return f?g.reverse():g}function c(l,u,d){const f=Math.abs(u-l)/d,h=Ny(([,,v])=>v).right(o,f);if(h===o.length)return t.every(Zm(l/vp,u/vp,d));if(h===0)return hd.every(Math.max(Zm(l,u,d),1));const[g,m]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return g.every(m)}return[s,c]}const[pZ,mZ]=CC(Nn,Qy,sh,TC,Yy,Vy),[vZ,gZ]=CC($n,Xy,oh,Ol,Gy,Ky);function gp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function yp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ws(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function yZ(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,l=zs(i),u=qs(i),d=zs(a),f=qs(a),h=zs(o),g=qs(o),m=zs(s),v=qs(s),b=zs(c),w=qs(c),y={a:I,A:F,b:D,B:K,c:null,d:Kx,e:Kx,f:UZ,g:QZ,G:ZZ,H:LZ,I:BZ,j:FZ,L:kC,m:WZ,M:zZ,p:X,q,Q:Yx,s:Xx,S:qZ,u:HZ,U:KZ,V:VZ,w:GZ,W:YZ,x:null,X:null,y:XZ,Y:JZ,Z:eee,"%":Gx},O={a:V,A:ee,b:ie,B:_e,c:null,d:Vx,e:Vx,f:iee,g:pee,G:vee,H:tee,I:ree,j:nee,L:NC,m:aee,M:oee,p:Q,q:B,Q:Yx,s:Xx,S:see,u:cee,U:lee,V:uee,w:dee,W:fee,x:null,X:null,y:hee,Y:mee,Z:gee,"%":Gx},_={a:T,A:C,b:k,B:L,c:R,d:qx,e:qx,f:RZ,g:zx,G:Wx,H:Hx,I:Hx,j:CZ,L:NZ,m:TZ,M:kZ,p:j,q:jZ,Q:MZ,s:DZ,S:$Z,u:SZ,U:OZ,V:AZ,w:_Z,W:EZ,x:M,X:$,y:zx,Y:Wx,Z:PZ,"%":IZ};y.x=S(r,y),y.X=S(n,y),y.c=S(e,y),O.x=S(r,O),O.X=S(n,O),O.c=S(e,O);function S(U,H){return function(G){var W=[],ve=-1,he=0,je=U.length,Ae,Ee,tt;for(G instanceof Date||(G=new Date(+G));++ve<je;)U.charCodeAt(ve)===37&&(W.push(U.slice(he,ve)),(Ee=Ux[Ae=U.charAt(++ve)])!=null?Ae=U.charAt(++ve):Ee=Ae==="e"?" ":"0",(tt=H[Ae])&&(Ae=tt(G,Ee)),W.push(Ae),he=ve+1);return W.push(U.slice(he,ve)),W.join("")}}function A(U,H){return function(G){var W=Ws(1900,void 0,1),ve=E(W,U,G+="",0),he,je;if(ve!=G.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(H&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(he=yp(Ws(W.y,0,1)),je=he.getUTCDay(),he=je>4||je===0?md.ceil(he):md(he),he=ah.offset(he,(W.V-1)*7),W.y=he.getUTCFullYear(),W.m=he.getUTCMonth(),W.d=he.getUTCDate()+(W.w+6)%7):(he=gp(Ws(W.y,0,1)),je=he.getDay(),he=je>4||je===0?pd.ceil(he):pd(he),he=Ol.offset(he,(W.V-1)*7),W.y=he.getFullYear(),W.m=he.getMonth(),W.d=he.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),je="Z"in W?yp(Ws(W.y,0,1)).getUTCDay():gp(Ws(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(je+5)%7:W.w+W.U*7-(je+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,yp(W)):gp(W)}}function E(U,H,G,W){for(var ve=0,he=H.length,je=G.length,Ae,Ee;ve<he;){if(W>=je)return-1;if(Ae=H.charCodeAt(ve++),Ae===37){if(Ae=H.charAt(ve++),Ee=_[Ae in Ux?H.charAt(ve++):Ae],!Ee||(W=Ee(U,G,W))<0)return-1}else if(Ae!=G.charCodeAt(W++))return-1}return W}function j(U,H,G){var W=l.exec(H.slice(G));return W?(U.p=u.get(W[0].toLowerCase()),G+W[0].length):-1}function T(U,H,G){var W=h.exec(H.slice(G));return W?(U.w=g.get(W[0].toLowerCase()),G+W[0].length):-1}function C(U,H,G){var W=d.exec(H.slice(G));return W?(U.w=f.get(W[0].toLowerCase()),G+W[0].length):-1}function k(U,H,G){var W=b.exec(H.slice(G));return W?(U.m=w.get(W[0].toLowerCase()),G+W[0].length):-1}function L(U,H,G){var W=m.exec(H.slice(G));return W?(U.m=v.get(W[0].toLowerCase()),G+W[0].length):-1}function R(U,H,G){return E(U,e,H,G)}function M(U,H,G){return E(U,r,H,G)}function $(U,H,G){return E(U,n,H,G)}function I(U){return o[U.getDay()]}function F(U){return a[U.getDay()]}function D(U){return c[U.getMonth()]}function K(U){return s[U.getMonth()]}function X(U){return i[+(U.getHours()>=12)]}function q(U){return 1+~~(U.getMonth()/3)}function V(U){return o[U.getUTCDay()]}function ee(U){return a[U.getUTCDay()]}function ie(U){return c[U.getUTCMonth()]}function _e(U){return s[U.getUTCMonth()]}function Q(U){return i[+(U.getUTCHours()>=12)]}function B(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var H=S(U+="",y);return H.toString=function(){return U},H},parse:function(U){var H=A(U+="",!1);return H.toString=function(){return U},H},utcFormat:function(U){var H=S(U+="",O);return H.toString=function(){return U},H},utcParse:function(U){var H=A(U+="",!0);return H.toString=function(){return U},H}}}var Ux={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,bZ=/^%/,wZ=/[\\^$*+?|[\]().{}]/g;function Oe(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function xZ(t){return t.replace(wZ,"\\$&")}function zs(t){return new RegExp("^(?:"+t.map(xZ).join("|")+")","i")}function qs(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function _Z(t,e,r){var n=bt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function SZ(t,e,r){var n=bt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function OZ(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function AZ(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function EZ(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Wx(t,e,r){var n=bt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function zx(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function PZ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jZ(t,e,r){var n=bt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function TZ(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function qx(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function CZ(t,e,r){var n=bt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Hx(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function kZ(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function $Z(t,e,r){var n=bt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function NZ(t,e,r){var n=bt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function RZ(t,e,r){var n=bt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function IZ(t,e,r){var n=bZ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function MZ(t,e,r){var n=bt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function DZ(t,e,r){var n=bt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Kx(t,e){return Oe(t.getDate(),e,2)}function LZ(t,e){return Oe(t.getHours(),e,2)}function BZ(t,e){return Oe(t.getHours()%12||12,e,2)}function FZ(t,e){return Oe(1+Ol.count($n(t),t),e,3)}function kC(t,e){return Oe(t.getMilliseconds(),e,3)}function UZ(t,e){return kC(t,e)+"000"}function WZ(t,e){return Oe(t.getMonth()+1,e,2)}function zZ(t,e){return Oe(t.getMinutes(),e,2)}function qZ(t,e){return Oe(t.getSeconds(),e,2)}function HZ(t){var e=t.getDay();return e===0?7:e}function KZ(t,e){return Oe(oh.count($n(t)-1,t),e,2)}function $C(t){var e=t.getDay();return e>=4||e===0?qo(t):qo.ceil(t)}function VZ(t,e){return t=$C(t),Oe(qo.count($n(t),t)+($n(t).getDay()===4),e,2)}function GZ(t){return t.getDay()}function YZ(t,e){return Oe(pd.count($n(t)-1,t),e,2)}function XZ(t,e){return Oe(t.getFullYear()%100,e,2)}function QZ(t,e){return t=$C(t),Oe(t.getFullYear()%100,e,2)}function JZ(t,e){return Oe(t.getFullYear()%1e4,e,4)}function ZZ(t,e){var r=t.getDay();return t=r>=4||r===0?qo(t):qo.ceil(t),Oe(t.getFullYear()%1e4,e,4)}function eee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Oe(e/60|0,"0",2)+Oe(e%60,"0",2)}function Vx(t,e){return Oe(t.getUTCDate(),e,2)}function tee(t,e){return Oe(t.getUTCHours(),e,2)}function ree(t,e){return Oe(t.getUTCHours()%12||12,e,2)}function nee(t,e){return Oe(1+ah.count(Nn(t),t),e,3)}function NC(t,e){return Oe(t.getUTCMilliseconds(),e,3)}function iee(t,e){return NC(t,e)+"000"}function aee(t,e){return Oe(t.getUTCMonth()+1,e,2)}function oee(t,e){return Oe(t.getUTCMinutes(),e,2)}function see(t,e){return Oe(t.getUTCSeconds(),e,2)}function cee(t){var e=t.getUTCDay();return e===0?7:e}function lee(t,e){return Oe(sh.count(Nn(t)-1,t),e,2)}function RC(t){var e=t.getUTCDay();return e>=4||e===0?Ho(t):Ho.ceil(t)}function uee(t,e){return t=RC(t),Oe(Ho.count(Nn(t),t)+(Nn(t).getUTCDay()===4),e,2)}function dee(t){return t.getUTCDay()}function fee(t,e){return Oe(md.count(Nn(t)-1,t),e,2)}function hee(t,e){return Oe(t.getUTCFullYear()%100,e,2)}function pee(t,e){return t=RC(t),Oe(t.getUTCFullYear()%100,e,2)}function mee(t,e){return Oe(t.getUTCFullYear()%1e4,e,4)}function vee(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ho(t):Ho.ceil(t),Oe(t.getUTCFullYear()%1e4,e,4)}function gee(){return"+0000"}function Gx(){return"%"}function Yx(t){return+t}function Xx(t){return Math.floor(+t/1e3)}var Ga,IC,MC;yee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yee(t){return Ga=yZ(t),IC=Ga.format,Ga.parse,MC=Ga.utcFormat,Ga.utcParse,Ga}function bee(t){return new Date(t)}function wee(t){return t instanceof Date?+t:+new Date(+t)}function Jy(t,e,r,n,i,a,o,s,c,l){var u=Ly(),d=u.invert,f=u.domain,h=l(".%L"),g=l(":%S"),m=l("%I:%M"),v=l("%I %p"),b=l("%a %d"),w=l("%b %d"),y=l("%B"),O=l("%Y");function _(S){return(c(S)<S?h:s(S)<S?g:o(S)<S?m:a(S)<S?v:n(S)<S?i(S)<S?b:w:r(S)<S?y:O)(S)}return u.invert=function(S){return new Date(d(S))},u.domain=function(S){return arguments.length?f(Array.from(S,wee)):f().map(bee)},u.ticks=function(S){var A=f();return t(A[0],A[A.length-1],S??10)},u.tickFormat=function(S,A){return A==null?_:l(A)},u.nice=function(S){var A=f();return(!S||typeof S.range!="function")&&(S=e(A[0],A[A.length-1],S??10)),S?f(_C(A,S)):u},u.copy=function(){return Sl(u,Jy(t,e,r,n,i,a,o,s,c,l))},u}function xee(){return yr.apply(Jy(vZ,gZ,$n,Xy,oh,Ol,Gy,Ky,na,IC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _ee(){return yr.apply(Jy(pZ,mZ,Nn,Qy,sh,ah,Yy,Vy,na,MC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ch(){var t=0,e=1,r,n,i,a,o=Nt,s=!1,c;function l(d){return d==null||isNaN(d=+d)?c:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([t,e]=d,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),l):[t,e]},l.clamp=function(d){return arguments.length?(s=!!d,l):s},l.interpolator=function(d){return arguments.length?(o=d,l):o};function u(d){return function(f){var h,g;return arguments.length?([h,g]=f,o=d(h,g),l):[o(0),o(1)]}}return l.range=u(Ns),l.rangeRound=u(Dy),l.unknown=function(d){return arguments.length?(c=d,l):c},function(d){return a=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),l}}function $i(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function DC(){var t=ki(ch()(Nt));return t.copy=function(){return $i(t,DC())},Fn.apply(t,arguments)}function LC(){var t=Uy(ch()).domain([1,10]);return t.copy=function(){return $i(t,LC()).base(t.base())},Fn.apply(t,arguments)}function BC(){var t=Wy(ch());return t.copy=function(){return $i(t,BC()).constant(t.constant())},Fn.apply(t,arguments)}function Zy(){var t=zy(ch());return t.copy=function(){return $i(t,Zy()).exponent(t.exponent())},Fn.apply(t,arguments)}function See(){return Zy.apply(null,arguments).exponent(.5)}function FC(){var t=[],e=Nt;function r(n){if(n!=null&&!isNaN(n=+n))return e((xl(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(yi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>lJ(t,a/n))},r.copy=function(){return FC(e).domain(t)},Fn.apply(r,arguments)}function lh(){var t=0,e=.5,r=1,n=1,i,a,o,s,c,l=Nt,u,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-a)*(n*m<n*a?s:c),l(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,r]=m,i=u(t=+t),a=u(e=+e),o=u(r=+r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,h):[t,e,r]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(l=m,h):l};function g(m){return function(v){var b,w,y;return arguments.length?([b,w,y]=v,l=IJ(m,[b,w,y]),h):[l(0),l(.5),l(1)]}}return h.range=g(Ns),h.rangeRound=g(Dy),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return u=m,i=m(t),a=m(e),o=m(r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,h}}function UC(){var t=ki(lh()(Nt));return t.copy=function(){return $i(t,UC())},Fn.apply(t,arguments)}function WC(){var t=Uy(lh()).domain([.1,1,10]);return t.copy=function(){return $i(t,WC()).base(t.base())},Fn.apply(t,arguments)}function zC(){var t=Wy(lh());return t.copy=function(){return $i(t,zC()).constant(t.constant())},Fn.apply(t,arguments)}function eb(){var t=zy(lh());return t.copy=function(){return $i(t,eb()).exponent(t.exponent())},Fn.apply(t,arguments)}function Oee(){return eb.apply(null,arguments).exponent(.5)}const Qx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$c,scaleDiverging:UC,scaleDivergingLog:WC,scaleDivergingPow:eb,scaleDivergingSqrt:Oee,scaleDivergingSymlog:zC,scaleIdentity:xC,scaleImplicit:ev,scaleLinear:fd,scaleLog:SC,scaleOrdinal:Ry,scalePoint:ac,scalePow:qy,scaleQuantile:EC,scaleQuantize:PC,scaleRadial:AC,scaleSequential:DC,scaleSequentialLog:LC,scaleSequentialPow:Zy,scaleSequentialQuantile:FC,scaleSequentialSqrt:See,scaleSequentialSymlog:BC,scaleSqrt:iZ,scaleSymlog:OC,scaleThreshold:jC,scaleTime:xee,scaleUtc:_ee,tickFormat:wC},Symbol.toStringTag,{value:"Module"}));var Aee=Ss;function Eee(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!Aee(o):r(o,s)))var s=o,c=a}return c}var uh=Eee;function Pee(t,e){return t>e}var qC=Pee,jee=uh,Tee=qC,Cee=ks;function kee(t){return t&&t.length?jee(t,Cee,Tee):void 0}var $ee=kee;const di=ke($ee);function Nee(t,e){return t<e}var HC=Nee,Ree=uh,Iee=HC,Mee=ks;function Dee(t){return t&&t.length?Ree(t,Mee,Iee):void 0}var Lee=Dee;const dh=ke(Lee);var Bee=my,Fee=hn,Uee=ZT,Wee=Wt;function zee(t,e){var r=Wee(t)?Bee:Uee;return r(t,Fee(e))}var qee=zee,Hee=QT,Kee=qee;function Vee(t,e){return Hee(Kee(t,e),1)}var Gee=Vee;const Yee=ke(Gee);var Xee=Ty;function Qee(t,e){return Xee(t,e)}var Jee=Qee;const Rn=ke(Jee);var Rs=1e9,Zee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rb,Ve=!0,mr="[DecimalError] ",ga=mr+"Invalid argument: ",tb=mr+"Exponent out of range: ",Is=Math.floor,Gi=Math.pow,ete=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xt,vt=1e7,qe=7,KC=9007199254740991,vd=Is(KC/qe),ne={};ne.absoluteValue=ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ne.comparedTo=ne.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*qe;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ne.dividedBy=ne.div=function(t){return En(this,new this.constructor(t))};ne.dividedToIntegerBy=ne.idiv=function(t){var e=this,r=e.constructor;return Be(En(e,new r(t),0,1),r.precision)};ne.equals=ne.eq=function(t){return!this.cmp(t)};ne.exponent=function(){return at(this)};ne.greaterThan=ne.gt=function(t){return this.cmp(t)>0};ne.greaterThanOrEqualTo=ne.gte=function(t){return this.cmp(t)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(t){return this.cmp(t)<0};ne.lessThanOrEqualTo=ne.lte=function(t){return this.cmp(t)<1};ne.logarithm=ne.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Xt))throw Error(mr+"NaN");if(r.s<1)throw Error(mr+(r.s?"NaN":"-Infinity"));return r.eq(Xt)?new n(0):(Ve=!1,e=En(Dc(r,a),Dc(t,a),a),Ve=!0,Be(e,i))};ne.minus=ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YC(e,t):VC(e,(t.s=-t.s,t))};ne.modulo=ne.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(mr+"NaN");return r.s?(Ve=!1,e=En(r,t,0,1).times(t),Ve=!0,r.minus(e)):Be(new n(r),i)};ne.naturalExponential=ne.exp=function(){return GC(this)};ne.naturalLogarithm=ne.ln=function(){return Dc(this)};ne.negated=ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ne.plus=ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VC(e,t):YC(e,(t.s=-t.s,t))};ne.precision=ne.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ga+t);if(e=at(i)+1,n=i.d.length-1,r=n*qe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ne.squareRoot=ne.sqrt=function(){var t,e,r,n,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(mr+"NaN")}for(t=at(s),Ve=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=en(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Is((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(En(s,a,o+2)).times(.5),en(a.d).slice(0,o)===(e=en(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Be(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return Ve=!0,Be(n,r)};ne.times=ne.mul=function(t){var e,r,n,i,a,o,s,c,l,u=this,d=u.constructor,f=u.d,h=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,r=u.e+t.e,c=f.length,l=h.length,c<l&&(a=f,f=h,h=a,o=c,c=l,l=o),a=[],o=c+l,n=o;n--;)a.push(0);for(n=l;--n>=0;){for(e=0,i=c+n;i>n;)s=a[i]+h[n]*f[i-n-1]+e,a[i--]=s%vt|0,e=s/vt|0;a[i]=(a[i]+e)%vt|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ve?Be(t,d.precision):t};ne.toDecimalPlaces=ne.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(cn(t,0,Rs),e===void 0?e=n.rounding:cn(e,0,8),Be(r,t+at(r)+1,e))};ne.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ea(n,!0):(cn(t,0,Rs),e===void 0?e=i.rounding:cn(e,0,8),n=Be(new i(n),t+1,e),r=Ea(n,!0,t+1)),r};ne.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Ea(i):(cn(t,0,Rs),e===void 0?e=a.rounding:cn(e,0,8),n=Be(new a(i),t+at(i)+1,e),r=Ea(n.abs(),!1,t+at(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ne.toInteger=ne.toint=function(){var t=this,e=t.constructor;return Be(new e(t),at(t)+1,e.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(t){var e,r,n,i,a,o,s=this,c=s.constructor,l=12,u=+(t=new c(t));if(!t.s)return new c(Xt);if(s=new c(s),!s.s){if(t.s<1)throw Error(mr+"Infinity");return s}if(s.eq(Xt))return s;if(n=c.precision,t.eq(Xt))return Be(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=u<0?-u:u)<=KC){for(i=new c(Xt),e=Math.ceil(n/qe+4),Ve=!1;r%2&&(i=i.times(s),Zx(i.d,e)),r=Is(r/2),r!==0;)s=s.times(s),Zx(s.d,e);return Ve=!0,t.s<0?new c(Xt).div(i):Be(i,n)}}else if(a<0)throw Error(mr+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Ve=!1,i=t.times(Dc(s,n+l)),Ve=!0,i=GC(i),i.s=a,i};ne.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=at(i),n=Ea(i,r<=a.toExpNeg||r>=a.toExpPos)):(cn(t,1,Rs),e===void 0?e=a.rounding:cn(e,0,8),i=Be(new a(i),t,e),r=at(i),n=Ea(i,t<=r||r<=a.toExpNeg,t)),n};ne.toSignificantDigits=ne.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(cn(t,1,Rs),e===void 0?e=n.rounding:cn(e,0,8)),Be(new n(r),t,e)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=at(t),r=t.constructor;return Ea(t,e<=r.toExpNeg||e>=r.toExpPos)};function VC(t,e){var r,n,i,a,o,s,c,l,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Ve?Be(e,d):e;if(c=t.d,l=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,s=l.length):(n=l,i=o,s=c.length),o=Math.ceil(d/qe),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=c.length,a=l.length,s-a<0&&(a=s,n=l,l=c,c=n),r=0;a;)r=(c[--a]=c[a]+l[a]+r)/vt|0,c[a]%=vt;for(r&&(c.unshift(r),++i),s=c.length;c[--s]==0;)c.pop();return e.d=c,e.e=i,Ve?Be(e,d):e}function cn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ga+t)}function en(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=qe-n.length,r&&(a+=Qn(r)),a+=n;o=t[e],n=o+"",r=qe-n.length,r&&(a+=Qn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var En=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%vt|0,o=a/vt|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(n[s]!=i[s]){c=n[s]>i[s]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*vt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,c,l,u,d,f,h,g,m,v,b,w,y,O,_,S,A,E,j=n.constructor,T=n.s==i.s?1:-1,C=n.d,k=i.d;if(!n.s)return new j(n);if(!i.s)throw Error(mr+"Division by zero");for(c=n.e-i.e,A=k.length,_=C.length,h=new j(T),g=h.d=[],l=0;k[l]==(C[l]||0);)++l;if(k[l]>(C[l]||0)&&--c,a==null?w=a=j.precision:o?w=a+(at(n)-at(i))+1:w=a,w<0)return new j(0);if(w=w/qe+2|0,l=0,A==1)for(u=0,k=k[0],w++;(l<_||u)&&w--;l++)y=u*vt+(C[l]||0),g[l]=y/k|0,u=y%k|0;else{for(u=vt/(k[0]+1)|0,u>1&&(k=t(k,u),C=t(C,u),A=k.length,_=C.length),O=A,m=C.slice(0,A),v=m.length;v<A;)m[v++]=0;E=k.slice(),E.unshift(0),S=k[0],k[1]>=vt/2&&++S;do u=0,s=e(k,m,A,v),s<0?(b=m[0],A!=v&&(b=b*vt+(m[1]||0)),u=b/S|0,u>1?(u>=vt&&(u=vt-1),d=t(k,u),f=d.length,v=m.length,s=e(d,m,f,v),s==1&&(u--,r(d,A<f?E:k,f))):(u==0&&(s=u=1),d=k.slice()),f=d.length,f<v&&d.unshift(0),r(m,d,v),s==-1&&(v=m.length,s=e(k,m,A,v),s<1&&(u++,r(m,A<v?E:k,v))),v=m.length):s===0&&(u++,m=[0]),g[l++]=u,s&&m[0]?m[v++]=C[O]||0:(m=[C[O]],v=1);while((O++<_||m[0]!==void 0)&&w--)}return g[0]||g.shift(),h.e=c,Be(h,o?a+at(h)+1:a)}}();function GC(t,e){var r,n,i,a,o,s,c=0,l=0,u=t.constructor,d=u.precision;if(at(t)>16)throw Error(tb+at(t));if(!t.s)return new u(Xt);for(e==null?(Ve=!1,s=d):s=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),l+=5;for(n=Math.log(Gi(2,l))/Math.LN10*2+5|0,s+=n,r=i=a=new u(Xt),u.precision=s;;){if(i=Be(i.times(t),s),r=r.times(++c),o=a.plus(En(i,r,s)),en(o.d).slice(0,s)===en(a.d).slice(0,s)){for(;l--;)a=Be(a.times(a),s);return u.precision=d,e==null?(Ve=!0,Be(a,d)):a}a=o}}function at(t){for(var e=t.e*qe,r=t.d[0];r>=10;r/=10)e++;return e}function bp(t,e,r){if(e>t.LN10.sd())throw Ve=!0,r&&(t.precision=r),Error(mr+"LN10 precision limit exceeded");return Be(new t(t.LN10),e)}function Qn(t){for(var e="";t--;)e+="0";return e}function Dc(t,e){var r,n,i,a,o,s,c,l,u,d=1,f=10,h=t,g=h.d,m=h.constructor,v=m.precision;if(h.s<1)throw Error(mr+(h.s?"NaN":"-Infinity"));if(h.eq(Xt))return new m(0);if(e==null?(Ve=!1,l=v):l=e,h.eq(10))return e==null&&(Ve=!0),bp(m,l);if(l+=f,m.precision=l,r=en(g),n=r.charAt(0),a=at(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=en(h.d),n=r.charAt(0),d++;a=at(h),n>1?(h=new m("0."+r),a++):h=new m(n+"."+r.slice(1))}else return c=bp(m,l+2,v).times(a+""),h=Dc(new m(n+"."+r.slice(1)),l-f).plus(c),m.precision=v,e==null?(Ve=!0,Be(h,v)):h;for(s=o=h=En(h.minus(Xt),h.plus(Xt),l),u=Be(h.times(h),l),i=3;;){if(o=Be(o.times(u),l),c=s.plus(En(o,new m(i),l)),en(c.d).slice(0,l)===en(s.d).slice(0,l))return s=s.times(2),a!==0&&(s=s.plus(bp(m,l+2,v).times(a+""))),s=En(s,new m(d),l),m.precision=v,e==null?(Ve=!0,Be(s,v)):s;s=c,i+=2}}function Jx(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Is(r/qe),t.d=[],n=(r+1)%qe,r<0&&(n+=qe),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=qe;n<i;)t.d.push(+e.slice(n,n+=qe));e=e.slice(n),n=qe-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ve&&(t.e>vd||t.e<-vd))throw Error(tb+r)}else t.s=0,t.e=0,t.d=[0];return t}function Be(t,e,r){var n,i,a,o,s,c,l,u,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=qe,i=e,l=d[u=0];else{if(u=Math.ceil((n+1)/qe),a=d.length,u>=a)return t;for(l=a=d[u],o=1;a>=10;a/=10)o++;n%=qe,i=n-qe+o}if(r!==void 0&&(a=Gi(10,o-i-1),s=l/a%10|0,c=e<0||d[u+1]!==void 0||l%a,c=r<4?(s||c)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?i>0?l/Gi(10,o-i):0:d[u-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return c?(a=at(t),d.length=1,e=e-a-1,d[0]=Gi(10,(qe-e%qe)%qe),t.e=Is(-e/qe)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=u,a=1,u--):(d.length=u+1,a=Gi(10,qe-n),d[u]=i>0?(l/Gi(10,o-i)%Gi(10,i)|0)*a:0),c)for(;;)if(u==0){(d[0]+=a)==vt&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=vt)break;d[u--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Ve&&(t.e>vd||t.e<-vd))throw Error(tb+at(t));return t}function YC(t,e){var r,n,i,a,o,s,c,l,u,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Ve?Be(e,h):e;if(c=t.d,d=e.d,n=e.e,l=t.e,c=c.slice(),o=l-n,o){for(u=o<0,u?(r=c,o=-o,s=d.length):(r=d,n=l,s=c.length),i=Math.max(Math.ceil(h/qe),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(c[i]!=d[i]){u=c[i]<d[i];break}o=0}for(u&&(r=c,c=d,d=r,e.s=-e.s),s=c.length,i=d.length-s;i>0;--i)c[s++]=0;for(i=d.length;i>o;){if(c[--i]<d[i]){for(a=i;a&&c[--a]===0;)c[a]=vt-1;--c[a],c[i]+=vt}c[i]-=d[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ve?Be(e,h):e):new f(0)}function Ea(t,e,r){var n,i=at(t),a=en(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Qn(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Qn(-i-1)+a,r&&(n=r-o)>0&&(a+=Qn(n))):i>=o?(a+=Qn(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Qn(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Qn(n))),t.s<0?"-"+a:a}function Zx(t,e){if(t.length>e)return t.length=e,!0}function XC(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ga+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Jx(o,a.toString())}else if(typeof a!="string")throw Error(ga+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ete.test(a))Jx(o,a);else throw Error(ga+a)}if(i.prototype=ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=XC,i.config=i.set=tte,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function tte(t){if(!t||typeof t!="object")throw Error(mr+"Object expected");var e,r,n,i=["precision",1,Rs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Is(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ga+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ga+r+": "+n);return this}var rb=XC(Zee);Xt=new rb(1);const Ie=rb;function rte(t){return ote(t)||ate(t)||ite(t)||nte()}function nte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ite(t,e){if(t){if(typeof t=="string")return iv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iv(t,e)}}function ate(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ote(t){if(Array.isArray(t))return iv(t)}function iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ste=function(e){return e},QC={"@@functional/placeholder":!0},JC=function(e){return e===QC},e_=function(e){return function r(){return arguments.length===0||arguments.length===1&&JC(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},cte=function t(e,r){return e===1?r:e_(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==QC}).length;return o>=e?r.apply(void 0,i):t(e-o,e_(function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var u=i.map(function(d){return JC(d)?c.shift():d});return r.apply(void 0,rte(u).concat(c))}))})},fh=function(e){return cte(e.length,e)},av=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},lte=fh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),ute=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return ste;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,c){return c(s)},a.apply(void 0,arguments))}},ov=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ZC=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,c){return s===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function dte(t){var e;return t===0?e=1:e=Math.floor(new Ie(t).abs().log(10).toNumber())+1,e}function fte(t,e,r){for(var n=new Ie(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var hte=fh(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),pte=fh(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),mte=fh(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const hh={rangeStep:fte,getDigitCount:dte,interpolateNumber:hte,uninterpolateNumber:pte,uninterpolateTruncation:mte};function sv(t){return yte(t)||gte(t)||ek(t)||vte()}function vte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yte(t){if(Array.isArray(t))return cv(t)}function Lc(t,e){return xte(t)||wte(t,e)||ek(t,e)||bte()}function bte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ek(t,e){if(t){if(typeof t=="string")return cv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cv(t,e)}}function cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wte(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function xte(t){if(Array.isArray(t))return t}function tk(t){var e=Lc(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function rk(t,e,r){if(t.lte(0))return new Ie(0);var n=hh.getDigitCount(t.toNumber()),i=new Ie(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Ie(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=s.mul(i);return e?c:new Ie(Math.ceil(c))}function _te(t,e,r){var n=1,i=new Ie(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Ie(10).pow(hh.getDigitCount(t)-1),i=new Ie(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ie(Math.floor(t)))}else t===0?i=new Ie(Math.floor((e-1)/2)):r||(i=new Ie(Math.floor(t)));var o=Math.floor((e-1)/2),s=ute(lte(function(c){return i.add(new Ie(c-o).mul(n)).toNumber()}),av);return s(0,e)}function nk(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var a=rk(new Ie(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Ie(0):(o=new Ie(t).add(e).div(2),o=o.sub(new Ie(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new Ie(e).sub(o).div(a).toNumber()),l=s+c+1;return l>r?nk(t,e,r,n,i+1):(l<r&&(c=e>0?c+(r-l):c,s=e>0?s:s+(r-l)),{step:a,tickMin:o.sub(new Ie(s).mul(a)),tickMax:o.add(new Ie(c).mul(a))})}function Ste(t){var e=Lc(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=tk([r,n]),c=Lc(s,2),l=c[0],u=c[1];if(l===-1/0||u===1/0){var d=u===1/0?[l].concat(sv(av(0,i-1).map(function(){return 1/0}))):[].concat(sv(av(0,i-1).map(function(){return-1/0})),[u]);return r>n?ov(d):d}if(l===u)return _te(l,i,a);var f=nk(l,u,o,a),h=f.step,g=f.tickMin,m=f.tickMax,v=hh.rangeStep(g,m.add(new Ie(.1).mul(h)),h);return r>n?ov(v):v}function Ote(t,e){var r=Lc(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=tk([n,i]),s=Lc(o,2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[n,i];if(c===l)return[c];var u=Math.max(e,2),d=rk(new Ie(l).sub(c).div(u-1),a,0),f=[].concat(sv(hh.rangeStep(new Ie(c),new Ie(l).sub(new Ie(.99).mul(d)),d)),[l]);return n>i?ov(f):f}var Ate=ZC(Ste),Ete=ZC(Ote),Pte="Invariant failed";function Pa(t,e){throw new Error(Pte)}var jte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ko(t){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(t)}function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gd.apply(this,arguments)}function Tte(t,e){return Nte(t)||$te(t,e)||kte(t,e)||Cte()}function Cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kte(t,e){if(t){if(typeof t=="string")return t_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(t,e)}}function t_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $te(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Nte(t){if(Array.isArray(t))return t}function Rte(t,e){if(t==null)return{};var r=Ite(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ite(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ok(n.key),n)}}function Lte(t,e,r){return e&&Dte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bte(t,e,r){return e=yd(e),Fte(t,ik()?Reflect.construct(e,r||[],yd(t).constructor):e.apply(t,r))}function Fte(t,e){if(e&&(Ko(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ute(t)}function Ute(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ik(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ik=function(){return!!t})()}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(t)}function Wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lv(t,e)}function lv(t,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lv(t,e)}function ak(t,e,r){return e=ok(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ok(t){var e=zte(t,"string");return Ko(e)=="symbol"?e:e+""}function zte(t,e){if(Ko(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ms=function(t){function e(){return Mte(this,e),Bte(this,e,arguments)}return Wte(e,t),Lte(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,c=n.data,l=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,f=Rte(n,jte),h=te(f,!1);this.props.direction==="x"&&u.type!=="number"&&Pa();var g=c.map(function(m){var v=l(m,s),b=v.x,w=v.y,y=v.value,O=v.errorVal;if(!O)return null;var _=[],S,A;if(Array.isArray(O)){var E=Tte(O,2);S=E[0],A=E[1]}else S=A=O;if(a==="vertical"){var j=u.scale,T=w+i,C=T+o,k=T-o,L=j(y-S),R=j(y+A);_.push({x1:R,y1:C,x2:R,y2:k}),_.push({x1:L,y1:T,x2:R,y2:T}),_.push({x1:L,y1:C,x2:L,y2:k})}else if(a==="horizontal"){var M=d.scale,$=b+i,I=$-o,F=$+o,D=M(y-S),K=M(y+A);_.push({x1:I,y1:K,x2:F,y2:K}),_.push({x1:$,y1:D,x2:$,y2:K}),_.push({x1:I,y1:D,x2:F,y2:D})}return P.createElement(me,gd({className:"recharts-errorBar",key:"bar-".concat(_.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},h),_.map(function(X){return P.createElement("line",gd({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return P.createElement(me,{className:"recharts-errorBars"},g)}}])}(P.Component);ak(Ms,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ak(Ms,"displayName","ErrorBar");function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function r_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r_(Object(r),!0).forEach(function(n){qte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qte(t,e,r){return e=Hte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hte(t){var e=Kte(t,"string");return Bc(e)=="symbol"?e:e+""}function Kte(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sk=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Vt(r,gi);if(!o)return null;var s=gi.defaultProps,c=s!==void 0?Di(Di({},s),o.props):{},l;return o.props&&o.props.payload?l=o.props&&o.props.payload:a==="children"?l=(n||[]).reduce(function(u,d){var f=d.item,h=d.props,g=h.sectors||h.data||[];return u.concat(g.map(function(m){return{type:o.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):l=(n||[]).map(function(u){var d=u.item,f=d.type.defaultProps,h=f!==void 0?Di(Di({},f),d.props):{},g=h.dataKey,m=h.name,v=h.legendType,b=h.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:nb(d),value:m||g,payload:h}}),Di(Di(Di({},c),gi.getWithHeight(o,i)),{},{payload:l,item:o})};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function n_(t){return Xte(t)||Yte(t)||Gte(t)||Vte()}function Vte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gte(t,e){if(t){if(typeof t=="string")return uv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uv(t,e)}}function Yte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xte(t){if(Array.isArray(t))return uv(t)}function uv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i_(Object(r),!0).forEach(function(n){go(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function go(t,e,r){return e=Qte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qte(t){var e=Jte(t,"string");return Fc(e)=="symbol"?e:e+""}function Jte(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Le(t,e,r){return le(t)||le(e)?r:pt(e)?Jt(t,e,r):ce(e)?e(t):r}function oc(t,e,r,n){var i=Yee(t,function(s){return Le(s,e)});if(r==="number"){var a=i.filter(function(s){return Y(s)||parseFloat(s)});return a.length?[dh(a),di(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!le(s)}):i;return o.map(function(s){return pt(s)||s instanceof Date?s:""})}var Zte=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,l=0;l<s;l++){var u=l>0?i[l-1].coordinate:i[s-1].coordinate,d=i[l].coordinate,f=l>=s-1?i[0].coordinate:i[l+1].coordinate,h=void 0;if(kt(d-u)!==kt(f-d)){var g=[];if(kt(f-d)===kt(c[1]-c[0])){h=f;var m=d+c[1]-c[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{h=u;var v=f+c[1]-c[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){o=i[l].index;break}}else{var w=Math.min(u,f),y=Math.max(u,f);if(e>(w+d)/2&&e<=(y+d)/2){o=i[l].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<s-1&&e>(n[O].coordinate+n[O-1].coordinate)/2&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O===s-1&&e>(n[O].coordinate+n[O-1].coordinate)/2){o=n[O].index;break}return o},nb=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Qe(Qe({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},ere=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),c=0,l=s.length;c<l;c++)for(var u=a[s[c]].stackGroups,d=Object.keys(u),f=0,h=d.length;f<h;f++){var g=u[d[f]],m=g.items,v=g.cateAxisId,b=m.filter(function(A){return An(A.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,y=w!==void 0?Qe(Qe({},w),b[0].props):b[0].props,O=y.barSize,_=y[v];o[_]||(o[_]=[]);var S=le(O)?r:O;o[_].push({item:b[0],stackList:b.slice(1),barSize:le(S)?void 0:$t(S,n,0)})}}return o},tre=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,c=o.length;if(c<1)return null;var l=$t(r,i,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var f=!1,h=i/c,g=o.reduce(function(O,_){return O+_.barSize||0},0);g+=(c-1)*l,g>=i&&(g-=(c-1)*l,l=0),g>=i&&h>0&&(f=!0,h*=.9,g=c*h);var m=(i-g)/2>>0,v={offset:m-l,size:0};u=o.reduce(function(O,_){var S={item:_.item,position:{offset:v.offset+v.size+l,size:f?h:_.barSize}},A=[].concat(n_(O),[S]);return v=A[A.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(E){A.push({item:E,position:v})}),A},d)}else{var b=$t(n,i,0,!0);i-2*b-(c-1)*l<=0&&(l=0);var w=(i-2*b-(c-1)*l)/c;w>1&&(w>>=0);var y=s===+s?Math.min(w,s):w;u=o.reduce(function(O,_,S){var A=[].concat(n_(O),[{item:_.item,position:{offset:b+(w+l)*S+(w-y)/2,size:y}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(E){A.push({item:E,position:A[A.length-1].position})}),A},d)}return u},rre=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,c=o-(s.left||0)-(s.right||0),l=sk({children:a,legendWidth:c});if(l){var u=i||{},d=u.width,f=u.height,h=l.align,g=l.verticalAlign,m=l.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&h!=="center"&&Y(e[h]))return Qe(Qe({},e),{},go({},h,e[h]+(d||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&g!=="middle"&&Y(e[g]))return Qe(Qe({},e),{},go({},g,e[g]+(f||0)))}return e},nre=function(e,r,n){return le(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},ck=function(e,r,n,i,a){var o=r.props.children,s=Rt(o,Ms).filter(function(l){return nre(i,a,l.props.direction)});if(s&&s.length){var c=s.map(function(l){return l.props.dataKey});return e.reduce(function(l,u){var d=Le(u,n);if(le(d))return l;var f=Array.isArray(d)?[dh(d),di(d)]:[d,d],h=c.reduce(function(g,m){var v=Le(u,m,0),b=f[0]-Math.abs(Array.isArray(v)?v[0]:v),w=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(h[0],l[0]),Math.max(h[1],l[1])]},[1/0,-1/0])}return null},ire=function(e,r,n,i,a){var o=r.map(function(s){return ck(e,s,n,a,i)}).filter(function(s){return!le(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},lk=function(e,r,n,i,a){var o=r.map(function(c){var l=c.props.dataKey;return n==="number"&&l&&ck(e,c,l,i)||oc(e,l,n,a)});if(n==="number")return o.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,l){for(var u=0,d=l.length;u<d;u++)s[l[u]]||(s[l[u]]=!0,c.push(l[u]));return c},[])},uk=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},dk=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,s=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||s.push(r),o||s.push(n),s},Sn=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,l=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(l=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?kt(s[0]-s[1])*2*l:l,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var f=a?a.indexOf(d):d;return{coordinate:i(f)+l,value:d,offset:l}});return u.filter(function(d){return!js(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+l,value:d,index:f,offset:l}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+l,value:d,offset:l}}):i.domain().map(function(d,f){return{coordinate:i(d)+l,value:a?a[d]:d,index:f,offset:l}})},wp=new WeakMap,nu=function(e,r){if(typeof r!="function")return e;wp.has(e)||wp.set(e,new WeakMap);var n=wp.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},fk=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:$c(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:fd(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ac(),realScaleType:"point"}:a==="category"?{scale:$c(),realScaleType:"band"}:{scale:fd(),realScaleType:"linear"};if(Oa(i)){var c="scale".concat(Xf(i));return{scale:(Qx[c]||ac)(),realScaleType:Qx[c]?c:"point"}}return ce(i)?{scale:i}:{scale:ac(),realScaleType:"point"}},a_=1e-4,hk=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-a_,o=Math.max(i[0],i[1])+a_,s=e(r[0]),c=e(r[n-1]);(s<a||s>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},are=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},ore=function(e,r){if(!r||r.length!==2||!Y(r[0])||!Y(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Y(e[0])||e[0]<n)&&(a[0]=n),(!Y(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},sre=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var c=js(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+c,o=e[s][n][1])}},cre=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=js(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},lre={sign:sre,expand:jH,none:Lo,silhouette:TH,wiggle:CH,positive:cre},ure=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=lre[n],o=PH().keys(i).value(function(s,c){return+Le(s,c,0)}).order(Im).offset(a);return o(e)},dre=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,c={},l=s.reduce(function(d,f){var h,g=(h=f.type)!==null&&h!==void 0&&h.defaultProps?Qe(Qe({},f.type.defaultProps),f.props):f.props,m=g.stackId,v=g.hide;if(v)return d;var b=g[n],w=d[b]||{hasStack:!1,stackGroups:{}};if(pt(m)){var y=w.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};y.items.push(f),w.hasStack=!0,w.stackGroups[m]=y}else w.stackGroups[Ci("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return Qe(Qe({},d),{},go({},b,w))},c),u={};return Object.keys(l).reduce(function(d,f){var h=l[f];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,v){var b=h.stackGroups[v];return Qe(Qe({},m),{},go({},v,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:ure(e,b.items,a)}))},g)}return Qe(Qe({},d),{},go({},f,h))},u)},pk=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var l=e.domain();if(!l.length)return null;var u=Ate(l,a,s);return e.domain([dh(u),di(u)]),{niceTicks:u}}if(a&&i==="number"){var d=e.domain(),f=Ete(d,a,s);return{niceTicks:f}}return null};function Vo(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!le(i[e.dataKey])){var s=Hu(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Le(i,le(o)?e.dataKey:o);return le(c)?null:e.scale(c)}var o_=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var c=Le(o,r.dataKey,r.domain[s]);return le(c)?null:r.scale(c)-a/2+i},fre=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},hre=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qe(Qe({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(pt(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},pre=function(e){return e.reduce(function(r,n){return[dh(n.concat([r[0]]).filter(Y)),di(n.concat([r[1]]).filter(Y))]},[1/0,-1/0])},mk=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,c=s.reduce(function(l,u){var d=pre(u.slice(r,n+1));return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},s_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,c_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dv=function(e,r,n){if(ce(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Y(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(s_.test(e[0])){var a=+s_.exec(e[0])[1];i[0]=r[0]-a}else ce(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Y(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(c_.test(e[1])){var o=+c_.exec(e[1])[1];i[1]=r[1]+o}else ce(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},bd=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=ky(r,function(d){return d.coordinate}),o=1/0,s=1,c=a.length;s<c;s++){var l=a[s],u=a[s-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},l_=function(e,r,n){return!e||!e.length||Rn(e,Jt(n,"type.defaultProps.domain"))?r:e},vk=function(e,r){var n=e.type.defaultProps?Qe(Qe({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,c=n.tooltipType,l=n.chartType,u=n.hide;return Qe(Qe({},te(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:nb(e),value:Le(r,i),type:c,payload:r,chartType:l,hide:u})};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function u_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u_(Object(r),!0).forEach(function(n){gk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gk(t,e,r){return e=mre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mre(t){var e=vre(t,"string");return Uc(e)=="symbol"?e:e+""}function vre(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gre(t,e){return xre(t)||wre(t,e)||bre(t,e)||yre()}function yre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bre(t,e){if(t){if(typeof t=="string")return d_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d_(t,e)}}function d_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function xre(t){if(Array.isArray(t))return t}var wd=Math.PI/180,_re=function(e){return e*180/Math.PI},Pe=function(e,r,n,i){return{x:e+Math.cos(-wd*i)*n,y:r+Math.sin(-wd*i)*n}},yk=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},bk=function(e,r,n,i,a){var o=e.width,s=e.height,c=e.startAngle,l=e.endAngle,u=$t(e.cx,o,o/2),d=$t(e.cy,s,s/2),f=yk(o,s,n),h=$t(e.innerRadius,f,0),g=$t(e.outerRadius,f,f*.8),m=Object.keys(r);return m.reduce(function(v,b){var w=r[b],y=w.domain,O=w.reversed,_;if(le(w.range))i==="angleAxis"?_=[c,l]:i==="radiusAxis"&&(_=[h,g]),O&&(_=[_[1],_[0]]);else{_=w.range;var S=_,A=gre(S,2);c=A[0],l=A[1]}var E=fk(w,a),j=E.realScaleType,T=E.scale;T.domain(y).range(_),hk(T);var C=pk(T,vn(vn({},w),{},{realScaleType:j})),k=vn(vn(vn({},w),C),{},{range:_,radius:g,realScaleType:j,scale:T,cx:u,cy:d,innerRadius:h,outerRadius:g,startAngle:c,endAngle:l});return vn(vn({},v),{},gk({},b,k))},{})},Sre=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Ore=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=Sre({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var c=(n-a)/s,l=Math.acos(c);return i>o&&(l=2*Math.PI-l),{radius:s,angle:_re(l),angleInRadian:l}},Are=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Ere=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},f_=function(e,r){var n=e.x,i=e.y,a=Ore({x:n,y:i},r),o=a.radius,s=a.angle,c=r.innerRadius,l=r.outerRadius;if(o<c||o>l)return!1;if(o===0)return!0;var u=Are(r),d=u.startAngle,f=u.endAngle,h=s,g;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;g=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=d}return g?vn(vn({},r),{},{radius:o,angle:Ere(h,r)}):null},wk=function(e){return!x.isValidElement(e)&&!ce(e)&&typeof e!="boolean"?e.className:""};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}var Pre=["offset"];function jre(t){return $re(t)||kre(t)||Cre(t)||Tre()}function Tre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cre(t,e){if(t){if(typeof t=="string")return fv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fv(t,e)}}function kre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $re(t){if(Array.isArray(t))return fv(t)}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nre(t,e){if(t==null)return{};var r=Rre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function h_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h_(Object(r),!0).forEach(function(n){Ire(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ire(t,e,r){return e=Mre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mre(t){var e=Dre(t,"string");return Wc(e)=="symbol"?e:e+""}function Dre(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zc.apply(this,arguments)}var Lre=function(e){var r=e.value,n=e.formatter,i=le(e.children)?r:e.children;return ce(n)?n(i):i},Bre=function(e,r){var n=kt(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Fre=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,c=a,l=c.cx,u=c.cy,d=c.innerRadius,f=c.outerRadius,h=c.startAngle,g=c.endAngle,m=c.clockWise,v=(d+f)/2,b=Bre(h,g),w=b>=0?1:-1,y,O;i==="insideStart"?(y=h+w*o,O=m):i==="insideEnd"?(y=g-w*o,O=!m):i==="end"&&(y=g+w*o,O=m),O=b<=0?O:!O;var _=Pe(l,u,v,y),S=Pe(l,u,v,y+(O?1:-1)*359),A="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(O?0:1,`,
    `).concat(S.x,",").concat(S.y),E=le(e.id)?Ci("recharts-radial-line-"):e.id;return P.createElement("text",zc({},n,{dominantBaseline:"central",className:pe("recharts-radial-bar-label",s)}),P.createElement("defs",null,P.createElement("path",{id:E,d:A})),P.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Ure=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,c=a.innerRadius,l=a.outerRadius,u=a.startAngle,d=a.endAngle,f=(u+d)/2;if(i==="outside"){var h=Pe(o,s,l+n,f),g=h.x,m=h.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(c+l)/2,b=Pe(o,s,v,f),w=b.x,y=b.y;return{x:w,y,textAnchor:"middle",verticalAnchor:"middle"}},Wre=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,c=o.y,l=o.width,u=o.height,d=u>=0?1:-1,f=d*i,h=d>0?"end":"start",g=d>0?"start":"end",m=l>=0?1:-1,v=m*i,b=m>0?"end":"start",w=m>0?"start":"end";if(a==="top"){var y={x:s+l/2,y:c-d*i,textAnchor:"middle",verticalAnchor:h};return ct(ct({},y),n?{height:Math.max(c-n.y,0),width:l}:{})}if(a==="bottom"){var O={x:s+l/2,y:c+u+f,textAnchor:"middle",verticalAnchor:g};return ct(ct({},O),n?{height:Math.max(n.y+n.height-(c+u),0),width:l}:{})}if(a==="left"){var _={x:s-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return ct(ct({},_),n?{width:Math.max(_.x-n.x,0),height:u}:{})}if(a==="right"){var S={x:s+l+v,y:c+u/2,textAnchor:w,verticalAnchor:"middle"};return ct(ct({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var A=n?{width:l,height:u}:{};return a==="insideLeft"?ct({x:s+v,y:c+u/2,textAnchor:w,verticalAnchor:"middle"},A):a==="insideRight"?ct({x:s+l-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},A):a==="insideTop"?ct({x:s+l/2,y:c+f,textAnchor:"middle",verticalAnchor:g},A):a==="insideBottom"?ct({x:s+l/2,y:c+u-f,textAnchor:"middle",verticalAnchor:h},A):a==="insideTopLeft"?ct({x:s+v,y:c+f,textAnchor:w,verticalAnchor:g},A):a==="insideTopRight"?ct({x:s+l-v,y:c+f,textAnchor:b,verticalAnchor:g},A):a==="insideBottomLeft"?ct({x:s+v,y:c+u-f,textAnchor:w,verticalAnchor:h},A):a==="insideBottomRight"?ct({x:s+l-v,y:c+u-f,textAnchor:b,verticalAnchor:h},A):Os(a)&&(Y(a.x)||ta(a.x))&&(Y(a.y)||ta(a.y))?ct({x:s+$t(a.x,l),y:c+$t(a.y,u),textAnchor:"end",verticalAnchor:"end"},A):ct({x:s+l/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},zre=function(e){return"cx"in e&&Y(e.cx)};function yt(t){var e=t.offset,r=e===void 0?5:e,n=Nre(t,Pre),i=ct({offset:r},n),a=i.viewBox,o=i.position,s=i.value,c=i.children,l=i.content,u=i.className,d=u===void 0?"":u,f=i.textBreakAll;if(!a||le(s)&&le(c)&&!x.isValidElement(l)&&!ce(l))return null;if(x.isValidElement(l))return x.cloneElement(l,i);var h;if(ce(l)){if(h=x.createElement(l,i),x.isValidElement(h))return h}else h=Lre(i);var g=zre(a),m=te(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Fre(i,h,m);var v=g?Ure(i):Wre(i);return P.createElement(Aa,zc({className:pe("recharts-label",d)},m,v,{breakAll:f}),h)}yt.displayName="Label";var xk=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,c=e.radius,l=e.innerRadius,u=e.outerRadius,d=e.x,f=e.y,h=e.top,g=e.left,m=e.width,v=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(Y(m)&&Y(v)){if(Y(d)&&Y(f))return{x:d,y:f,width:m,height:v};if(Y(h)&&Y(g))return{x:h,y:g,width:m,height:v}}return Y(d)&&Y(f)?{x:d,y:f,width:0,height:0}:Y(r)&&Y(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:l||0,outerRadius:u||c||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},qre=function(e,r){return e?e===!0?P.createElement(yt,{key:"label-implicit",viewBox:r}):pt(e)?P.createElement(yt,{key:"label-implicit",viewBox:r,value:e}):x.isValidElement(e)?e.type===yt?x.cloneElement(e,{key:"label-implicit",viewBox:r}):P.createElement(yt,{key:"label-implicit",content:e,viewBox:r}):ce(e)?P.createElement(yt,{key:"label-implicit",content:e,viewBox:r}):Os(e)?P.createElement(yt,zc({viewBox:r},e,{key:"label-implicit"})):null:null},Hre=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=xk(e),o=Rt(i,yt).map(function(c,l){return x.cloneElement(c,{viewBox:r||a,key:"label-".concat(l)})});if(!n)return o;var s=qre(e.label,r||a);return[s].concat(jre(o))};yt.parseViewBox=xk;yt.renderCallByParent=Hre;function Kre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Vre=Kre;const _k=ke(Vre);function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}var Gre=["valueAccessor"],Yre=["data","dataKey","clockWise","id","textBreakAll"];function Xre(t){return ene(t)||Zre(t)||Jre(t)||Qre()}function Qre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jre(t,e){if(t){if(typeof t=="string")return hv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hv(t,e)}}function Zre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ene(t){if(Array.isArray(t))return hv(t)}function hv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xd.apply(this,arguments)}function p_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p_(Object(r),!0).forEach(function(n){tne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tne(t,e,r){return e=rne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rne(t){var e=nne(t,"string");return qc(e)=="symbol"?e:e+""}function nne(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v_(t,e){if(t==null)return{};var r=ine(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ine(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ane=function(e){return Array.isArray(e.value)?_k(e.value):e.value};function hr(t){var e=t.valueAccessor,r=e===void 0?ane:e,n=v_(t,Gre),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,c=n.textBreakAll,l=v_(n,Yre);return!i||!i.length?null:P.createElement(me,{className:"recharts-label-list"},i.map(function(u,d){var f=le(a)?r(u,d):Le(u&&u.payload,a),h=le(s)?{}:{id:"".concat(s,"-").concat(d)};return P.createElement(yt,xd({},te(u,!0),l,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:yt.parseViewBox(le(o)?u:m_(m_({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}hr.displayName="LabelList";function one(t,e){return t?t===!0?P.createElement(hr,{key:"labelList-implicit",data:e}):P.isValidElement(t)||ce(t)?P.createElement(hr,{key:"labelList-implicit",data:e,content:t}):Os(t)?P.createElement(hr,xd({data:e},t,{key:"labelList-implicit"})):null:null}function sne(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Rt(n,hr).map(function(o,s){return x.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=one(t.label,e);return[a].concat(Xre(i))}hr.renderCallByParent=sne;function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pv.apply(this,arguments)}function g_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(r),!0).forEach(function(n){cne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cne(t,e,r){return e=lne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lne(t){var e=une(t,"string");return Hc(e)=="symbol"?e:e+""}function une(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dne=function(e,r){var n=kt(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},iu=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,c=e.cornerRadius,l=e.cornerIsExternal,u=c*(s?1:-1)+i,d=Math.asin(c/u)/wd,f=l?a:a+o*d,h=Pe(r,n,u,f),g=Pe(r,n,i,f),m=l?a-o*d:a,v=Pe(r,n,u*Math.cos(d*wd),m);return{center:h,circleTangency:g,lineTangency:v,theta:d}},Sk=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,c=dne(o,s),l=o+c,u=Pe(r,n,a,o),d=Pe(r,n,a,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var h=Pe(r,n,i,o),g=Pe(r,n,i,l);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},fne=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,c=e.cornerIsExternal,l=e.startAngle,u=e.endAngle,d=kt(u-l),f=iu({cx:r,cy:n,radius:a,angle:l,sign:d,cornerRadius:o,cornerIsExternal:c}),h=f.circleTangency,g=f.lineTangency,m=f.theta,v=iu({cx:r,cy:n,radius:a,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,w=v.lineTangency,y=v.theta,O=c?Math.abs(l-u):Math.abs(l-u)-m-y;if(O<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Sk({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:l,endAngle:u});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var S=iu({cx:r,cy:n,radius:i,angle:l,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=S.circleTangency,E=S.lineTangency,j=S.theta,T=iu({cx:r,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=T.circleTangency,k=T.lineTangency,L=T.theta,R=c?Math.abs(l-u):Math.abs(l-u)-j-L;if(R<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},hne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ok=function(e){var r=y_(y_({},hne),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,c=r.forceCornerRadius,l=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,f=r.className;if(o<a||u===d)return null;var h=pe("recharts-sector",f),g=o-a,m=$t(s,g,0,!0),v;return m>0&&Math.abs(u-d)<360?v=fne({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:l,startAngle:u,endAngle:d}):v=Sk({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),P.createElement("path",pv({},te(r,!0),{className:h,d:v,role:"img"}))};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mv.apply(this,arguments)}function b_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b_(Object(r),!0).forEach(function(n){pne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pne(t,e,r){return e=mne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mne(t){var e=vne(t,"string");return Kc(e)=="symbol"?e:e+""}function vne(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x_={curveBasisClosed:vH,curveBasisOpen:gH,curveBasis:mH,curveBumpX:tH,curveBumpY:rH,curveLinearClosed:yH,curveLinear:Jf,curveMonotoneX:bH,curveMonotoneY:wH,curveNatural:xH,curveStep:_H,curveStepAfter:OH,curveStepBefore:SH},au=function(e){return e.x===+e.x&&e.y===+e.y},Hs=function(e){return e.x},Ks=function(e){return e.y},gne=function(e,r){if(ce(e))return e;var n="curve".concat(Xf(e));return(n==="curveMonotone"||n==="curveBump")&&r?x_["".concat(n).concat(r==="vertical"?"Y":"X")]:x_[n]||Jf},yne=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,c=e.connectNulls,l=c===void 0?!1:c,u=gne(n,s),d=l?a.filter(function(m){return au(m)}):a,f;if(Array.isArray(o)){var h=l?o.filter(function(m){return au(m)}):o,g=d.map(function(m,v){return w_(w_({},m),{},{base:h[v]})});return s==="vertical"?f=Yl().y(Ks).x1(Hs).x0(function(m){return m.base.x}):f=Yl().x(Hs).y1(Ks).y0(function(m){return m.base.y}),f.defined(au).curve(u),f(g)}return s==="vertical"&&Y(o)?f=Yl().y(Ks).x1(Hs).x0(o):Y(o)?f=Yl().x(Hs).y1(Ks).y0(o):f=vT().x(Hs).y(Ks),f.defined(au).curve(u),f(d)},bi=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?yne(e):i;return x.createElement("path",mv({},te(e,!1),Ku(e),{className:pe("recharts-curve",r),d:o,ref:a}))},Ak={exports:{}},bne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wne=bne,xne=wne;function Ek(){}function Pk(){}Pk.resetWarningCache=Ek;var _ne=function(){function t(n,i,a,o,s,c){if(c!==xne){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Pk,resetWarningCache:Ek};return r.PropTypes=r,r};Ak.exports=_ne();var Sne=Ak.exports;const Te=ke(Sne);var One=Object.getOwnPropertyNames,Ane=Object.getOwnPropertySymbols,Ene=Object.prototype.hasOwnProperty;function __(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function ou(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var c=t(r,n,i);return a.delete(r),a.delete(n),c}}function S_(t){return One(t).concat(Ane(t))}var Pne=Object.hasOwn||function(t,e){return Ene.call(t,e)};function Ra(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var jne="__v",Tne="__o",Cne="_owner",O_=Object.getOwnPropertyDescriptor,A_=Object.keys;function kne(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function $ne(t,e){return Ra(t.getTime(),e.getTime())}function Nne(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Rne(t,e){return t===e}function E_(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,c=0;(o=a.next())&&!o.done;){for(var l=e.entries(),u=!1,d=0;(s=l.next())&&!s.done;){if(i[d]){d++;continue}var f=o.value,h=s.value;if(r.equals(f[0],h[0],c,d,t,e,r)&&r.equals(f[1],h[1],f[0],h[0],t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1;c++}return!0}var Ine=Ra;function Mne(t,e,r){var n=A_(t),i=n.length;if(A_(e).length!==i)return!1;for(;i-- >0;)if(!jk(t,e,r,n[i]))return!1;return!0}function Vs(t,e,r){var n=S_(t),i=n.length;if(S_(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!jk(t,e,r,a)||(o=O_(t,a),s=O_(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Dne(t,e){return Ra(t.valueOf(),e.valueOf())}function Lne(t,e){return t.source===e.source&&t.flags===e.flags}function P_(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var c=e.values(),l=!1,u=0;(s=c.next())&&!s.done;){if(!i[u]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){l=i[u]=!0;break}u++}if(!l)return!1}return!0}function Bne(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Fne(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function jk(t,e,r,n){return(n===Cne||n===Tne||n===jne)&&(t.$$typeof||e.$$typeof)?!0:Pne(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Une="[object Arguments]",Wne="[object Boolean]",zne="[object Date]",qne="[object Error]",Hne="[object Map]",Kne="[object Number]",Vne="[object Object]",Gne="[object RegExp]",Yne="[object Set]",Xne="[object String]",Qne="[object URL]",Jne=Array.isArray,j_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,T_=Object.assign,Zne=Object.prototype.toString.call.bind(Object.prototype.toString);function eie(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,l=t.areRegExpsEqual,u=t.areSetsEqual,d=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var b=typeof g;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?o(g,m,v):b==="function"?i(g,m,v):!1;var w=g.constructor;if(w!==m.constructor)return!1;if(w===Object)return s(g,m,v);if(Jne(g))return e(g,m,v);if(j_!=null&&j_(g))return d(g,m,v);if(w===Date)return r(g,m,v);if(w===RegExp)return l(g,m,v);if(w===Map)return a(g,m,v);if(w===Set)return u(g,m,v);var y=Zne(g);return y===zne?r(g,m,v):y===Gne?l(g,m,v):y===Hne?a(g,m,v):y===Yne?u(g,m,v):y===Vne?typeof g.then!="function"&&typeof m.then!="function"&&s(g,m,v):y===Qne?f(g,m,v):y===qne?n(g,m,v):y===Une?s(g,m,v):y===Wne||y===Kne||y===Xne?c(g,m,v):!1}}function tie(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Vs:kne,areDatesEqual:$ne,areErrorsEqual:Nne,areFunctionsEqual:Rne,areMapsEqual:n?__(E_,Vs):E_,areNumbersEqual:Ine,areObjectsEqual:n?Vs:Mne,arePrimitiveWrappersEqual:Dne,areRegExpsEqual:Lne,areSetsEqual:n?__(P_,Vs):P_,areTypedArraysEqual:n?Vs:Bne,areUrlsEqual:Fne};if(r&&(i=T_({},i,r(i))),e){var a=ou(i.areArraysEqual),o=ou(i.areMapsEqual),s=ou(i.areObjectsEqual),c=ou(i.areSetsEqual);i=T_({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return i}function rie(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function nie(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(c,l){var u=n(),d=u.cache,f=d===void 0?e?new WeakMap:void 0:d,h=u.meta;return r(c,l,{cache:f,equals:i,meta:h,strict:a})};if(e)return function(c,l){return r(c,l,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,l){return r(c,l,o)}}var iie=Ni();Ni({strict:!0});Ni({circular:!0});Ni({circular:!0,strict:!0});Ni({createInternalComparator:function(){return Ra}});Ni({strict:!0,createInternalComparator:function(){return Ra}});Ni({circular:!0,createInternalComparator:function(){return Ra}});Ni({circular:!0,createInternalComparator:function(){return Ra},strict:!0});function Ni(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=tie(t),c=eie(s),l=n?n(c):rie(c);return nie({circular:r,comparator:c,createState:i,equals:l,strict:o})}function aie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function C_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):aie(i)};requestAnimationFrame(n)}function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function oie(t){return uie(t)||lie(t)||cie(t)||sie()}function sie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cie(t,e){if(t){if(typeof t=="string")return k_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k_(t,e)}}function k_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uie(t){if(Array.isArray(t))return t}function die(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=oie(o),c=s[0],l=s.slice(1);if(typeof c=="number"){C_(i.bind(null,l),c);return}i(c),C_(i.bind(null,l));return}vv(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function $_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$_(Object(r),!0).forEach(function(n){Tk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tk(t,e,r){return e=fie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fie(t){var e=hie(t,"string");return Vc(e)==="symbol"?e:String(e)}function hie(t,e){if(Vc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pie=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},mie=function(e){return e},vie=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},sc=function(e,r){return Object.keys(r).reduce(function(n,i){return N_(N_({},n),{},Tk({},i,e(i,r[i])))},{})},R_=function(e,r,n){return e.map(function(i){return"".concat(vie(i)," ").concat(r,"ms ").concat(n)}).join(",")};function gie(t,e){return wie(t)||bie(t,e)||Ck(t,e)||yie()}function yie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function wie(t){if(Array.isArray(t))return t}function xie(t){return Oie(t)||Sie(t)||Ck(t)||_ie()}function _ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ck(t,e){if(t){if(typeof t=="string")return gv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gv(t,e)}}function Sie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oie(t){if(Array.isArray(t))return gv(t)}function gv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _d=1e-4,kk=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},$k=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},I_=function(e,r){return function(n){var i=kk(e,r);return $k(i,n)}},Aie=function(e,r){return function(n){var i=kk(e,r),a=[].concat(xie(i.map(function(o,s){return o*s}).slice(1)),[0]);return $k(a,n)}},M_=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var l=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=gie(l,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var d=I_(i,o),f=I_(a,s),h=Aie(i,o),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var w=b>1?1:b,y=w,O=0;O<8;++O){var _=d(y)-w,S=h(y);if(Math.abs(_-w)<_d||S<_d)return f(y);y=g(y-_/S)}return f(y)};return m.isStepper=!1,m},Eie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,c=function(u,d,f){var h=-(u-d)*n,g=f*a,m=f+(h-g)*s/1e3,v=f*s/1e3+u;return Math.abs(v-d)<_d&&Math.abs(m)<_d?[d,0]:[v,m]};return c.isStepper=!0,c.dt=s,c},Pie=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return M_(i);case"spring":return Eie();default:if(i.split("(")[0]==="cubic-bezier")return M_(i)}return typeof i=="function"?i:null};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function D_(t){return Cie(t)||Tie(t)||Nk(t)||jie()}function jie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cie(t){if(Array.isArray(t))return bv(t)}function L_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L_(Object(r),!0).forEach(function(n){yv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yv(t,e,r){return e=kie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kie(t){var e=$ie(t,"string");return Gc(e)==="symbol"?e:String(e)}function $ie(t,e){if(Gc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nie(t,e){return Mie(t)||Iie(t,e)||Nk(t,e)||Rie()}function Rie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nk(t,e){if(t){if(typeof t=="string")return bv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bv(t,e)}}function bv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Iie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Mie(t){if(Array.isArray(t))return t}var Sd=function(e,r,n){return e+(r-e)*n},wv=function(e){var r=e.from,n=e.to;return r!==n},Die=function t(e,r,n){var i=sc(function(a,o){if(wv(o)){var s=e(o.from,o.to,o.velocity),c=Nie(s,2),l=c[0],u=c[1];return _t(_t({},o),{},{from:l,velocity:u})}return o},r);return n<1?sc(function(a,o){return wv(o)?_t(_t({},o),{},{velocity:Sd(o.velocity,i[a].velocity,n),from:Sd(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Lie=function(t,e,r,n,i){var a=pie(t,e),o=a.reduce(function(v,b){return _t(_t({},v),{},yv({},b,[t[b],e[b]]))},{}),s=a.reduce(function(v,b){return _t(_t({},v),{},yv({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,l,u,d=function(){return null},f=function(){return sc(function(b,w){return w.from},s)},h=function(){return!Object.values(s).filter(wv).length},g=function(b){l||(l=b);var w=b-l,y=w/r.dt;s=Die(r,s,y),i(_t(_t(_t({},t),e),f())),l=b,h()||(c=requestAnimationFrame(d))},m=function(b){u||(u=b);var w=(b-u)/n,y=sc(function(_,S){return Sd.apply(void 0,D_(S).concat([r(w)]))},o);if(i(_t(_t(_t({},t),e),y)),w<1)c=requestAnimationFrame(d);else{var O=sc(function(_,S){return Sd.apply(void 0,D_(S).concat([r(1)]))},o);i(_t(_t(_t({},t),e),O))}};return d=r.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Go(t){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(t)}var Bie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Fie(t,e){if(t==null)return{};var r=Uie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uie(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function xp(t){return Hie(t)||qie(t)||zie(t)||Wie()}function Wie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zie(t,e){if(t){if(typeof t=="string")return xv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xv(t,e)}}function qie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hie(t){if(Array.isArray(t))return xv(t)}function xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(r),!0).forEach(function(n){tc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tc(t,e,r){return e=Rk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rk(n.key),n)}}function Gie(t,e,r){return e&&Vie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rk(t){var e=Yie(t,"string");return Go(e)==="symbol"?e:String(e)}function Yie(t,e){if(Go(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Go(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_v(t,e)}function _v(t,e){return _v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_v(t,e)}function Qie(t){var e=Jie();return function(){var n=Od(t),i;if(e){var a=Od(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Sv(this,i)}}function Sv(t,e){if(e&&(Go(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ov(t)}function Ov(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(t)}var er=function(t){Xie(r,t);var e=Qie(r);function r(n,i){var a;Kie(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,c=o.attributeName,l=o.from,u=o.to,d=o.steps,f=o.children,h=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Ov(a)),a.changeStyle=a.changeStyle.bind(Ov(a)),!s||h<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:u}),Sv(a);if(d&&d.length)a.state={style:d[0].style};else if(l){if(typeof f=="function")return a.state={style:l},Sv(a);a.state={style:c?tc({},c,l):l}}else a.state={style:{}};return a}return Gie(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,c=a.attributeName,l=a.shouldReAnimate,u=a.to,d=a.from,f=this.state.style;if(s){if(!o){var h={style:c?tc({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(h);return}if(!(iie(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||l?d:i.to;if(this.state&&f){var v={style:c?tc({},c,m):m};(c&&f[c]!==m||!c&&f!==m)&&this.setState(v)}this.runAnimation(Or(Or({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,c=i.duration,l=i.easing,u=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,h=Lie(o,s,Pie(l),c,this.changeStyle),g=function(){a.stopJSAnimation=h()};this.manager.start([f,u,g,c,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,c=i.onAnimationStart,l=o[0],u=l.style,d=l.duration,f=d===void 0?0:d,h=function(m,v,b){if(b===0)return m;var w=v.duration,y=v.easing,O=y===void 0?"ease":y,_=v.style,S=v.properties,A=v.onAnimationEnd,E=b>0?o[b-1]:v,j=S||Object.keys(_);if(typeof O=="function"||O==="spring")return[].concat(xp(m),[a.runJSAnimation.bind(a,{from:E.style,to:_,duration:w,easing:O}),w]);var T=R_(j,w,O),C=Or(Or(Or({},E.style),_),{},{transition:T});return[].concat(xp(m),[C,w,A]).filter(mie)};return this.manager.start([c].concat(xp(o.reduce(h,[u,Math.max(f,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=die());var a=i.begin,o=i.duration,s=i.attributeName,c=i.to,l=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,h=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof l=="function"||typeof h=="function"||l==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=s?tc({},s,c):c,v=R_(Object.keys(m),o,l);g.start([u,a,Or(Or({},m),{},{transition:v}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Fie(i,Bie),l=x.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||l===0||o<=0)return a;var d=function(h){var g=h.props,m=g.style,v=m===void 0?{}:m,b=g.className,w=x.cloneElement(h,Or(Or({},c),{},{style:Or(Or({},v),u),className:b}));return w};return l===1?d(x.Children.only(a)):P.createElement("div",null,x.Children.map(a,function(f){return d(f)}))}}]),r}(x.PureComponent);er.displayName="Animate";er.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};er.propTypes={from:Te.oneOfType([Te.object,Te.string]),to:Te.oneOfType([Te.object,Te.string]),attributeName:Te.string,duration:Te.number,begin:Te.number,easing:Te.oneOfType([Te.string,Te.func]),steps:Te.arrayOf(Te.shape({duration:Te.number.isRequired,style:Te.object.isRequired,easing:Te.oneOfType([Te.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Te.func]),properties:Te.arrayOf("string"),onAnimationEnd:Te.func})),children:Te.oneOfType([Te.node,Te.func]),isActive:Te.bool,canBegin:Te.bool,onAnimationEnd:Te.func,shouldReAnimate:Te.bool,onAnimationStart:Te.func,onAnimationReStart:Te.func};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ad.apply(this,arguments)}function Zie(t,e){return nae(t)||rae(t,e)||tae(t,e)||eae()}function eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(t,e){if(t){if(typeof t=="string")return F_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F_(t,e)}}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function nae(t){if(Array.isArray(t))return t}function U_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U_(Object(r),!0).forEach(function(n){iae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iae(t,e,r){return e=aae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aae(t){var e=oae(t,"string");return Yc(e)=="symbol"?e:e+""}function oae(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z_=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,c=n>=0?1:-1,l=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>o?o:a[f];u="M".concat(e,",").concat(r+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+c*d[0],",").concat(r)),u+="L ".concat(e+n-c*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(r+s*d[1])),u+="L ".concat(e+n,",").concat(r+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+n-c*d[2],",").concat(r+i)),u+="L ".concat(e+c*d[3],",").concat(r+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(r+i-s*d[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);u="M ".concat(e,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+n,",").concat(r+s*g,`
            L `).concat(e+n,",").concat(r+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+n-c*g,",").concat(r+i,`
            L `).concat(e+c*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e,",").concat(r+i-s*g," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},sae=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,c=r.height;if(Math.abs(s)>0&&Math.abs(c)>0){var l=Math.min(a,a+s),u=Math.max(a,a+s),d=Math.min(o,o+c),f=Math.max(o,o+c);return n>=l&&n<=u&&i>=d&&i<=f}return!1},cae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ib=function(e){var r=W_(W_({},cae),e),n=x.useRef(),i=x.useState(-1),a=Zie(i,2),o=a[0],s=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&s(O)}catch{}},[]);var c=r.x,l=r.y,u=r.width,d=r.height,f=r.radius,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var y=pe("recharts-rectangle",h);return w?P.createElement(er,{canBegin:o>0,from:{width:u,height:d,x:c,y:l},to:{width:u,height:d,x:c,y:l},duration:m,animationEasing:g,isActive:w},function(O){var _=O.width,S=O.height,A=O.x,E=O.y;return P.createElement(er,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:b,easing:g},P.createElement("path",Ad({},te(r,!0),{className:y,d:z_(A,E,_,S,f),ref:n})))}):P.createElement("path",Ad({},te(r,!0),{className:y,d:z_(c,l,u,d,f)}))},lae=["points","className","baseLinePoints","connectNulls"];function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},no.apply(this,arguments)}function uae(t,e){if(t==null)return{};var r=dae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function q_(t){return mae(t)||pae(t)||hae(t)||fae()}function fae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hae(t,e){if(t){if(typeof t=="string")return Av(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Av(t,e)}}function pae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mae(t){if(Array.isArray(t))return Av(t)}function Av(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var H_=function(e){return e&&e.x===+e.x&&e.y===+e.y},vae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){H_(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),H_(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},cc=function(e,r){var n=vae(e);r&&(n=[n.reduce(function(a,o){return[].concat(q_(a),q_(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,c){return"".concat(o).concat(c===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},gae=function(e,r,n){var i=cc(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(cc(r.reverse(),n).slice(1))},Ik=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=uae(e,lae);if(!r||!r.length)return null;var s=pe("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",l=gae(r,i,a);return P.createElement("g",{className:s},P.createElement("path",no({},te(o,!0),{fill:l.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:l})),c?P.createElement("path",no({},te(o,!0),{fill:"none",d:cc(r,a)})):null,c?P.createElement("path",no({},te(o,!0),{fill:"none",d:cc(i,a)})):null)}var u=cc(r,a);return P.createElement("path",no({},te(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ev.apply(this,arguments)}var Ds=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=pe("recharts-dot",a);return r===+r&&n===+n&&i===+i?x.createElement("circle",Ev({},te(e,!1),Ku(e),{className:o,cx:r,cy:n,r:i})):null};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}var yae=["x","y","top","left","width","height","className"];function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pv.apply(this,arguments)}function K_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(r),!0).forEach(function(n){wae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wae(t,e,r){return e=xae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xae(t){var e=_ae(t,"string");return Xc(e)=="symbol"?e:e+""}function _ae(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sae(t,e){if(t==null)return{};var r=Oae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Aae=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Eae=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,c=e.left,l=c===void 0?0:c,u=e.width,d=u===void 0?0:u,f=e.height,h=f===void 0?0:f,g=e.className,m=Sae(e,yae),v=bae({x:n,y:a,top:s,left:l,width:d,height:h},m);return!Y(n)||!Y(a)||!Y(d)||!Y(h)||!Y(s)||!Y(l)?null:P.createElement("path",Pv({},te(v,!0),{className:pe("recharts-cross",g),d:Aae(n,a,d,h,s,l)}))},Pae=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function jae(t,e){if(t==null)return{};var r=Tae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function In(){return In=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},In.apply(this,arguments)}function V_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(r),!0).forEach(function(n){Cae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cae(t,e,r){return e=kae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kae(t){var e=$ae(t,"string");return Qc(e)=="symbol"?e:e+""}function $ae(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nae=function(e,r,n,i){var a="";return i.forEach(function(o,s){var c=Pe(r,n,e,o);s?a+="L ".concat(c.x,",").concat(c.y):a+="M ".concat(c.x,",").concat(c.y)}),a+="Z",a},Rae=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.polarAngles,s=e.radialLines;if(!o||!o.length||!s)return null;var c=Jc({stroke:"#ccc"},te(e,!1));return P.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(l){var u=Pe(r,n,i,l),d=Pe(r,n,a,l);return P.createElement("line",In({},c,{key:"line-".concat(l),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},Iae=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.index,o=Jc(Jc({stroke:"#ccc"},te(e,!1)),{},{fill:"none"});return P.createElement("circle",In({},o,{className:pe("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:r,cy:n,r:i}))},Mae=function(e){var r=e.radius,n=e.index,i=Jc(Jc({stroke:"#ccc"},te(e,!1)),{},{fill:"none"});return P.createElement("path",In({},i,{className:pe("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(n),d:Nae(r,e.cx,e.cy,e.polarAngles)}))},Dae=function(e){var r=e.polarRadius,n=e.gridType;return!r||!r.length?null:P.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,a){var o=a;return n==="circle"?P.createElement(Iae,In({key:o},e,{radius:i,index:a})):P.createElement(Mae,In({key:o},e,{radius:i,index:a}))}))},Ed=function(e){var r=e.cx,n=r===void 0?0:r,i=e.cy,a=i===void 0?0:i,o=e.innerRadius,s=o===void 0?0:o,c=e.outerRadius,l=c===void 0?0:c,u=e.gridType,d=u===void 0?"polygon":u,f=e.radialLines,h=f===void 0?!0:f,g=jae(e,Pae);return l<=0?null:P.createElement("g",{className:"recharts-polar-grid"},P.createElement(Rae,In({cx:n,cy:a,innerRadius:s,outerRadius:l,gridType:d,radialLines:h},g)),P.createElement(Dae,In({cx:n,cy:a,innerRadius:s,outerRadius:l,gridType:d,radialLines:h},g)))};Ed.displayName="PolarGrid";var Lae=uh,Bae=qC,Fae=hn;function Uae(t,e){return t&&t.length?Lae(t,Fae(e),Bae):void 0}var Wae=Uae;const zae=ke(Wae);var qae=uh,Hae=hn,Kae=HC;function Vae(t,e){return t&&t.length?qae(t,Hae(e),Kae):void 0}var Gae=Vae;const Yae=ke(Gae);var Xae=["cx","cy","angle","ticks","axisLine"],Qae=["ticks","tick","angle","tickFormatter","stroke"];function Yo(t){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lc.apply(this,arguments)}function G_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(r),!0).forEach(function(n){ph(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y_(t,e){if(t==null)return{};var r=Jae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dk(n.key),n)}}function eoe(t,e,r){return e&&X_(t.prototype,e),r&&X_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function toe(t,e,r){return e=Pd(e),roe(t,Mk()?Reflect.construct(e,r||[],Pd(t).constructor):e.apply(t,r))}function roe(t,e){if(e&&(Yo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return noe(t)}function noe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mk=function(){return!!t})()}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(t)}function ioe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jv(t,e)}function jv(t,e){return jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jv(t,e)}function ph(t,e,r){return e=Dk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dk(t){var e=aoe(t,"string");return Yo(e)=="symbol"?e:e+""}function aoe(t,e){if(Yo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ja=function(t){function e(){return Zae(this,e),toe(this,e,arguments)}return ioe(e,t),eoe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,c=a.cy;return Pe(s,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,c=zae(s,function(u){return u.coordinate||0}),l=Yae(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:l.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,c=n.axisLine,l=Y_(n,Xae),u=s.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),d=Pe(i,a,u[0],o),f=Pe(i,a,u[1],o),h=Li(Li(Li({},te(l,!1)),{},{fill:"none"},te(c,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return P.createElement("line",lc({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,c=i.tickFormatter,l=i.stroke,u=Y_(i,Qae),d=this.getTickTextAnchor(),f=te(u,!1),h=te(o,!1),g=a.map(function(m,v){var b=n.getTickValueCoord(m),w=Li(Li(Li(Li({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:l},h),{},{index:v},b),{},{payload:m});return P.createElement(me,lc({className:pe("recharts-polar-radius-axis-tick",wk(o)),key:"tick-".concat(m.coordinate)},Si(n.props,m,v)),e.renderTickItem(o,w,c?c(m.value,v):m.value))});return P.createElement(me,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:P.createElement(me,{className:pe("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),yt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return P.isValidElement(n)?o=P.cloneElement(n,i):ce(n)?o=n(i):o=P.createElement(Aa,lc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(x.PureComponent);ph(ja,"displayName","PolarRadiusAxis");ph(ja,"axisType","radiusAxis");ph(ja,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Xo(t){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(t)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ji.apply(this,arguments)}function Q_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(r),!0).forEach(function(n){mh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ooe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bk(n.key),n)}}function soe(t,e,r){return e&&J_(t.prototype,e),r&&J_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function coe(t,e,r){return e=jd(e),loe(t,Lk()?Reflect.construct(e,r||[],jd(t).constructor):e.apply(t,r))}function loe(t,e){if(e&&(Xo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uoe(t)}function uoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lk=function(){return!!t})()}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(t)}function doe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tv(t,e)}function Tv(t,e){return Tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tv(t,e)}function mh(t,e,r){return e=Bk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bk(t){var e=foe(t,"string");return Xo(e)=="symbol"?e:e+""}function foe(t,e){if(Xo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hoe=Math.PI/180,Z_=1e-5,Oi=function(t){function e(){return ooe(this,e),coe(this,e,arguments)}return doe(e,t),soe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,c=i.orientation,l=i.tickSize,u=l||8,d=Pe(a,o,s,n.coordinate),f=Pe(a,o,s+(c==="inner"?-1:1)*u,n.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*hoe),o;return a>Z_?o=i==="outer"?"start":"end":a<-Z_?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,c=n.axisLineType,l=Bi(Bi({},te(this.props,!1)),{},{fill:"none"},te(s,!1));if(c==="circle")return P.createElement(Ds,Ji({className:"recharts-polar-angle-axis-line"},l,{cx:i,cy:a,r:o}));var u=this.props.ticks,d=u.map(function(f){return Pe(i,a,o,f.coordinate)});return P.createElement(Ik,Ji({className:"recharts-polar-angle-axis-line"},l,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,c=i.tickFormatter,l=i.stroke,u=te(this.props,!1),d=te(o,!1),f=Bi(Bi({},u),{},{fill:"none"},te(s,!1)),h=a.map(function(g,m){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),w=Bi(Bi(Bi({textAnchor:b},u),{},{stroke:"none",fill:l},d),{},{index:m,payload:g,x:v.x2,y:v.y2});return P.createElement(me,Ji({className:pe("recharts-polar-angle-axis-tick",wk(o)),key:"tick-".concat(g.coordinate)},Si(n.props,g,m)),s&&P.createElement("line",Ji({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&e.renderTickItem(o,w,c?c(g.value,m):g.value))});return P.createElement(me,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:P.createElement(me,{className:pe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return P.isValidElement(n)?o=P.cloneElement(n,i):ce(n)?o=n(i):o=P.createElement(Aa,Ji({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(x.PureComponent);mh(Oi,"displayName","PolarAngleAxis");mh(Oi,"axisType","angleAxis");mh(Oi,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var poe=FT,moe=poe(Object.getPrototypeOf,Object),voe=moe,goe=Ln,yoe=voe,boe=Bn,woe="[object Object]",xoe=Function.prototype,_oe=Object.prototype,Fk=xoe.toString,Soe=_oe.hasOwnProperty,Ooe=Fk.call(Object);function Aoe(t){if(!boe(t)||goe(t)!=woe)return!1;var e=yoe(t);if(e===null)return!0;var r=Soe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Fk.call(r)==Ooe}var Eoe=Aoe;const Poe=ke(Eoe);var joe=Ln,Toe=Bn,Coe="[object Boolean]";function koe(t){return t===!0||t===!1||Toe(t)&&joe(t)==Coe}var $oe=koe;const Noe=ke($oe);function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Td.apply(this,arguments)}function Roe(t,e){return Loe(t)||Doe(t,e)||Moe(t,e)||Ioe()}function Ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Moe(t,e){if(t){if(typeof t=="string")return eS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eS(t,e)}}function eS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Doe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Loe(t){if(Array.isArray(t))return t}function tS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(r),!0).forEach(function(n){Boe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Boe(t,e,r){return e=Foe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Foe(t){var e=Uoe(t,"string");return Zc(e)=="symbol"?e:e+""}function Uoe(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nS=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},Woe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zoe=function(e){var r=rS(rS({},Woe),e),n=x.useRef(),i=x.useState(-1),a=Roe(i,2),o=a[0],s=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&s(y)}catch{}},[]);var c=r.x,l=r.y,u=r.upperWidth,d=r.lowerWidth,f=r.height,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||l!==+l||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var w=pe("recharts-trapezoid",h);return b?P.createElement(er,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:l},to:{upperWidth:u,lowerWidth:d,height:f,x:c,y:l},duration:m,animationEasing:g,isActive:b},function(y){var O=y.upperWidth,_=y.lowerWidth,S=y.height,A=y.x,E=y.y;return P.createElement(er,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},P.createElement("path",Td({},te(r,!0),{className:w,d:nS(A,E,O,_,S),ref:n})))}):P.createElement("g",null,P.createElement("path",Td({},te(r,!0),{className:w,d:nS(c,l,u,d,f)})))},qoe=["option","shapeType","propTransformer","activeClassName","isActive"];function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function Hoe(t,e){if(t==null)return{};var r=Koe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Koe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iS(Object(r),!0).forEach(function(n){Voe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Voe(t,e,r){return e=Goe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Goe(t){var e=Yoe(t,"string");return el(e)=="symbol"?e:e+""}function Yoe(t,e){if(el(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xoe(t,e){return Cd(Cd({},e),t)}function Qoe(t,e){return t==="symbols"}function aS(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return P.createElement(ib,r);case"trapezoid":return P.createElement(zoe,r);case"sector":return P.createElement(Ok,r);case"symbols":if(Qoe(e))return P.createElement(eh,r);break;default:return null}}function Joe(t){return x.isValidElement(t)?t.props:t}function kd(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Xoe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,c=Hoe(t,qoe),l;if(x.isValidElement(e))l=x.cloneElement(e,Cd(Cd({},c),Joe(e)));else if(ce(e))l=e(c);else if(Poe(e)&&!Noe(e)){var u=i(e,c);l=P.createElement(aS,{shapeType:r,elementProps:u})}else{var d=c;l=P.createElement(aS,{shapeType:r,elementProps:d})}return s?P.createElement(me,{className:o},l):l}function vh(t,e){return e!=null&&"trapezoids"in t.props}function gh(t,e){return e!=null&&"sectors"in t.props}function tl(t,e){return e!=null&&"points"in t.props}function Zoe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function ese(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function tse(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function rse(t,e){var r;return vh(t,e)?r=Zoe:gh(t,e)?r=ese:tl(t,e)&&(r=tse),r}function nse(t,e){var r;return vh(t,e)?r="trapezoids":gh(t,e)?r="sectors":tl(t,e)&&(r="points"),r}function ise(t,e){if(vh(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(gh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return tl(t,e)?e.payload:{}}function ase(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=nse(r,e),a=ise(r,e),o=n.filter(function(c,l){var u=Rn(a,c),d=r.props[i].filter(function(g){var m=rse(r,e);return m(g,e)}),f=r.props[i].indexOf(d[d.length-1]),h=l===f;return u&&h}),s=n.indexOf(o[o.length-1]);return s}var wu;function Qo(t){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(t)}function io(){return io=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},io.apply(this,arguments)}function oS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(r),!0).forEach(function(n){lr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ose(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wk(n.key),n)}}function sse(t,e,r){return e&&sS(t.prototype,e),r&&sS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cse(t,e,r){return e=$d(e),lse(t,Uk()?Reflect.construct(e,r||[],$d(t).constructor):e.apply(t,r))}function lse(t,e){if(e&&(Qo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return use(t)}function use(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uk=function(){return!!t})()}function $d(t){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$d(t)}function dse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cv(t,e)}function Cv(t,e){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cv(t,e)}function lr(t,e,r){return e=Wk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wk(t){var e=fse(t,"string");return Qo(e)=="symbol"?e:e+""}function fse(t,e){if(Qo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Un=function(t){function e(r){var n;return ose(this,e),n=cse(this,e,[r]),lr(n,"pieRef",null),lr(n,"sectorRefs",[]),lr(n,"id",Ci("recharts-pie-")),lr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ce(i)&&i()}),lr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ce(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return dse(e,t),sse(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,c=a.dataKey,l=a.valueKey,u=te(this.props,!1),d=te(o,!1),f=te(s,!1),h=o&&o.offsetRadius||20,g=n.map(function(m,v){var b=(m.startAngle+m.endAngle)/2,w=Pe(m.cx,m.cy,m.outerRadius+h,b),y=Ue(Ue(Ue(Ue({},u),m),{},{stroke:"none"},d),{},{index:v,textAnchor:e.getTextAnchor(w.x,m.cx)},w),O=Ue(Ue(Ue(Ue({},u),m),{},{fill:"none",stroke:m.fill},f),{},{index:v,points:[Pe(m.cx,m.cy,m.outerRadius,b),w]}),_=c;return le(c)&&le(l)?_="value":le(c)&&(_=l),P.createElement(me,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,O,"line"),e.renderLabelItem(o,y,Le(m,_)))});return P.createElement(me,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,c=a.inactiveShape;return n.map(function(l,u){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&n.length!==1)return null;var d=i.isActiveIndex(u),f=c&&i.hasActiveIndex()?c:null,h=d?o:f,g=Ue(Ue({},l),{},{stroke:s?l.fill:l.stroke,tabIndex:-1});return P.createElement(me,io({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Si(i.props,l,u),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(u)}),P.createElement(kd,io({option:h,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,c=i.animationDuration,l=i.animationEasing,u=i.animationId,d=this.state,f=d.prevSectors,h=d.prevIsAnimationActive;return P.createElement(er,{begin:s,duration:c,isActive:o,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],b=a&&a[0],w=b.startAngle;return a.forEach(function(y,O){var _=f&&f[O],S=O>0?Jt(y,"paddingAngle",0):0;if(_){var A=De(_.endAngle-_.startAngle,y.endAngle-y.startAngle),E=Ue(Ue({},y),{},{startAngle:w+S,endAngle:w+A(m)+S});v.push(E),w=E.endAngle}else{var j=y.endAngle,T=y.startAngle,C=De(0,j-T),k=C(m),L=Ue(Ue({},y),{},{startAngle:w+S,endAngle:w+k+S});v.push(L),w=L.endAngle}}),P.createElement(me,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Rn(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,c=i.label,l=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,h=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!Y(l)||!Y(u)||!Y(d)||!Y(f))return null;var m=pe("recharts-pie",s);return P.createElement(me,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),yt.renderCallByParent(this.props,null,!1),(!h||g)&&hr.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(P.isValidElement(n))return P.cloneElement(n,i);if(ce(n))return n(i);var o=pe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return P.createElement(bi,io({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(P.isValidElement(n))return P.cloneElement(n,i);var o=a;if(ce(n)&&(o=n(i),P.isValidElement(o)))return o;var s=pe("recharts-pie-label-text",typeof n!="boolean"&&!ce(n)?n.className:"");return P.createElement(Aa,io({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(x.PureComponent);wu=Un;lr(Un,"displayName","Pie");lr(Un,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Zt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});lr(Un,"parseDeltaAngle",function(t,e){var r=kt(e-t),n=Math.min(Math.abs(e-t),360);return r*n});lr(Un,"getRealPieData",function(t){var e=t.data,r=t.children,n=te(t,!1),i=Rt(r,$s);return e&&e.length?e.map(function(a,o){return Ue(Ue(Ue({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Ue(Ue({},n),a.props)}):[]});lr(Un,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=yk(i,a),s=n+$t(t.cx,i,i/2),c=r+$t(t.cy,a,a/2),l=$t(t.innerRadius,o,0),u=$t(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:c,innerRadius:l,outerRadius:u,maxRadius:d}});lr(Un,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ue(Ue({},e.type.defaultProps),e.props):e.props,i=wu.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,c=n.paddingAngle,l=n.dataKey,u=n.nameKey,d=n.valueKey,f=n.tooltipType,h=Math.abs(n.minAngle),g=wu.parseCoordinateOfPie(n,r),m=wu.parseDeltaAngle(o,s),v=Math.abs(m),b=l;le(l)&&le(d)?(Mr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):le(l)&&(Mr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=d);var w=i.filter(function(E){return Le(E,b,0)!==0}).length,y=(v>=360?w:w-1)*c,O=v-w*h-y,_=i.reduce(function(E,j){var T=Le(j,b,0);return E+(Y(T)?T:0)},0),S;if(_>0){var A;S=i.map(function(E,j){var T=Le(E,b,0),C=Le(E,u,j),k=(Y(T)?T:0)/_,L;j?L=A.endAngle+kt(m)*c*(T!==0?1:0):L=o;var R=L+kt(m)*((T!==0?h:0)+k*O),M=(L+R)/2,$=(g.innerRadius+g.outerRadius)/2,I=[{name:C,value:T,payload:E,dataKey:b,type:f}],F=Pe(g.cx,g.cy,$,M);return A=Ue(Ue(Ue({percent:k,cornerRadius:a,name:C,tooltipPayload:I,midAngle:M,middleRadius:$,tooltipPosition:F},E),g),{},{value:Le(E,b),startAngle:L,endAngle:R,payload:E,paddingAngle:kt(m)*c}),A})}return Ue(Ue({},g),{},{sectors:S,data:i})});function hse(t){return t&&t.length?t[0]:void 0}var pse=hse,mse=pse;const vse=ke(mse);var gse=["key"];function Jo(t){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(t)}function yse(t,e){if(t==null)return{};var r=bse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nd.apply(this,arguments)}function cS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(r),!0).forEach(function(n){bn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qk(n.key),n)}}function xse(t,e,r){return e&&lS(t.prototype,e),r&&lS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _se(t,e,r){return e=Rd(e),Sse(t,zk()?Reflect.construct(e,r||[],Rd(t).constructor):e.apply(t,r))}function Sse(t,e){if(e&&(Jo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ose(t)}function Ose(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zk=function(){return!!t})()}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rd(t)}function Ase(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kv(t,e)}function kv(t,e){return kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kv(t,e)}function bn(t,e,r){return e=qk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qk(t){var e=Ese(t,"string");return Jo(e)=="symbol"?e:e+""}function Ese(t,e){if(Jo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ta=function(t){function e(){var r;wse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_se(this,e,[].concat(i)),bn(r,"state",{isAnimationFinished:!1}),bn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ce(o)&&o()}),bn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ce(o)&&o()}),bn(r,"handleMouseEnter",function(o){var s=r.props.onMouseEnter;s&&s(r.props,o)}),bn(r,"handleMouseLeave",function(o){var s=r.props.onMouseLeave;s&&s(r.props,o)}),r}return Ase(e,t),xse(e,[{key:"renderDots",value:function(n){var i=this.props,a=i.dot,o=i.dataKey,s=te(this.props,!1),c=te(a,!0),l=n.map(function(u,d){var f=Tt(Tt(Tt({key:"dot-".concat(d),r:3},s),c),{},{dataKey:o,cx:u.x,cy:u.y,index:d,payload:u});return e.renderDotItem(a,f)});return P.createElement(me,{className:"recharts-radar-dots"},l)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,a=i.shape,o=i.dot,s=i.isRange,c=i.baseLinePoints,l=i.connectNulls,u;return P.isValidElement(a)?u=P.cloneElement(a,Tt(Tt({},this.props),{},{points:n})):ce(a)?u=a(Tt(Tt({},this.props),{},{points:n})):u=P.createElement(Ik,Nd({},te(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:s?c:null,connectNulls:l})),P.createElement(me,{className:"recharts-radar-polygon"},u,o?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,c=i.animationDuration,l=i.animationEasing,u=i.animationId,d=this.state.prevPoints;return P.createElement(er,{begin:s,duration:c,isActive:o,easing:l,from:{t:0},to:{t:1},key:"radar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var h=f.t,g=d&&d.length/a.length,m=a.map(function(v,b){var w=d&&d[Math.floor(b*g)];if(w){var y=De(w.x,v.x),O=De(w.y,v.y);return Tt(Tt({},v),{},{x:y(h),y:O(h)})}var _=De(v.cx,v.x),S=De(v.cy,v.y);return Tt(Tt({},v),{},{x:_(h),y:S(h)})});return n.renderPolygonStatically(m)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=n.isRange,s=this.state.prevPoints;return a&&i&&i.length&&!o&&(!s||!Rn(s,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.className,o=n.points,s=n.isAnimationActive;if(i||!o||!o.length)return null;var c=this.state.isAnimationFinished,l=pe("recharts-radar",a);return P.createElement(me,{className:l},this.renderPolygon(),(!s||c)&&hr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var a;if(P.isValidElement(n))a=P.cloneElement(n,i);else if(ce(n))a=n(i);else{var o=i.key,s=yse(i,gse);a=P.createElement(Ds,Nd({},s,{key:o,className:pe("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return a}}])}(x.PureComponent);bn(Ta,"displayName","Radar");bn(Ta,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Zt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});bn(Ta,"getComposedData",function(t){var e=t.radiusAxis,r=t.angleAxis,n=t.displayedData,i=t.dataKey,a=t.bandSize,o=r.cx,s=r.cy,c=!1,l=[],u=r.type!=="number"?a??0:0;n.forEach(function(f,h){var g=Le(f,r.dataKey,h),m=Le(f,i),v=r.scale(g)+u,b=Array.isArray(m)?_k(m):m,w=le(b)?void 0:e.scale(b);Array.isArray(m)&&m.length>=2&&(c=!0),l.push(Tt(Tt({},Pe(o,s,w,v)),{},{name:g,value:m,cx:o,cy:s,radius:w,angle:v,payload:f}))});var d=[];return c&&l.forEach(function(f){if(Array.isArray(f.value)){var h=vse(f.value),g=le(h)?void 0:e.scale(h);d.push(Tt(Tt({},f),{},{radius:g},Pe(o,s,g,f.angle)))}else d.push(f)}),{points:l,isRange:c,baseLinePoints:d}});var Pse=Math.ceil,jse=Math.max;function Tse(t,e,r,n){for(var i=-1,a=jse(Pse((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Cse=Tse,kse=aC,uS=1/0,$se=17976931348623157e292;function Nse(t){if(!t)return t===0?t:0;if(t=kse(t),t===uS||t===-uS){var e=t<0?-1:1;return e*$se}return t===t?t:0}var Hk=Nse,Rse=Cse,Ise=nh,_p=Hk;function Mse(t){return function(e,r,n){return n&&typeof n!="number"&&Ise(e,r,n)&&(r=n=void 0),e=_p(e),r===void 0?(r=e,e=0):r=_p(r),n=n===void 0?e<r?1:-1:_p(n),Rse(e,r,n,t)}}var Dse=Mse,Lse=Dse,Bse=Lse(),Fse=Bse;const Id=ke(Fse);function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function dS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dS(Object(r),!0).forEach(function(n){Kk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kk(t,e,r){return e=Use(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Use(t){var e=Wse(t,"string");return rl(e)=="symbol"?e:e+""}function Wse(t,e){if(rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zse=["Webkit","Moz","O","ms"],qse=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=zse.reduce(function(a,o){return fS(fS({},a),{},Kk({},o+n,r))},{});return i[e]=r,i};function Zo(t){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(t)}function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Md.apply(this,arguments)}function hS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(r),!0).forEach(function(n){Kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gk(n.key),n)}}function Kse(t,e,r){return e&&pS(t.prototype,e),r&&pS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vse(t,e,r){return e=Dd(e),Gse(t,Vk()?Reflect.construct(e,r||[],Dd(t).constructor):e.apply(t,r))}function Gse(t,e){if(e&&(Zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yse(t)}function Yse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vk=function(){return!!t})()}function Dd(t){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dd(t)}function Xse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$v(t,e)}function Kt(t,e,r){return e=Gk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gk(t){var e=Qse(t,"string");return Zo(e)=="symbol"?e:e+""}function Qse(t,e){if(Zo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jse=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,l=ac().domain(Id(0,c)).range([a,a+o-s]),u=l.domain().map(function(d){return l(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(i),scale:l,scaleValues:u}},mS=function(e){return e.changedTouches&&!!e.changedTouches.length},es=function(t){function e(r){var n;return Hse(this,e),n=Vse(this,e,[r]),Kt(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Kt(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Kt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Kt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Kt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Kt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Kt(n,"handleSlideDragStart",function(i){var a=mS(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Xse(e,t),Kse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,c=s.gap,l=s.data,u=l.length-1,d=Math.min(i,a),f=Math.max(i,a),h=e.getIndexInRange(o,d),g=e.getIndexInRange(o,f);return{startIndex:h-h%c,endIndex:g===u?u:g-g%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,c=Le(a[n],s,n);return ce(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,c=this.props,l=c.x,u=c.width,d=c.travellerWidth,f=c.startIndex,h=c.endIndex,g=c.onChange,m=n.pageX-a;m>0?m=Math.min(m,l+u-d-s,l+u-d-o):m<0&&(m=Math.max(m,l-o,l-s));var v=this.getIndex({startX:o+m,endX:s+m});(v.startIndex!==f||v.endIndex!==h)&&g&&g(v),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=mS(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,c=i.startX,l=this.state[o],u=this.props,d=u.x,f=u.width,h=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,b={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,d+f-h-l):w<0&&(w=Math.max(w,d-l)),b[o]=l+w;var y=this.getIndex(b),O=y.startIndex,_=y.endIndex,S=function(){var E=v.length-1;return o==="startX"&&(s>c?O%m===0:_%m===0)||s<c&&_===E||o==="endX"&&(s>c?_%m===0:O%m===0)||s>c&&_===E};this.setState(Kt(Kt({},o,l+w),"brushMoveStartX",n.pageX),function(){g&&S()&&g(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,c=o.startX,l=o.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var f=d+n;if(!(f===-1||f>=s.length)){var h=s[f];i==="startX"&&h>=l||i==="endX"&&h<=c||this.setState(Kt({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.fill,l=n.stroke;return P.createElement("rect",{stroke:l,fill:c,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.data,l=n.children,u=n.padding,d=x.Children.only(l);return d?P.cloneElement(d,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,c=this.props,l=c.y,u=c.travellerWidth,d=c.height,f=c.traveller,h=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),w=Sp(Sp({},te(this.props,!1)),{},{x:b,y:l,width:u,height:d}),y=h||"Min value: ".concat((a=g[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return P.createElement(me,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),s.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,w))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,c=a.stroke,l=a.travellerWidth,u=Math.min(n,i)+l,d=Math.max(Math.abs(i-n)-l,0);return P.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,c=n.travellerWidth,l=n.stroke,u=this.state,d=u.startX,f=u.endX,h=5,g={pointerEvents:"none",fill:l};return P.createElement(me,{className:"recharts-brush-texts"},P.createElement(Aa,Md({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-h,y:o+s/2},g),this.getTextOfTick(i)),P.createElement(Aa,Md({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+c+h,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,c=n.y,l=n.width,u=n.height,d=n.alwaysShowText,f=this.state,h=f.startX,g=f.endX,m=f.isTextActive,v=f.isSlideMoving,b=f.isTravellerMoving,w=f.isTravellerFocused;if(!i||!i.length||!Y(s)||!Y(c)||!Y(l)||!Y(u)||l<=0||u<=0)return null;var y=pe("recharts-brush",a),O=P.Children.count(o)===1,_=qse("userSelect","none");return P.createElement(me,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||b||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,c=n.stroke,l=Math.floor(a+s/2)-1;return P.createElement(P.Fragment,null,P.createElement("rect",{x:i,y:a,width:o,height:s,fill:c,stroke:"none"}),P.createElement("line",{x1:i+1,y1:l,x2:i+o-1,y2:l,fill:"none",stroke:"#fff"}),P.createElement("line",{x1:i+1,y1:l+2,x2:i+o-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return P.isValidElement(n)?a=P.cloneElement(n,i):ce(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,c=n.travellerWidth,l=n.updateId,u=n.startIndex,d=n.endIndex;if(a!==i.prevData||l!==i.prevUpdateId)return Sp({prevData:a,prevTravellerWidth:c,prevUpdateId:l,prevX:s,prevWidth:o},a&&a.length?Jse({data:a,width:o,x:s,travellerWidth:c,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([s,s+o-c]);var f=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:l,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var c=Math.floor((o+s)/2);n[c]>i?s=c:o=c}return i>=n[s]?s:o}}])}(x.PureComponent);Kt(es,"displayName","Brush");Kt(es,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Zse=Cy;function ece(t,e){var r;return Zse(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var tce=ece,rce=$T,nce=hn,ice=tce,ace=Wt,oce=nh;function sce(t,e,r){var n=ace(t)?rce:ice;return r&&oce(t,e,r)&&(e=void 0),n(t,nce(e))}var cce=sce;const lce=ke(cce);var an=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},vS=eC;function uce(t,e,r){e=="__proto__"&&vS?vS(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var dce=uce,fce=dce,hce=JT,pce=hn;function mce(t,e){var r={};return e=pce(e),hce(t,function(n,i,a){fce(r,i,e(n,i,a))}),r}var vce=mce;const gce=ke(vce);function yce(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var bce=yce,wce=Cy;function xce(t,e){var r=!0;return wce(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var _ce=xce,Sce=bce,Oce=_ce,Ace=hn,Ece=Wt,Pce=nh;function jce(t,e,r){var n=Ece(t)?Sce:Oce;return r&&Pce(t,e,r)&&(e=void 0),n(t,Ace(e))}var Tce=jce;const Yk=ke(Tce);var Cce=["x","y"];function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nv.apply(this,arguments)}function gS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(r),!0).forEach(function(n){kce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kce(t,e,r){return e=$ce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ce(t){var e=Nce(t,"string");return nl(e)=="symbol"?e:e+""}function Nce(t,e){if(nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rce(t,e){if(t==null)return{};var r=Ice(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ice(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mce(t,e){var r=t.x,n=t.y,i=Rce(t,Cce),a="".concat(r),o=parseInt(a,10),s="".concat(n),c=parseInt(s,10),l="".concat(e.height||i.height),u=parseInt(l,10),d="".concat(e.width||i.width),f=parseInt(d,10);return Gs(Gs(Gs(Gs(Gs({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function yS(t){return P.createElement(kd,Nv({shapeType:"rectangle",propTransformer:Mce,activeClassName:"recharts-active-bar"},t))}var Dce=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Y(n)||F8(n);return a?e(n,i):(a||Pa(),r)}},Lce=["value","background"],Xk;function ts(t){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(t)}function Bce(t,e){if(t==null)return{};var r=Fce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ld.apply(this,arguments)}function bS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jk(n.key),n)}}function Wce(t,e,r){return e&&wS(t.prototype,e),r&&wS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zce(t,e,r){return e=Bd(e),qce(t,Qk()?Reflect.construct(e,r||[],Bd(t).constructor):e.apply(t,r))}function qce(t,e){if(e&&(ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hce(t)}function Hce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qk=function(){return!!t})()}function Bd(t){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(t)}function Kce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rv(t,e)}function Rv(t,e){return Rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rv(t,e)}function fi(t,e,r){return e=Jk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jk(t){var e=Vce(t,"string");return ts(e)=="symbol"?e:e+""}function Vce(t,e){if(ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fr=function(t){function e(){var r;Uce(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=zce(this,e,[].concat(i)),fi(r,"state",{isAnimationFinished:!1}),fi(r,"id",Ci("recharts-bar-")),fi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),fi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Kce(e,t),Wce(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,c=a.activeIndex,l=a.activeBar,u=te(this.props,!1);return n&&n.map(function(d,f){var h=f===c,g=h?l:o,m=nt(nt(nt({},u),d),{},{isActive:h,option:g,index:f,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return P.createElement(me,Ld({className:"recharts-bar-rectangle"},Si(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),P.createElement(yS,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,c=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevData;return P.createElement(er,{begin:c,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,m=a.map(function(v,b){var w=f&&f[b];if(w){var y=De(w.x,v.x),O=De(w.y,v.y),_=De(w.width,v.width),S=De(w.height,v.height);return nt(nt({},v),{},{x:y(g),y:O(g),width:_(g),height:S(g)})}if(o==="horizontal"){var A=De(0,v.height),E=A(g);return nt(nt({},v),{},{y:v.y+v.height-E,height:E})}var j=De(0,v.width),T=j(g);return nt(nt({},v),{},{width:T})});return P.createElement(me,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Rn(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,c=te(this.props.background,!1);return a.map(function(l,u){l.value;var d=l.background,f=Bce(l,Lce);if(!d)return null;var h=nt(nt(nt(nt(nt({},f),{},{fill:"#eee"},d),c),Si(n.props,l,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return P.createElement(yS,Ld({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,c=a.yAxis,l=a.layout,u=a.children,d=Rt(u,Ms);if(!d)return null;var f=l==="vertical"?o[0].height/2:o[0].width/2,h=function(v,b){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Le(v,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return P.createElement(me,g,d.map(function(m){return P.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:c,layout:l,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,c=n.yAxis,l=n.left,u=n.top,d=n.width,f=n.height,h=n.isAnimationActive,g=n.background,m=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=pe("recharts-bar",o),w=s&&s.allowDataOverflow,y=c&&c.allowDataOverflow,O=w||y,_=le(m)?this.id:m;return P.createElement(me,{className:b},w||y?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(_)},P.createElement("rect",{x:w?l:l-d/2,y:y?u:u-f/2,width:w?d:d*2,height:y?f:f*2}))):null,P.createElement(me,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(_,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,_),(!h||v)&&hr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(x.PureComponent);Xk=fr;fi(fr,"displayName","Bar");fi(fr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Zt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fi(fr,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,c=t.yAxisTicks,l=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,h=are(n,r);if(!h)return null;var g=e.layout,m=r.type.defaultProps,v=m!==void 0?nt(nt({},m),r.props):r.props,b=v.dataKey,w=v.children,y=v.minPointSize,O=g==="horizontal"?o:a,_=l?O.scale.domain():null,S=fre({numericAxis:O}),A=Rt(w,$s),E=d.map(function(j,T){var C,k,L,R,M,$;l?C=ore(l[u+T],_):(C=Le(j,b),Array.isArray(C)||(C=[S,C]));var I=Dce(y,Xk.defaultProps.minPointSize)(C[1],T);if(g==="horizontal"){var F,D=[o.scale(C[0]),o.scale(C[1])],K=D[0],X=D[1];k=o_({axis:a,ticks:s,bandSize:i,offset:h.offset,entry:j,index:T}),L=(F=X??K)!==null&&F!==void 0?F:void 0,R=h.size;var q=K-X;if(M=Number.isNaN(q)?0:q,$={x:k,y:o.y,width:R,height:o.height},Math.abs(I)>0&&Math.abs(M)<Math.abs(I)){var V=kt(M||I)*(Math.abs(I)-Math.abs(M));L-=V,M+=V}}else{var ee=[a.scale(C[0]),a.scale(C[1])],ie=ee[0],_e=ee[1];if(k=ie,L=o_({axis:o,ticks:c,bandSize:i,offset:h.offset,entry:j,index:T}),R=_e-ie,M=h.size,$={x:a.x,y:L,width:a.width,height:M},Math.abs(I)>0&&Math.abs(R)<Math.abs(I)){var Q=kt(R||I)*(Math.abs(I)-Math.abs(R));R+=Q}}return nt(nt(nt({},j),{},{x:k,y:L,width:R,height:M,value:l?C:C[1],payload:j,background:$},A&&A[T]&&A[T].props),{},{tooltipPayload:[vk(r,j)],tooltipPosition:{x:k+R/2,y:L+M/2}})});return nt({data:E,layout:g},f)});function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function Gce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zk(n.key),n)}}function Yce(t,e,r){return e&&xS(t.prototype,e),r&&xS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(r),!0).forEach(function(n){yh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yh(t,e,r){return e=Zk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zk(t){var e=Xce(t,"string");return il(e)=="symbol"?e:e+""}function Xce(t,e){if(il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ab=function(e,r,n,i,a){var o=e.width,s=e.height,c=e.layout,l=e.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},f=!!Vt(l,fr);return u.reduce(function(h,g){var m=r[g],v=m.orientation,b=m.domain,w=m.padding,y=w===void 0?{}:w,O=m.mirror,_=m.reversed,S="".concat(v).concat(O?"Mirror":""),A,E,j,T,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var k=b[1]-b[0],L=1/0,R=m.categoricalDomain.sort(q8);if(R.forEach(function(ee,ie){ie>0&&(L=Math.min((ee||0)-(R[ie-1]||0),L))}),Number.isFinite(L)){var M=L/k,$=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(A=M*$/2),m.padding==="no-gap"){var I=$t(e.barCategoryGap,M*$),F=M*$/2;A=F-I-(F-I)/$*I}}}i==="xAxis"?E=[n.left+(y.left||0)+(A||0),n.left+n.width-(y.right||0)-(A||0)]:i==="yAxis"?E=c==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(A||0),n.top+n.height-(y.bottom||0)-(A||0)]:E=m.range,_&&(E=[E[1],E[0]]);var D=fk(m,a,f),K=D.scale,X=D.realScaleType;K.domain(b).range(E),hk(K);var q=pk(K,$r($r({},m),{},{realScaleType:X}));i==="xAxis"?(C=v==="top"&&!O||v==="bottom"&&O,j=n.left,T=d[S]-C*m.height):i==="yAxis"&&(C=v==="left"&&!O||v==="right"&&O,j=d[S]-C*m.width,T=n.top);var V=$r($r($r({},m),q),{},{realScaleType:X,x:j,y:T,scale:K,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return V.bandSize=bd(V,q),!m.hide&&i==="xAxis"?d[S]+=(C?-1:1)*V.height:m.hide||(d[S]+=(C?-1:1)*V.width),$r($r({},h),{},yh({},g,V))},{})},e$=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Qce=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return e$({x:r,y:n},{x:i,y:a})},t$=function(){function t(e){Gce(this,t),this.scale=e}return Yce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();yh(t$,"EPS",1e-4);var ob=function(e){var r=Object.keys(e).reduce(function(n,i){return $r($r({},n),{},yh({},i,t$.create(e[i])))},{});return $r($r({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return gce(i,function(c,l){return r[l].apply(c,{bandAware:o,position:s})})},isInRange:function(i){return Yk(i,function(a,o){return r[o].isInRange(a)})}})};function Jce(t){return(t%180+180)%180}var Zce=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Jce(i),o=a*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ele=hn,tle=wl,rle=th;function nle(t){return function(e,r,n){var i=Object(e);if(!tle(e)){var a=ele(r);e=rle(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var ile=nle,ale=Hk;function ole(t){var e=ale(t),r=e%1;return e===e?r?e-r:e:0}var sle=ole,cle=KT,lle=hn,ule=sle,dle=Math.max;function fle(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:ule(r);return i<0&&(i=dle(n+i,0)),cle(t,lle(e),i)}var hle=fle,ple=ile,mle=hle,vle=ple(mle),gle=vle;const yle=ke(gle);var ble=qz(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),sb=x.createContext(void 0),cb=x.createContext(void 0),r$=x.createContext(void 0),n$=x.createContext({}),i$=x.createContext(void 0),a$=x.createContext(0),o$=x.createContext(0),SS=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,c=e.width,l=e.height,u=ble(a);return P.createElement(sb.Provider,{value:n},P.createElement(cb.Provider,{value:i},P.createElement(n$.Provider,{value:a},P.createElement(r$.Provider,{value:u},P.createElement(i$.Provider,{value:o},P.createElement(a$.Provider,{value:l},P.createElement(o$.Provider,{value:c},s)))))))},wle=function(){return x.useContext(i$)},s$=function(e){var r=x.useContext(sb);r==null&&Pa();var n=r[e];return n==null&&Pa(),n},xle=function(){var e=x.useContext(sb);return ei(e)},_le=function(){var e=x.useContext(cb),r=yle(e,function(n){return Yk(n.domain,Number.isFinite)});return r||ei(e)},c$=function(e){var r=x.useContext(cb);r==null&&Pa();var n=r[e];return n==null&&Pa(),n},Sle=function(){var e=x.useContext(r$);return e},Ole=function(){return x.useContext(n$)},lb=function(){return x.useContext(o$)},ub=function(){return x.useContext(a$)};function rs(t){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(t)}function Ale(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ele(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u$(n.key),n)}}function Ple(t,e,r){return e&&Ele(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jle(t,e,r){return e=Fd(e),Tle(t,l$()?Reflect.construct(e,r||[],Fd(t).constructor):e.apply(t,r))}function Tle(t,e){if(e&&(rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cle(t)}function Cle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!t})()}function Fd(t){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(t)}function kle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iv(t,e)}function Iv(t,e){return Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iv(t,e)}function OS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(r),!0).forEach(function(n){db(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function db(t,e,r){return e=u$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u$(t){var e=$le(t,"string");return rs(e)=="symbol"?e:e+""}function $le(t,e){if(rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nle(t,e){return Dle(t)||Mle(t,e)||Ile(t,e)||Rle()}function Rle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ile(t,e){if(t){if(typeof t=="string")return ES(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ES(t,e)}}function ES(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Dle(t){if(Array.isArray(t))return t}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mv.apply(this,arguments)}var Lle=function(e,r){var n;return P.isValidElement(e)?n=P.cloneElement(e,r):ce(e)?n=e(r):n=P.createElement("line",Mv({},r,{className:"recharts-reference-line-line"})),n},Ble=function(e,r,n,i,a,o,s,c,l){var u=a.x,d=a.y,f=a.width,h=a.height;if(n){var g=l.y,m=e.y.apply(g,{position:o});if(an(l,"discard")&&!e.y.isInRange(m))return null;var v=[{x:u+f,y:m},{x:u,y:m}];return c==="left"?v.reverse():v}if(r){var b=l.x,w=e.x.apply(b,{position:o});if(an(l,"discard")&&!e.x.isInRange(w))return null;var y=[{x:w,y:d+h},{x:w,y:d}];return s==="top"?y.reverse():y}if(i){var O=l.segment,_=O.map(function(S){return e.apply(S,{position:o})});return an(l,"discard")&&lce(_,function(S){return!e.isInRange(S)})?null:_}return null};function Fle(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,c=t.alwaysShow,l=wle(),u=s$(i),d=c$(a),f=Sle();if(!l||!f)return null;Mr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=ob({x:u.scale,y:d.scale}),g=pt(e),m=pt(r),v=n&&n.length===2,b=Ble(h,g,m,v,f,t.position,u.orientation,d.orientation,t);if(!b)return null;var w=Nle(b,2),y=w[0],O=y.x,_=y.y,S=w[1],A=S.x,E=S.y,j=an(t,"hidden")?"url(#".concat(l,")"):void 0,T=AS(AS({clipPath:j},te(t,!0)),{},{x1:O,y1:_,x2:A,y2:E});return P.createElement(me,{className:pe("recharts-reference-line",s)},Lle(o,T),yt.renderCallByParent(t,Qce({x1:O,y1:_,x2:A,y2:E})))}var fb=function(t){function e(){return Ale(this,e),jle(this,e,arguments)}return kle(e,t),Ple(e,[{key:"render",value:function(){return P.createElement(Fle,this.props)}}])}(P.Component);db(fb,"displayName","ReferenceLine");db(fb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dv.apply(this,arguments)}function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}function PS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(r),!0).forEach(function(n){bh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ule(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f$(n.key),n)}}function zle(t,e,r){return e&&Wle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qle(t,e,r){return e=Ud(e),Hle(t,d$()?Reflect.construct(e,r||[],Ud(t).constructor):e.apply(t,r))}function Hle(t,e){if(e&&(ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kle(t)}function Kle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!t})()}function Ud(t){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(t)}function Vle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lv(t,e)}function Lv(t,e){return Lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lv(t,e)}function bh(t,e,r){return e=f$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f$(t){var e=Gle(t,"string");return ns(e)=="symbol"?e:e+""}function Gle(t,e){if(ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yle=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=ob({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return an(e,"discard")&&!o.isInRange(s)?null:s},wh=function(t){function e(){return Ule(this,e),qle(this,e,arguments)}return Vle(e,t),zle(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,c=n.clipPathId,l=pt(i),u=pt(a);if(Mr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!u)return null;var d=Yle(this.props);if(!d)return null;var f=d.x,h=d.y,g=this.props,m=g.shape,v=g.className,b=an(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=jS(jS({clipPath:b},te(this.props,!0)),{},{cx:f,cy:h});return P.createElement(me,{className:pe("recharts-reference-dot",v)},e.renderDot(m,w),yt.renderCallByParent(this.props,{x:f-o,y:h-o,width:2*o,height:2*o}))}}])}(P.Component);bh(wh,"displayName","ReferenceDot");bh(wh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});bh(wh,"renderDot",function(t,e){var r;return P.isValidElement(t)?r=P.cloneElement(t,e):ce(t)?r=t(e):r=P.createElement(Ds,Dv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bv.apply(this,arguments)}function is(t){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(t)}function TS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(r),!0).forEach(function(n){xh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p$(n.key),n)}}function Jle(t,e,r){return e&&Qle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zle(t,e,r){return e=Wd(e),eue(t,h$()?Reflect.construct(e,r||[],Wd(t).constructor):e.apply(t,r))}function eue(t,e){if(e&&(is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tue(t)}function tue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!t})()}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(t)}function rue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fv(t,e)}function Fv(t,e){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fv(t,e)}function xh(t,e,r){return e=p$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p$(t){var e=nue(t,"string");return is(e)=="symbol"?e:e+""}function nue(t,e){if(is(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iue=function(e,r,n,i,a){var o=a.x1,s=a.x2,c=a.y1,l=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var f=ob({x:u.scale,y:d.scale}),h={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},g={x:r?f.x.apply(s,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(l,{position:"end"}):f.y.rangeMax};return an(a,"discard")&&(!f.isInRange(h)||!f.isInRange(g))?null:e$(h,g)},_h=function(t){function e(){return Xle(this,e),Zle(this,e,arguments)}return rue(e,t),Jle(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,c=n.className,l=n.alwaysShow,u=n.clipPathId;Mr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=pt(i),f=pt(a),h=pt(o),g=pt(s),m=this.props.shape;if(!d&&!f&&!h&&!g&&!m)return null;var v=iue(d,f,h,g,this.props);if(!v&&!m)return null;var b=an(this.props,"hidden")?"url(#".concat(u,")"):void 0;return P.createElement(me,{className:pe("recharts-reference-area",c)},e.renderRect(m,CS(CS({clipPath:b},te(this.props,!0)),v)),yt.renderCallByParent(this.props,v))}}])}(P.Component);xh(_h,"displayName","ReferenceArea");xh(_h,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xh(_h,"renderRect",function(t,e){var r;return P.isValidElement(t)?r=P.cloneElement(t,e):ce(t)?r=t(e):r=P.createElement(ib,Bv({},e,{className:"recharts-reference-area-rect"})),r});function m$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function aue(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Zce(n,r)}function oue(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function zd(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function sue(t,e){return m$(t,e+1)}function cue(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,c=0,l=1,u=o,d=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:m$(n,l)};var m=c,v,b=function(){return v===void 0&&(v=r(g,m)),v},w=g.coordinate,y=c===0||zd(t,w,b,u,s);y||(c=0,u=o,l+=1),y&&(u=w+t*(b()/2+i),c+=l)},f;l<=a.length;)if(f=d(),f)return f.v;return[]}function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function kS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kS(Object(r),!0).forEach(function(n){lue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lue(t,e,r){return e=uue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uue(t){var e=due(t,"string");return al(e)=="symbol"?e:e+""}function due(t,e){if(al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fue(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,c=e.end,l=function(f){var h=a[f],g,m=function(){return g===void 0&&(g=r(h,f)),g};if(f===o-1){var v=t*(h.coordinate+t*m()/2-c);a[f]=h=Ot(Ot({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else a[f]=h=Ot(Ot({},h),{},{tickCoord:h.coordinate});var b=zd(t,h.tickCoord,m,s,c);b&&(c=h.tickCoord-t*(m()/2+i),a[f]=Ot(Ot({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)l(u);return a}function hue(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,c=e.start,l=e.end;if(a){var u=n[s-1],d=r(u,s-1),f=t*(u.coordinate+t*d/2-l);o[s-1]=u=Ot(Ot({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var h=zd(t,u.tickCoord,function(){return d},c,l);h&&(l=u.tickCoord-t*(d/2+i),o[s-1]=Ot(Ot({},u),{},{isShow:!0}))}for(var g=a?s-1:s,m=function(w){var y=o[w],O,_=function(){return O===void 0&&(O=r(y,w)),O};if(w===0){var S=t*(y.coordinate-t*_()/2-c);o[w]=y=Ot(Ot({},y),{},{tickCoord:S<0?y.coordinate-S*t:y.coordinate})}else o[w]=y=Ot(Ot({},y),{},{tickCoord:y.coordinate});var A=zd(t,y.tickCoord,_,c,l);A&&(c=y.tickCoord+t*(_()/2+i),o[w]=Ot(Ot({},y),{},{isShow:!0}))},v=0;v<g;v++)m(v);return o}function hb(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,c=t.interval,l=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if(Y(c)||Zt.isSsr)return sue(i,typeof c=="number"&&Y(c)?c:0);var f=[],h=s==="top"||s==="bottom"?"width":"height",g=u&&h==="width"?ic(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(y,O){var _=ce(l)?l(y.value,O):y.value;return h==="width"?aue(ic(_,{fontSize:e,letterSpacing:r}),g,d):ic(_,{fontSize:e,letterSpacing:r})[h]},v=i.length>=2?kt(i[1].coordinate-i[0].coordinate):1,b=oue(a,v,h);return c==="equidistantPreserveStart"?cue(v,b,m,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=hue(v,b,m,i,o,c==="preserveStartEnd"):f=fue(v,b,m,i,o),f.filter(function(w){return w.isShow}))}var pue=["viewBox"],mue=["viewBox"],vue=["ticks"];function as(t){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(t)}function ao(){return ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ao.apply(this,arguments)}function $S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function st(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(r),!0).forEach(function(n){pb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Op(t,e){if(t==null)return{};var r=gue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g$(n.key),n)}}function bue(t,e,r){return e&&NS(t.prototype,e),r&&NS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wue(t,e,r){return e=qd(e),xue(t,v$()?Reflect.construct(e,r||[],qd(t).constructor):e.apply(t,r))}function xue(t,e){if(e&&(as(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ue(t)}function _ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qd(t)}function Sue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uv(t,e)}function Uv(t,e){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uv(t,e)}function pb(t,e,r){return e=g$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g$(t){var e=Oue(t,"string");return as(e)=="symbol"?e:e+""}function Oue(t,e){if(as(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(as(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ls=function(t){function e(r){var n;return yue(this,e),n=wue(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Sue(e,t),bue(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Op(n,pue),s=this.props,c=s.viewBox,l=Op(s,mue);return!mo(a,c)||!mo(o,l)||!mo(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,c=i.height,l=i.orientation,u=i.tickSize,d=i.mirror,f=i.tickMargin,h,g,m,v,b,w,y=d?-1:1,O=n.tickSize||u,_=Y(n.tickCoord)?n.tickCoord:n.coordinate;switch(l){case"top":h=g=n.coordinate,v=o+ +!d*c,m=v-y*O,w=m-y*f,b=_;break;case"left":m=v=n.coordinate,g=a+ +!d*s,h=g-y*O,b=h-y*f,w=_;break;case"right":m=v=n.coordinate,g=a+ +d*s,h=g+y*O,b=h+y*f,w=_;break;default:h=g=n.coordinate,v=o+ +d*c,m=v+y*O,w=m+y*f,b=_;break}return{line:{x1:h,y1:m,x2:g,y2:v},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.orientation,l=n.mirror,u=n.axisLine,d=st(st(st({},te(this.props,!1)),te(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!l||c==="bottom"&&l);d=st(st({},d),{},{x1:i,y1:a+f*s,x2:i+o,y2:a+f*s})}else{var h=+(c==="left"&&!l||c==="right"&&l);d=st(st({},d),{},{x1:i+h*o,y1:a,x2:i+h*o,y2:a+s})}return P.createElement("line",ao({},d,{className:pe("recharts-cartesian-axis-line",Jt(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,c=s.tickLine,l=s.stroke,u=s.tick,d=s.tickFormatter,f=s.unit,h=hb(st(st({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=te(this.props,!1),b=te(u,!1),w=st(st({},v),{},{fill:"none"},te(c,!1)),y=h.map(function(O,_){var S=o.getTickLineCoord(O),A=S.line,E=S.tick,j=st(st(st(st({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:l},b),E),{},{index:_,payload:O,visibleTicksCount:h.length,tickFormatter:d});return P.createElement(me,ao({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Si(o.props,O,_)),c&&P.createElement("line",ao({},w,A,{className:pe("recharts-cartesian-axis-tick-line",Jt(c,"className"))})),u&&e.renderTickItem(u,j,"".concat(ce(d)?d(O.value,_):O.value).concat(f||"")))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,c=i.ticksGenerator,l=i.className,u=i.hide;if(u)return null;var d=this.props,f=d.ticks,h=Op(d,vue),g=f;return ce(c)&&(g=f&&f.length>0?c(this.props):c(h)),o<=0||s<=0||!g||!g.length?null:P.createElement(me,{className:pe("recharts-cartesian-axis",l),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),yt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=pe(i.className,"recharts-cartesian-axis-tick-value");return P.isValidElement(n)?o=P.cloneElement(n,st(st({},i),{},{className:s})):ce(n)?o=n(st(st({},i),{},{className:s})):o=P.createElement(Aa,ao({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(x.Component);pb(Ls,"displayName","CartesianAxis");pb(Ls,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Aue=["x1","y1","x2","y2","key"],Eue=["offset"];function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}function RS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(r),!0).forEach(function(n){Pue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pue(t,e,r){return e=jue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jue(t){var e=Tue(t,"string");return Ca(e)=="symbol"?e:e+""}function Tue(t,e){if(Ca(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ia(){return ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ia.apply(this,arguments)}function IS(t,e){if(t==null)return{};var r=Cue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kue=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,c=e.ry;return P.createElement("rect",{x:i,y:a,ry:c,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function y$(t,e){var r;if(P.isValidElement(t))r=P.cloneElement(t,e);else if(ce(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,c=IS(e,Aue),l=te(c,!1);l.offset;var u=IS(l,Eue);r=P.createElement("line",ia({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function $ue(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var l=Et(Et({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(c),index:c});return y$(i,l)});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Nue(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var l=Et(Et({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(c),index:c});return y$(i,l)});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Rue(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,c=t.horizontal,l=c===void 0?!0:c;if(!l||!e||!e.length)return null;var u=s.map(function(f){return Math.round(f+i-i)}).sort(function(f,h){return f-h});i!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var g=!u[h+1],m=g?i+o-f:u[h+1]-f;if(m<=0)return null;var v=h%e.length;return P.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:m,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Iue(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,c=t.height,l=t.verticalPoints;if(!r||!n||!n.length)return null;var u=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,h){return f-h});a!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var g=!u[h+1],m=g?a+s-f:u[h+1]-f;if(m<=0)return null;var v=h%n.length;return P.createElement("rect",{key:"react-".concat(h),x:f,y:o,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Mue=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return dk(hb(Et(Et(Et({},Ls.defaultProps),n),{},{ticks:Sn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Due=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return dk(hb(Et(Et(Et({},Ls.defaultProps),n),{},{ticks:Sn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Ya={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rc(t){var e,r,n,i,a,o,s=lb(),c=ub(),l=Ole(),u=Et(Et({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ya.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ya.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ya.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ya.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ya.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Ya.verticalFill,x:Y(t.x)?t.x:l.left,y:Y(t.y)?t.y:l.top,width:Y(t.width)?t.width:l.width,height:Y(t.height)?t.height:l.height}),d=u.x,f=u.y,h=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,b=u.verticalValues,w=xle(),y=_le();if(!Y(h)||h<=0||!Y(g)||g<=0||!Y(d)||d!==+d||!Y(f)||f!==+f)return null;var O=u.verticalCoordinatesGenerator||Mue,_=u.horizontalCoordinatesGenerator||Due,S=u.horizontalPoints,A=u.verticalPoints;if((!S||!S.length)&&ce(_)){var E=v&&v.length,j=_({yAxis:y?Et(Et({},y),{},{ticks:E?v:y.ticks}):void 0,width:s,height:c,offset:l},E?!0:m);Mr(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ca(j),"]")),Array.isArray(j)&&(S=j)}if((!A||!A.length)&&ce(O)){var T=b&&b.length,C=O({xAxis:w?Et(Et({},w),{},{ticks:T?b:w.ticks}):void 0,width:s,height:c,offset:l},T?!0:m);Mr(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ca(C),"]")),Array.isArray(C)&&(A=C)}return P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(kue,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),P.createElement($ue,ia({},u,{offset:l,horizontalPoints:S,xAxis:w,yAxis:y})),P.createElement(Nue,ia({},u,{offset:l,verticalPoints:A,xAxis:w,yAxis:y})),P.createElement(Rue,ia({},u,{horizontalPoints:S})),P.createElement(Iue,ia({},u,{verticalPoints:A})))}rc.displayName="CartesianGrid";var Lue=["type","layout","connectNulls","ref"],Bue=["key"];function os(t){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(t)}function MS(t,e){if(t==null)return{};var r=Fue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uc.apply(this,arguments)}function DS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(r),!0).forEach(function(n){Nr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xa(t){return que(t)||zue(t)||Wue(t)||Uue()}function Uue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wue(t,e){if(t){if(typeof t=="string")return Wv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wv(t,e)}}function zue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function que(t){if(Array.isArray(t))return Wv(t)}function Wv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w$(n.key),n)}}function Kue(t,e,r){return e&&LS(t.prototype,e),r&&LS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vue(t,e,r){return e=Hd(e),Gue(t,b$()?Reflect.construct(e,r||[],Hd(t).constructor):e.apply(t,r))}function Gue(t,e){if(e&&(os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yue(t)}function Yue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!t})()}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(t)}function Xue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zv(t,e)}function zv(t,e){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zv(t,e)}function Nr(t,e,r){return e=w$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w$(t){var e=Que(t,"string");return os(e)=="symbol"?e:e+""}function Que(t,e){if(os(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ss=function(t){function e(){var r;Hue(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Vue(this,e,[].concat(i)),Nr(r,"state",{isAnimationFinished:!0,totalLength:0}),Nr(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Nr(r,"getStrokeDasharray",function(o,s,c){var l=c.reduce(function(b,w){return b+w});if(!l)return r.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/l),d=o%l,f=s-o,h=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>d){h=[].concat(Xa(c.slice(0,g)),[d-m]);break}var v=h.length%2===0?[0,f]:[f];return[].concat(Xa(e.repeat(c,u)),Xa(h),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Nr(r,"id",Ci("recharts-line-")),Nr(r,"pathRef",function(o){r.mainCurve=o}),Nr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Nr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Xue(e,t),Kue(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,c=a.yAxis,l=a.layout,u=a.children,d=Rt(u,Ms);if(!d)return null;var f=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:Le(m.payload,v)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return P.createElement(me,h,d.map(function(g){return P.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:s,yAxis:c,layout:l,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.dot,l=s.points,u=s.dataKey,d=te(this.props,!1),f=te(c,!0),h=l.map(function(m,v){var b=qt(qt(qt({key:"dot-".concat(v),r:3},d),f),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:l});return e.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return P.createElement(me,uc({className:"recharts-line-dots",key:"dots"},g),h)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,c=s.type,l=s.layout,u=s.connectNulls;s.ref;var d=MS(s,Lue),f=qt(qt(qt({},te(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:l,connectNulls:u});return P.createElement(bi,uc({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,c=o.strokeDasharray,l=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,f=o.animationEasing,h=o.animationId,g=o.animateNewValues,m=o.width,v=o.height,b=this.state,w=b.prevPoints,y=b.totalLength;return P.createElement(er,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var _=O.t;if(w){var S=w.length/s.length,A=s.map(function(k,L){var R=Math.floor(L*S);if(w[R]){var M=w[R],$=De(M.x,k.x),I=De(M.y,k.y);return qt(qt({},k),{},{x:$(_),y:I(_)})}if(g){var F=De(m*2,k.x),D=De(v/2,k.y);return qt(qt({},k),{},{x:F(_),y:D(_)})}return qt(qt({},k),{},{x:k.x,y:k.y})});return a.renderCurveStatically(A,n,i)}var E=De(0,y),j=E(_),T;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});T=a.getStrokeDasharray(j,y,C)}else T=a.generateSimpleStrokeDasharray(y,j);return a.renderCurveStatically(s,n,i,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,c=this.state,l=c.prevPoints,u=c.totalLength;return s&&o&&o.length&&(!l&&u>0||!Rn(l,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,c=i.className,l=i.xAxis,u=i.yAxis,d=i.top,f=i.left,h=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=s.length===1,y=pe("recharts-line",c),O=l&&l.allowDataOverflow,_=u&&u.allowDataOverflow,S=O||_,A=le(v)?this.id:v,E=(n=te(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},j=E.r,T=j===void 0?3:j,C=E.strokeWidth,k=C===void 0?2:C,L=nT(o)?o:{},R=L.clipDot,M=R===void 0?!0:R,$=T*2+k;return P.createElement(me,{className:y},O||_?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(A)},P.createElement("rect",{x:O?f:f-h/2,y:_?d:d-g/2,width:O?h:h*2,height:_?g:g*2})),!M&&P.createElement("clipPath",{id:"clipPath-dots-".concat(A)},P.createElement("rect",{x:f-$/2,y:d-$/2,width:h+$,height:g+$}))):null,!w&&this.renderCurve(S,A),this.renderErrorBar(S,A),(w||o)&&this.renderDots(S,M,A),(!m||b)&&hr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Xa(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(Xa(o),Xa(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(P.isValidElement(n))a=P.cloneElement(n,i);else if(ce(n))a=n(i);else{var o=i.key,s=MS(i,Bue),c=pe("recharts-line-dot",typeof n!="boolean"?n.className:"");a=P.createElement(Ds,uc({key:o},s,{className:c}))}return a}}])}(x.PureComponent);Nr(ss,"displayName","Line");Nr(ss,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Zt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Nr(ss,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,c=t.displayedData,l=t.offset,u=e.layout,d=c.map(function(f,h){var g=Le(f,o);return u==="horizontal"?{x:Vo({axis:r,ticks:i,bandSize:s,entry:f,index:h}),y:le(g)?null:n.scale(g),value:g,payload:f}:{x:le(g)?null:r.scale(g),y:Vo({axis:n,ticks:a,bandSize:s,entry:f,index:h}),value:g,payload:f}});return qt({points:d,layout:u},l)});var Jue=["layout","type","stroke","connectNulls","isRange","ref"],Zue=["key"],x$;function cs(t){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(t)}function _$(t,e){if(t==null)return{};var r=ede(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ede(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aa.apply(this,arguments)}function BS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BS(Object(r),!0).forEach(function(n){tn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O$(n.key),n)}}function rde(t,e,r){return e&&FS(t.prototype,e),r&&FS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nde(t,e,r){return e=Kd(e),ide(t,S$()?Reflect.construct(e,r||[],Kd(t).constructor):e.apply(t,r))}function ide(t,e){if(e&&(cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ade(t)}function ade(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!t})()}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kd(t)}function ode(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qv(t,e)}function qv(t,e){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qv(t,e)}function tn(t,e,r){return e=O$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O$(t){var e=sde(t,"string");return cs(e)=="symbol"?e:e+""}function sde(t,e){if(cs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Br=function(t){function e(){var r;tde(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=nde(this,e,[].concat(i)),tn(r,"state",{isAnimationFinished:!0}),tn(r,"id",Ci("recharts-area-")),tn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ce(o)&&o()}),tn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ce(o)&&o()}),r}return ode(e,t),rde(e,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var c=this.props,l=c.dot,u=c.points,d=c.dataKey,f=te(this.props,!1),h=te(l,!0),g=u.map(function(v,b){var w=Gn(Gn(Gn({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:u});return e.renderDotItem(l,w)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return P.createElement(me,aa({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,c=o[0].x,l=o[o.length-1].x,u=n*Math.abs(c-l),d=di(o.map(function(f){return f.y||0}));return Y(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(di(a.map(function(f){return f.y||0})),d)),Y(d)?P.createElement("rect",{x:c<l?c:c-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,c=o[0].y,l=o[o.length-1].y,u=n*Math.abs(c-l),d=di(o.map(function(f){return f.x||0}));return Y(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(di(a.map(function(f){return f.x||0})),d)),Y(d)?P.createElement("rect",{x:0,y:c<l?c:c-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,c=s.layout,l=s.type,u=s.stroke,d=s.connectNulls,f=s.isRange;s.ref;var h=_$(s,Jue);return P.createElement(me,{clipPath:a?"url(#clipPath-".concat(o,")"):null},P.createElement(bi,aa({},te(h,!0),{points:n,connectNulls:d,type:l,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&P.createElement(bi,aa({},te(this.props,!1),{className:"recharts-area-curve",layout:c,type:l,connectNulls:d,fill:"none",points:n})),u!=="none"&&f&&P.createElement(bi,aa({},te(this.props,!1),{className:"recharts-area-curve",layout:c,type:l,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,c=o.baseLine,l=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,f=o.animationEasing,h=o.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return P.createElement(er,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(m){var y=m.length/s.length,O=s.map(function(E,j){var T=Math.floor(j*y);if(m[T]){var C=m[T],k=De(C.x,E.x),L=De(C.y,E.y);return Gn(Gn({},E),{},{x:k(w),y:L(w)})}return E}),_;if(Y(c)&&typeof c=="number"){var S=De(v,c);_=S(w)}else if(le(c)||js(c)){var A=De(v,0);_=A(w)}else _=c.map(function(E,j){var T=Math.floor(j*y);if(v[T]){var C=v[T],k=De(C.x,E.x),L=De(C.y,E.y);return Gn(Gn({},E),{},{x:k(w),y:L(w)})}return E});return a.renderAreaStatically(O,_,n,i)}return P.createElement(me,null,P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(w))),P.createElement(me,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,c=a.isAnimationActive,l=this.state,u=l.prevPoints,d=l.prevBaseLine,f=l.totalLength;return c&&o&&o.length&&(!u&&f>0||!Rn(u,o)||!Rn(d,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,c=i.className,l=i.top,u=i.left,d=i.xAxis,f=i.yAxis,h=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=s.length===1,y=pe("recharts-area",c),O=d&&d.allowDataOverflow,_=f&&f.allowDataOverflow,S=O||_,A=le(v)?this.id:v,E=(n=te(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},j=E.r,T=j===void 0?3:j,C=E.strokeWidth,k=C===void 0?2:C,L=nT(o)?o:{},R=L.clipDot,M=R===void 0?!0:R,$=T*2+k;return P.createElement(me,{className:y},O||_?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(A)},P.createElement("rect",{x:O?u:u-h/2,y:_?l:l-g/2,width:O?h:h*2,height:_?g:g*2})),!M&&P.createElement("clipPath",{id:"clipPath-dots-".concat(A)},P.createElement("rect",{x:u-$/2,y:l-$/2,width:h+$,height:g+$}))):null,w?null:this.renderArea(S,A),(o||w)&&this.renderDots(S,M,A),(!m||b)&&hr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);x$=Br;tn(Br,"displayName","Area");tn(Br,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Zt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});tn(Br,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(Y(s)&&typeof s=="number")return s;var c=i==="horizontal"?n:r,l=c.scale.domain();if(c.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return s==="dataMin"?d:s==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]});tn(Br,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,c=t.dataKey,l=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,h=e.layout,g=l&&l.length,m=x$.getBaseValue(e,r,n,i),v=h==="horizontal",b=!1,w=d.map(function(O,_){var S;g?S=l[u+_]:(S=Le(O,c),Array.isArray(S)?b=!0:S=[m,S]);var A=S[1]==null||g&&Le(O,c)==null;return v?{x:Vo({axis:n,ticks:a,bandSize:s,entry:O,index:_}),y:A?null:i.scale(S[1]),value:S,payload:O}:{x:A?null:n.scale(S[1]),y:Vo({axis:i,ticks:o,bandSize:s,entry:O,index:_}),value:S,payload:O}}),y;return g||b?y=w.map(function(O){var _=Array.isArray(O.value)?O.value[0]:null;return v?{x:O.x,y:_!=null&&O.y!=null?i.scale(_):null}:{x:_!=null?n.scale(_):null,y:O.y}}):y=v?i.scale(m):n.scale(m),Gn({points:w,baseLine:y,layout:h,isRange:b},f)});tn(Br,"renderDotItem",function(t,e){var r;if(P.isValidElement(t))r=P.cloneElement(t,e);else if(ce(t))r=t(e);else{var n=pe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=_$(e,Zue);r=P.createElement(Ds,aa({},a,{key:i,className:n}))}return r});function ls(t){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(t)}function cde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P$(n.key),n)}}function ude(t,e,r){return e&&lde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dde(t,e,r){return e=Vd(e),fde(t,A$()?Reflect.construct(e,r||[],Vd(t).constructor):e.apply(t,r))}function fde(t,e){if(e&&(ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hde(t)}function hde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A$=function(){return!!t})()}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(t)}function pde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hv(t,e)}function Hv(t,e){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hv(t,e)}function E$(t,e,r){return e=P$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P$(t){var e=mde(t,"string");return ls(e)=="symbol"?e:e+""}function mde(t,e){if(ls(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sh=function(t){function e(){return cde(this,e),dde(this,e,arguments)}return pde(e,t),ude(e,[{key:"render",value:function(){return null}}])}(x.Component);E$(Sh,"displayName","ZAxis");E$(Sh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var vde=["option","isActive"];function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dc.apply(this,arguments)}function gde(t,e){if(t==null)return{};var r=yde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bde(t){var e=t.option,r=t.isActive,n=gde(t,vde);return typeof e=="string"?x.createElement(kd,dc({option:x.createElement(eh,dc({type:e},n)),isActive:r,shapeType:"symbols"},n)):x.createElement(kd,dc({option:e,isActive:r,shapeType:"symbols"},n))}function us(t){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(t)}function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fc.apply(this,arguments)}function US(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?US(Object(r),!0).forEach(function(n){hi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T$(n.key),n)}}function xde(t,e,r){return e&&WS(t.prototype,e),r&&WS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _de(t,e,r){return e=Gd(e),Sde(t,j$()?Reflect.construct(e,r||[],Gd(t).constructor):e.apply(t,r))}function Sde(t,e){if(e&&(us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ode(t)}function Ode(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(t)}function Ade(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kv(t,e)}function Kv(t,e){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kv(t,e)}function hi(t,e,r){return e=T$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T$(t){var e=Ede(t,"string");return us(e)=="symbol"?e:e+""}function Ede(t,e){if(us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oh=function(t){function e(){var r;wde(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_de(this,e,[].concat(i)),hi(r,"state",{isAnimationFinished:!1}),hi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),hi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),hi(r,"id",Ci("recharts-scatter-")),r}return Ade(e,t),xde(e,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.activeShape,c=a.activeIndex,l=te(this.props,!1);return n.map(function(u,d){var f=c===d,h=f?s:o,g=ar(ar({},l),u);return P.createElement(me,fc({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(d)},Si(i.props,u,d),{role:"img"}),P.createElement(bde,fc({option:h,isActive:f,key:"symbol-".concat(d)},g)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,c=i.animationDuration,l=i.animationEasing,u=i.animationId,d=this.state.prevPoints;return P.createElement(er,{begin:s,duration:c,isActive:o,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var h=f.t,g=a.map(function(m,v){var b=d&&d[v];if(b){var w=De(b.cx,m.cx),y=De(b.cy,m.cy),O=De(b.size,m.size);return ar(ar({},m),{},{cx:w(h),cy:y(h),size:O(h)})}var _=De(0,m.size);return ar(ar({},m),{},{size:_(h)})});return P.createElement(me,null,n.renderSymbolsStatically(g))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!Rn(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,s=i.yAxis,c=i.children,l=Rt(c,Ms);return l?l.map(function(u,d){var f=u.props,h=f.direction,g=f.dataKey;return P.cloneElement(u,{key:"".concat(h,"-").concat(g,"-").concat(a[d]),data:a,xAxis:o,yAxis:s,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(v,b){return{x:v.cx,y:v.cy,value:h==="x"?+v.node.x:+v.node.y,errorVal:Le(v,b)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,o=n.lineType,s=n.lineJointType,c=te(this.props,!1),l=te(a,!1),u,d;if(o==="joint")u=i.map(function(y){return{x:y.cx,y:y.cy}});else if(o==="fitting"){var f=z8(i),h=f.xmin,g=f.xmax,m=f.a,v=f.b,b=function(O){return m*O+v};u=[{x:h,y:b(h)},{x:g,y:b(g)}]}var w=ar(ar(ar({},c),{},{fill:"none",stroke:c&&c.fill},l),{},{points:u});return P.isValidElement(a)?d=P.cloneElement(a,w):ce(a)?d=a(w):d=P.createElement(bi,fc({},w,{type:s})),P.createElement(me,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,o=n.line,s=n.className,c=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,g=n.id,m=n.isAnimationActive;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=pe("recharts-scatter",s),w=c&&c.allowDataOverflow,y=l&&l.allowDataOverflow,O=w||y,_=le(g)?this.id:g;return P.createElement(me,{className:b,clipPath:O?"url(#clipPath-".concat(_,")"):null},w||y?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(_)},P.createElement("rect",{x:w?u:u-f/2,y:y?d:d-h/2,width:w?f:f*2,height:y?h:h*2}))):null,o&&this.renderLine(),this.renderErrorBar(),P.createElement(me,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||v)&&hr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])}(x.PureComponent);hi(Oh,"displayName","Scatter");hi(Oh,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Zt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});hi(Oh,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,n=t.zAxis,i=t.item,a=t.displayedData,o=t.xAxisTicks,s=t.yAxisTicks,c=t.offset,l=i.props.tooltipType,u=Rt(i.props.children,$s),d=le(e.dataKey)?i.props.dataKey:e.dataKey,f=le(r.dataKey)?i.props.dataKey:r.dataKey,h=n&&n.dataKey,g=n?n.range:Sh.defaultProps.range,m=g&&g[0],v=e.scale.bandwidth?e.scale.bandwidth():0,b=r.scale.bandwidth?r.scale.bandwidth():0,w=a.map(function(y,O){var _=Le(y,d),S=Le(y,f),A=!le(h)&&Le(y,h)||"-",E=[{name:le(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:_,payload:y,dataKey:d,type:l},{name:le(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:y,dataKey:f,type:l}];A!=="-"&&E.push({name:n.name||n.dataKey,unit:n.unit||"",value:A,payload:y,dataKey:h,type:l});var j=Vo({axis:e,ticks:o,bandSize:v,entry:y,index:O,dataKey:d}),T=Vo({axis:r,ticks:s,bandSize:b,entry:y,index:O,dataKey:f}),C=A!=="-"?n.scale(A):m,k=Math.sqrt(Math.max(C,0)/Math.PI);return ar(ar({},y),{},{cx:j,cy:T,x:j-k,y:T-k,xAxis:e,yAxis:r,zAxis:n,width:2*k,height:2*k,size:C,node:{x:_,y:S,z:A},tooltipPayload:E,tooltipPosition:{x:j,y:T},payload:y},u&&u[O]&&u[O].props)});return ar({points:w},c)});function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}function Pde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$$(n.key),n)}}function Tde(t,e,r){return e&&jde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cde(t,e,r){return e=Yd(e),kde(t,C$()?Reflect.construct(e,r||[],Yd(t).constructor):e.apply(t,r))}function kde(t,e){if(e&&(ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $de(t)}function $de(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C$=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(t)}function Nde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vv(t,e)}function Vv(t,e){return Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vv(t,e)}function k$(t,e,r){return e=$$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $$(t){var e=Rde(t,"string");return ds(e)=="symbol"?e:e+""}function Rde(t,e){if(ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gv.apply(this,arguments)}function Ide(t){var e=t.xAxisId,r=lb(),n=ub(),i=s$(e);return i==null?null:x.createElement(Ls,Gv({},i,{className:pe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Sn(o,!0)}}))}var Ir=function(t){function e(){return Pde(this,e),Cde(this,e,arguments)}return Nde(e,t),Tde(e,[{key:"render",value:function(){return x.createElement(Ide,this.props)}}])}(x.Component);k$(Ir,"displayName","XAxis");k$(Ir,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function fs(t){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(t)}function Mde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I$(n.key),n)}}function Lde(t,e,r){return e&&Dde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bde(t,e,r){return e=Xd(e),Fde(t,N$()?Reflect.construct(e,r||[],Xd(t).constructor):e.apply(t,r))}function Fde(t,e){if(e&&(fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ude(t)}function Ude(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(t)}function Wde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yv(t,e)}function R$(t,e,r){return e=I$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I$(t){var e=zde(t,"string");return fs(e)=="symbol"?e:e+""}function zde(t,e){if(fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xv.apply(this,arguments)}var qde=function(e){var r=e.yAxisId,n=lb(),i=ub(),a=c$(r);return a==null?null:x.createElement(Ls,Xv({},a,{className:pe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Sn(s,!0)}}))},ur=function(t){function e(){return Mde(this,e),Bde(this,e,arguments)}return Wde(e,t),Lde(e,[{key:"render",value:function(){return x.createElement(qde,this.props)}}])}(x.Component);R$(ur,"displayName","YAxis");R$(ur,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function zS(t){return Gde(t)||Vde(t)||Kde(t)||Hde()}function Hde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kde(t,e){if(t){if(typeof t=="string")return Qv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qv(t,e)}}function Vde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gde(t){if(Array.isArray(t))return Qv(t)}function Qv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Jv=function(e,r,n,i,a){var o=Rt(e,fb),s=Rt(e,wh),c=[].concat(zS(o),zS(s)),l=Rt(e,_h),u="".concat(i,"Id"),d=i[0],f=r;if(c.length&&(f=c.reduce(function(m,v){if(v.props[u]===n&&an(v.props,"extendDomain")&&Y(v.props[d])){var b=v.props[d];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},f)),l.length){var h="".concat(d,"1"),g="".concat(d,"2");f=l.reduce(function(m,v){if(v.props[u]===n&&an(v.props,"extendDomain")&&Y(v.props[h])&&Y(v.props[g])){var b=v.props[h],w=v.props[g];return[Math.min(m[0],b,w),Math.max(m[1],b,w)]}return m},f)}return a&&a.length&&(f=a.reduce(function(m,v){return Y(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},f)),f},M$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||c,f),g=r?r+l:l;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=r?r+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,g=new Array(h);f<h;f++)g[f]=d[f].fn;return g},s.prototype.listenerCount=function(l){var u=r?r+l:l,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,u,d,f,h,g){var m=r?r+l:l;if(!this._events[m])return!1;var v=this._events[m],b=arguments.length,w,y;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,h),!0;case 6:return v.fn.call(v.context,u,d,f,h,g),!0}for(y=1,w=new Array(b-1);y<b;y++)w[y-1]=arguments[y];v.fn.apply(v.context,w)}else{var O=v.length,_;for(y=0;y<O;y++)switch(v[y].once&&this.removeListener(l,v[y].fn,void 0,!0),b){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,u);break;case 3:v[y].fn.call(v[y].context,u,d);break;case 4:v[y].fn.call(v[y].context,u,d,f);break;default:if(!w)for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];v[y].fn.apply(v[y].context,w)}}return!0},s.prototype.on=function(l,u,d){return a(this,l,u,d,!1)},s.prototype.once=function(l,u,d){return a(this,l,u,d,!0)},s.prototype.removeListener=function(l,u,d,f){var h=r?r+l:l;if(!this._events[h])return this;if(!u)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===u&&(!f||g.once)&&(!d||g.context===d)&&o(this,h);else{for(var m=0,v=[],b=g.length;m<b;m++)(g[m].fn!==u||f&&!g[m].once||d&&g[m].context!==d)&&v.push(g[m]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(M$);var Yde=M$.exports;const Xde=ke(Yde);var Ap=new Xde,Ep="recharts.syncMouseEvents";function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function Qde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D$(n.key),n)}}function Zde(t,e,r){return e&&Jde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pp(t,e,r){return e=D$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D$(t){var e=efe(t,"string");return ol(e)=="symbol"?e:e+""}function efe(t,e){if(ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tfe=function(){function t(){Qde(this,t),Pp(this,"activeIndex",0),Pp(this,"coordinateList",[]),Pp(this,"layout","horizontal")}return Zde(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,c=r.layout,l=c===void 0?null:c,u=r.offset,d=u===void 0?null:u,f=r.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=l??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,c=this.coordinateList[this.activeIndex].coordinate,l=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+c+l,f=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function rfe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Y(n)&&Y(i))return!0}return!1}function nfe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function L$(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Pe(e,r,n,i),s=Pe(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function ife(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,c=e.cy,l=e.innerRadius,u=e.outerRadius,d=e.angle,f=Pe(s,c,l,d),h=Pe(s,c,u,d);n=f.x,i=f.y,a=h.x,o=h.y}else return L$(e);return[{x:n,y:i},{x:a,y:o}]}function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function qS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function su(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(r),!0).forEach(function(n){afe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function afe(t,e,r){return e=ofe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ofe(t){var e=sfe(t,"string");return sl(e)=="symbol"?e:e+""}function sfe(t,e){if(sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cfe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,c=t.offset,l=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!o||f!=="ScatterChart"&&i!=="axis")return null;var g,m=bi;if(f==="ScatterChart")g=o,m=Eae;else if(f==="BarChart")g=nfe(d,o,c,u),m=ib;else if(d==="radial"){var v=L$(o),b=v.cx,w=v.cy,y=v.radius,O=v.startAngle,_=v.endAngle;g={cx:b,cy:w,startAngle:O,endAngle:_,innerRadius:y,outerRadius:y},m=Ok}else g={points:ife(d,o,c)},m=bi;var S=su(su(su(su({stroke:"#ccc",pointerEvents:"none"},c),g),te(h,!1)),{},{payload:s,payloadIndex:l,className:pe("recharts-tooltip-cursor",h.className)});return x.isValidElement(h)?x.cloneElement(h,S):x.createElement(m,S)}var lfe=["item"],ufe=["children","className","width","height","style","compact","title","desc"];function hs(t){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hs(t)}function oo(){return oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oo.apply(this,arguments)}function HS(t,e){return hfe(t)||ffe(t,e)||F$(t,e)||dfe()}function dfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ffe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function hfe(t){if(Array.isArray(t))return t}function KS(t,e){if(t==null)return{};var r=pfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U$(n.key),n)}}function gfe(t,e,r){return e&&vfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yfe(t,e,r){return e=Qd(e),bfe(t,B$()?Reflect.construct(e,r||[],Qd(t).constructor):e.apply(t,r))}function bfe(t,e){if(e&&(hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wfe(t)}function wfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B$=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(t)}function xfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zv(t,e)}function Zv(t,e){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zv(t,e)}function ps(t){return Ofe(t)||Sfe(t)||F$(t)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F$(t,e){if(t){if(typeof t=="string")return eg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eg(t,e)}}function Sfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ofe(t){if(Array.isArray(t))return eg(t)}function eg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VS(Object(r),!0).forEach(function(n){de(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function de(t,e,r){return e=U$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U$(t){var e=Afe(t,"string");return hs(e)=="symbol"?e:e+""}function Afe(t,e){if(hs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Efe={xAxis:["bottom","top"],yAxis:["left","right"]},Pfe={width:"100%",height:"100%"},W$={x:0,y:0};function cu(t){return t}var jfe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Tfe=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return z(z(z({},i),Pe(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var c=a.coordinate,l=i.angle;return z(z(z({},i),Pe(i.cx,i.cy,c,l)),{},{angle:l,radius:c})}return W$},Ah=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,c){var l=c.props.data;return l&&l.length?[].concat(ps(s),ps(l)):s},[]);return o.length>0?o:e&&e.length&&Y(i)&&Y(a)?e.slice(i,a+1):[]};function z$(t){return t==="number"?[0,"auto"]:void 0}var tg=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Ah(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(c,l){var u,d=(u=l.props.data)!==null&&u!==void 0?u:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var h=d===void 0?s:d;f=Hu(h,o.dataKey,i)}else f=d&&d[n]||s[n];return f?[].concat(ps(c),[vk(l,f)]):c},[])},GS=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=jfe(a,n),s=e.orderedTooltipTicks,c=e.tooltipAxis,l=e.tooltipTicks,u=Zte(o,s,l,c);if(u>=0&&l){var d=l[u]&&l[u].value,f=tg(e,r,u,d),h=Tfe(n,s,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:h}}return null},Cfe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,l=r.dataEndIndex,u=e.layout,d=e.children,f=e.stackOffset,h=uk(u,a);return n.reduce(function(g,m){var v,b=m.type.defaultProps!==void 0?z(z({},m.type.defaultProps),m.props):m.props,w=b.type,y=b.dataKey,O=b.allowDataOverflow,_=b.allowDuplicatedCategory,S=b.scale,A=b.ticks,E=b.includeHidden,j=b[o];if(g[j])return g;var T=Ah(e.data,{graphicalItems:i.filter(function(q){var V,ee=o in q.props?q.props[o]:(V=q.type.defaultProps)===null||V===void 0?void 0:V[o];return ee===j}),dataStartIndex:c,dataEndIndex:l}),C=T.length,k,L,R;rfe(b.domain,O,w)&&(k=dv(b.domain,null,O),h&&(w==="number"||S!=="auto")&&(R=oc(T,y,"category")));var M=z$(w);if(!k||k.length===0){var $,I=($=b.domain)!==null&&$!==void 0?$:M;if(y){if(k=oc(T,y,w),w==="category"&&h){var F=W8(k);_&&F?(L=k,k=Id(0,C)):_||(k=l_(I,k,m).reduce(function(q,V){return q.indexOf(V)>=0?q:[].concat(ps(q),[V])},[]))}else if(w==="category")_?k=k.filter(function(q){return q!==""&&!le(q)}):k=l_(I,k,m).reduce(function(q,V){return q.indexOf(V)>=0||V===""||le(V)?q:[].concat(ps(q),[V])},[]);else if(w==="number"){var D=ire(T,i.filter(function(q){var V,ee,ie=o in q.props?q.props[o]:(V=q.type.defaultProps)===null||V===void 0?void 0:V[o],_e="hide"in q.props?q.props.hide:(ee=q.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ie===j&&(E||!_e)}),y,a,u);D&&(k=D)}h&&(w==="number"||S!=="auto")&&(R=oc(T,y,"category"))}else h?k=Id(0,C):s&&s[j]&&s[j].hasStack&&w==="number"?k=f==="expand"?[0,1]:mk(s[j].stackGroups,c,l):k=lk(T,i.filter(function(q){var V=o in q.props?q.props[o]:q.type.defaultProps[o],ee="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return V===j&&(E||!ee)}),w,u,!0);if(w==="number")k=Jv(d,k,j,a,A),I&&(k=dv(I,k,O));else if(w==="category"&&I){var K=I,X=k.every(function(q){return K.indexOf(q)>=0});X&&(k=K)}}return z(z({},g),{},de({},j,z(z({},b),{},{axisType:a,domain:k,categoricalDomain:R,duplicateDomain:L,originalDomain:(v=b.domain)!==null&&v!==void 0?v:M,isCategorical:h,layout:u})))},{})},kfe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,l=r.dataEndIndex,u=e.layout,d=e.children,f=Ah(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:l}),h=f.length,g=uk(u,a),m=-1;return n.reduce(function(v,b){var w=b.type.defaultProps!==void 0?z(z({},b.type.defaultProps),b.props):b.props,y=w[o],O=z$("number");if(!v[y]){m++;var _;return g?_=Id(0,h):s&&s[y]&&s[y].hasStack?(_=mk(s[y].stackGroups,c,l),_=Jv(d,_,y,a)):(_=dv(O,lk(f,n.filter(function(S){var A,E,j=o in S.props?S.props[o]:(A=S.type.defaultProps)===null||A===void 0?void 0:A[o],T="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return j===y&&!T}),"number",u),i.defaultProps.allowDataOverflow),_=Jv(d,_,y,a)),z(z({},v),{},de({},y,z(z({axisType:a},i.defaultProps),{},{hide:!0,orientation:Jt(Efe,"".concat(a,".").concat(m%2),null),domain:_,originalDomain:O,isCategorical:g,layout:u})))}return v},{})},$fe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,c=r.dataStartIndex,l=r.dataEndIndex,u=e.children,d="".concat(i,"Id"),f=Rt(u,a),h={};return f&&f.length?h=Cfe(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:l}):o&&o.length&&(h=kfe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:l})),h},Nfe=function(e){var r=ei(e),n=Sn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ky(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:bd(r,n)}},YS=function(e){var r=e.children,n=e.defaultShowTooltip,i=Vt(r,es),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Rfe=function(e){return!e||!e.length?!1:e.some(function(r){var n=An(r&&r.type);return n&&n.indexOf("Bar")>=0})},XS=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ife=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,c=s===void 0?{}:s,l=n.width,u=n.height,d=n.children,f=n.margin||{},h=Vt(d,es),g=Vt(d,gi),m=Object.keys(c).reduce(function(_,S){var A=c[S],E=A.orientation;return!A.mirror&&!A.hide?z(z({},_),{},de({},E,_[E]+A.width)):_},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(_,S){var A=o[S],E=A.orientation;return!A.mirror&&!A.hide?z(z({},_),{},de({},E,Jt(_,"".concat(E))+A.height)):_},{top:f.top||0,bottom:f.bottom||0}),b=z(z({},v),m),w=b.bottom;h&&(b.bottom+=h.props.height||es.defaultProps.height),g&&r&&(b=rre(b,i,n,r));var y=l-b.left-b.right,O=u-b.top-b.bottom;return z(z({brushBottom:w},b),{},{width:Math.max(y,0),height:Math.max(O,0)})},Mfe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Al=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=e.axisComponents,l=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(b,w){var y=w.graphicalItems,O=w.stackGroups,_=w.offset,S=w.updateId,A=w.dataStartIndex,E=w.dataEndIndex,j=b.barSize,T=b.layout,C=b.barGap,k=b.barCategoryGap,L=b.maxBarSize,R=XS(T),M=R.numericAxisName,$=R.cateAxisName,I=Rfe(y),F=[];return y.forEach(function(D,K){var X=Ah(b.data,{graphicalItems:[D],dataStartIndex:A,dataEndIndex:E}),q=D.type.defaultProps!==void 0?z(z({},D.type.defaultProps),D.props):D.props,V=q.dataKey,ee=q.maxBarSize,ie=q["".concat(M,"Id")],_e=q["".concat($,"Id")],Q={},B=c.reduce(function(zt,zr){var br=w["".concat(zr.axisType,"Map")],El=q["".concat(zr.axisType,"Id")];br&&br[El]||zr.axisType==="zAxis"||Pa();var Pl=br[El];return z(z({},zt),{},de(de({},zr.axisType,Pl),"".concat(zr.axisType,"Ticks"),Sn(Pl)))},Q),U=B[$],H=B["".concat($,"Ticks")],G=O&&O[ie]&&O[ie].hasStack&&hre(D,O[ie].stackGroups),W=An(D.type).indexOf("Bar")>=0,ve=bd(U,H),he=[],je=I&&ere({barSize:j,stackGroups:O,totalSize:Mfe(B,$)});if(W){var Ae,Ee,tt=le(ee)?L:ee,Je=(Ae=(Ee=bd(U,H,!0))!==null&&Ee!==void 0?Ee:tt)!==null&&Ae!==void 0?Ae:0;he=tre({barGap:C,barCategoryGap:k,bandSize:Je!==ve?Je:ve,sizeList:je[_e],maxBarSize:tt}),Je!==ve&&(he=he.map(function(zt){return z(z({},zt),{},{position:z(z({},zt.position),{},{offset:zt.position.offset-Je/2})})}))}var Wr=D&&D.type&&D.type.getComposedData;Wr&&F.push({props:z(z({},Wr(z(z({},B),{},{displayedData:X,props:b,dataKey:V,item:D,bandSize:ve,barPosition:he,offset:_,stackedData:G,layout:T,dataStartIndex:A,dataEndIndex:E}))),{},de(de(de({key:D.key||"item-".concat(K)},M,B[M]),$,B[$]),"animationId",S)),childIndex:tq(D,b.children),item:D})}),F},h=function(b,w){var y=b.props,O=b.dataStartIndex,_=b.dataEndIndex,S=b.updateId;if(!nw({props:y}))return null;var A=y.children,E=y.layout,j=y.stackOffset,T=y.data,C=y.reverseStackOrder,k=XS(E),L=k.numericAxisName,R=k.cateAxisName,M=Rt(A,n),$=dre(T,M,"".concat(L,"Id"),"".concat(R,"Id"),j,C),I=c.reduce(function(q,V){var ee="".concat(V.axisType,"Map");return z(z({},q),{},de({},ee,$fe(y,z(z({},V),{},{graphicalItems:M,stackGroups:V.axisType===L&&$,dataStartIndex:O,dataEndIndex:_}))))},{}),F=Ife(z(z({},I),{},{props:y,graphicalItems:M}),w==null?void 0:w.legendBBox);Object.keys(I).forEach(function(q){I[q]=u(y,I[q],F,q.replace("Map",""),r)});var D=I["".concat(R,"Map")],K=Nfe(D),X=f(y,z(z({},I),{},{dataStartIndex:O,dataEndIndex:_,updateId:S,graphicalItems:M,stackGroups:$,offset:F}));return z(z({formattedGraphicalItems:X,graphicalItems:M,offset:F,stackGroups:$},K),I)},g=function(v){function b(w){var y,O,_;return mfe(this,b),_=yfe(this,b,[w]),de(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),de(_,"accessibilityManager",new tfe),de(_,"handleLegendBBoxUpdate",function(S){if(S){var A=_.state,E=A.dataStartIndex,j=A.dataEndIndex,T=A.updateId;_.setState(z({legendBBox:S},h({props:_.props,dataStartIndex:E,dataEndIndex:j,updateId:T},z(z({},_.state),{},{legendBBox:S}))))}}),de(_,"handleReceiveSyncEvent",function(S,A,E){if(_.props.syncId===S){if(E===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(A)}}),de(_,"handleBrushChange",function(S){var A=S.startIndex,E=S.endIndex;if(A!==_.state.dataStartIndex||E!==_.state.dataEndIndex){var j=_.state.updateId;_.setState(function(){return z({dataStartIndex:A,dataEndIndex:E},h({props:_.props,dataStartIndex:A,dataEndIndex:E,updateId:j},_.state))}),_.triggerSyncEvent({dataStartIndex:A,dataEndIndex:E})}}),de(_,"handleMouseEnter",function(S){var A=_.getMouseInfo(S);if(A){var E=z(z({},A),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var j=_.props.onMouseEnter;ce(j)&&j(E,S)}}),de(_,"triggeredAfterMouseMove",function(S){var A=_.getMouseInfo(S),E=A?z(z({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var j=_.props.onMouseMove;ce(j)&&j(E,S)}),de(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),de(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),de(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),de(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};_.setState(A),_.triggerSyncEvent(A);var E=_.props.onMouseLeave;ce(E)&&E(A,S)}),de(_,"handleOuterEvent",function(S){var A=eq(S),E=Jt(_.props,"".concat(A));if(A&&ce(E)){var j,T;/.*touch.*/i.test(A)?T=_.getMouseInfo(S.changedTouches[0]):T=_.getMouseInfo(S),E((j=T)!==null&&j!==void 0?j:{},S)}}),de(_,"handleClick",function(S){var A=_.getMouseInfo(S);if(A){var E=z(z({},A),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var j=_.props.onClick;ce(j)&&j(E,S)}}),de(_,"handleMouseDown",function(S){var A=_.props.onMouseDown;if(ce(A)){var E=_.getMouseInfo(S);A(E,S)}}),de(_,"handleMouseUp",function(S){var A=_.props.onMouseUp;if(ce(A)){var E=_.getMouseInfo(S);A(E,S)}}),de(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),de(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),de(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),de(_,"handleDoubleClick",function(S){var A=_.props.onDoubleClick;if(ce(A)){var E=_.getMouseInfo(S);A(E,S)}}),de(_,"handleContextMenu",function(S){var A=_.props.onContextMenu;if(ce(A)){var E=_.getMouseInfo(S);A(E,S)}}),de(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&Ap.emit(Ep,_.props.syncId,S,_.eventEmitterSymbol)}),de(_,"applySyncEvent",function(S){var A=_.props,E=A.layout,j=A.syncMethod,T=_.state.updateId,C=S.dataStartIndex,k=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(z({dataStartIndex:C,dataEndIndex:k},h({props:_.props,dataStartIndex:C,dataEndIndex:k,updateId:T},_.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,R=S.chartY,M=S.activeTooltipIndex,$=_.state,I=$.offset,F=$.tooltipTicks;if(!I)return;if(typeof j=="function")M=j(F,S);else if(j==="value"){M=-1;for(var D=0;D<F.length;D++)if(F[D].value===S.activeLabel){M=D;break}}var K=z(z({},I),{},{x:I.left,y:I.top}),X=Math.min(L,K.x+K.width),q=Math.min(R,K.y+K.height),V=F[M]&&F[M].value,ee=tg(_.state,_.props.data,M),ie=F[M]?{x:E==="horizontal"?F[M].coordinate:X,y:E==="horizontal"?q:F[M].coordinate}:W$;_.setState(z(z({},S),{},{activeLabel:V,activeCoordinate:ie,activePayload:ee,activeTooltipIndex:M}))}else _.setState(S)}),de(_,"renderCursor",function(S){var A,E=_.state,j=E.isTooltipActive,T=E.activeCoordinate,C=E.activePayload,k=E.offset,L=E.activeTooltipIndex,R=E.tooltipAxisBandSize,M=_.getTooltipEventType(),$=(A=S.props.active)!==null&&A!==void 0?A:j,I=_.props.layout,F=S.key||"_recharts-cursor";return P.createElement(cfe,{key:F,activeCoordinate:T,activePayload:C,activeTooltipIndex:L,chartName:r,element:S,isActive:$,layout:I,offset:k,tooltipAxisBandSize:R,tooltipEventType:M})}),de(_,"renderPolarAxis",function(S,A,E){var j=Jt(S,"type.axisType"),T=Jt(_.state,"".concat(j,"Map")),C=S.type.defaultProps,k=C!==void 0?z(z({},C),S.props):S.props,L=T&&T[k["".concat(j,"Id")]];return x.cloneElement(S,z(z({},L),{},{className:pe(j,L.className),key:S.key||"".concat(A,"-").concat(E),ticks:Sn(L,!0)}))}),de(_,"renderPolarGrid",function(S){var A=S.props,E=A.radialLines,j=A.polarAngles,T=A.polarRadius,C=_.state,k=C.radiusAxisMap,L=C.angleAxisMap,R=ei(k),M=ei(L),$=M.cx,I=M.cy,F=M.innerRadius,D=M.outerRadius;return x.cloneElement(S,{polarAngles:Array.isArray(j)?j:Sn(M,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(T)?T:Sn(R,!0).map(function(K){return K.coordinate}),cx:$,cy:I,innerRadius:F,outerRadius:D,key:S.key||"polar-grid",radialLines:E})}),de(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,A=_.props,E=A.children,j=A.width,T=A.height,C=_.props.margin||{},k=j-(C.left||0)-(C.right||0),L=sk({children:E,formattedGraphicalItems:S,legendWidth:k,legendContent:l});if(!L)return null;var R=L.item,M=KS(L,lfe);return x.cloneElement(R,z(z({},M),{},{chartWidth:j,chartHeight:T,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),de(_,"renderTooltip",function(){var S,A=_.props,E=A.children,j=A.accessibilityLayer,T=Vt(E,gt);if(!T)return null;var C=_.state,k=C.isTooltipActive,L=C.activeCoordinate,R=C.activePayload,M=C.activeLabel,$=C.offset,I=(S=T.props.active)!==null&&S!==void 0?S:k;return x.cloneElement(T,{viewBox:z(z({},$),{},{x:$.left,y:$.top}),active:I,label:M,payload:I?R:[],coordinate:L,accessibilityLayer:j})}),de(_,"renderBrush",function(S){var A=_.props,E=A.margin,j=A.data,T=_.state,C=T.offset,k=T.dataStartIndex,L=T.dataEndIndex,R=T.updateId;return x.cloneElement(S,{key:S.key||"_recharts-brush",onChange:nu(_.handleBrushChange,S.props.onChange),data:j,x:Y(S.props.x)?S.props.x:C.left,y:Y(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(E.bottom||0),width:Y(S.props.width)?S.props.width:C.width,startIndex:k,endIndex:L,updateId:"brush-".concat(R)})}),de(_,"renderReferenceElement",function(S,A,E){if(!S)return null;var j=_,T=j.clipPathId,C=_.state,k=C.xAxisMap,L=C.yAxisMap,R=C.offset,M=S.type.defaultProps||{},$=S.props,I=$.xAxisId,F=I===void 0?M.xAxisId:I,D=$.yAxisId,K=D===void 0?M.yAxisId:D;return x.cloneElement(S,{key:S.key||"".concat(A,"-").concat(E),xAxis:k[F],yAxis:L[K],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:T})}),de(_,"renderActivePoints",function(S){var A=S.item,E=S.activePoint,j=S.basePoint,T=S.childIndex,C=S.isRange,k=[],L=A.props.key,R=A.item.type.defaultProps!==void 0?z(z({},A.item.type.defaultProps),A.item.props):A.item.props,M=R.activeDot,$=R.dataKey,I=z(z({index:T,dataKey:$,cx:E.x,cy:E.y,r:4,fill:nb(A.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},te(M,!1)),Ku(M));return k.push(b.renderActiveDot(M,I,"".concat(L,"-activePoint-").concat(T))),j?k.push(b.renderActiveDot(M,z(z({},I),{},{cx:j.x,cy:j.y}),"".concat(L,"-basePoint-").concat(T))):C&&k.push(null),k}),de(_,"renderGraphicChild",function(S,A,E){var j=_.filterFormatItem(S,A,E);if(!j)return null;var T=_.getTooltipEventType(),C=_.state,k=C.isTooltipActive,L=C.tooltipAxis,R=C.activeTooltipIndex,M=C.activeLabel,$=_.props.children,I=Vt($,gt),F=j.props,D=F.points,K=F.isRange,X=F.baseLine,q=j.item.type.defaultProps!==void 0?z(z({},j.item.type.defaultProps),j.item.props):j.item.props,V=q.activeDot,ee=q.hide,ie=q.activeBar,_e=q.activeShape,Q=!!(!ee&&k&&I&&(V||ie||_e)),B={};T!=="axis"&&I&&I.props.trigger==="click"?B={onClick:nu(_.handleItemMouseEnter,S.props.onClick)}:T!=="axis"&&(B={onMouseLeave:nu(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:nu(_.handleItemMouseEnter,S.props.onMouseEnter)});var U=x.cloneElement(S,z(z({},j.props),B));function H(zr){return typeof L.dataKey=="function"?L.dataKey(zr.payload):null}if(Q)if(R>=0){var G,W;if(L.dataKey&&!L.allowDuplicatedCategory){var ve=typeof L.dataKey=="function"?H:"payload.".concat(L.dataKey.toString());G=Hu(D,ve,M),W=K&&X&&Hu(X,ve,M)}else G=D==null?void 0:D[R],W=K&&X&&X[R];if(_e||ie){var he=S.props.activeIndex!==void 0?S.props.activeIndex:R;return[x.cloneElement(S,z(z(z({},j.props),B),{},{activeIndex:he})),null,null]}if(!le(G))return[U].concat(ps(_.renderActivePoints({item:j,activePoint:G,basePoint:W,childIndex:R,isRange:K})))}else{var je,Ae=(je=_.getItemByXY(_.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:U},Ee=Ae.graphicalItem,tt=Ee.item,Je=tt===void 0?S:tt,Wr=Ee.childIndex,zt=z(z(z({},j.props),B),{},{activeIndex:Wr});return[x.cloneElement(Je,zt),null,null]}return K?[U,null,null]:[U,null]}),de(_,"renderCustomized",function(S,A,E){return x.cloneElement(S,z(z({key:"recharts-customized-".concat(E)},_.props),_.state))}),de(_,"renderMap",{CartesianGrid:{handler:cu,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:cu},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:cu},YAxis:{handler:cu},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((y=w.id)!==null&&y!==void 0?y:Ci("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=oC(_.triggeredAfterMouseMove,(O=w.throttleDelay)!==null&&O!==void 0?O:1e3/60),_.state={},_}return xfe(b,v),gfe(b,[{key:"componentDidMount",value:function(){var y,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,O=y.children,_=y.data,S=y.height,A=y.layout,E=Vt(O,gt);if(E){var j=E.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,C=tg(this.state,_,j,T),k=this.state.tooltipTicks[j].coordinate,L=(this.state.offset.top+S)/2,R=A==="horizontal",M=R?{x:k,y:L}:{y:k,x:L},$=this.state.formattedGraphicalItems.find(function(F){var D=F.item;return D.type.name==="Scatter"});$&&(M=z(z({},M),$.props.points[j].tooltipPosition),C=$.props.points[j].tooltipPayload);var I={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:T,activePayload:C,activeCoordinate:M};this.setState(I),this.renderCursor(E),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){Em([Vt(y.children,gt)],[Vt(this.props.children,gt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Vt(this.props.children,gt);if(y&&typeof y.props.shared=="boolean"){var O=y.props.shared?"axis":"item";return s.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var O=this.container,_=O.getBoundingClientRect(),S=PQ(_),A={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},E=_.width/O.offsetWidth||1,j=this.inRange(A.chartX,A.chartY,E);if(!j)return null;var T=this.state,C=T.xAxisMap,k=T.yAxisMap,L=this.getTooltipEventType(),R=GS(this.state,this.props.data,this.props.layout,j);if(L!=="axis"&&C&&k){var M=ei(C).scale,$=ei(k).scale,I=M&&M.invert?M.invert(A.chartX):null,F=$&&$.invert?$.invert(A.chartY):null;return z(z({},A),{},{xValue:I,yValue:F},R)}return R?z(z({},A),R):null}},{key:"inRange",value:function(y,O){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,A=y/_,E=O/_;if(S==="horizontal"||S==="vertical"){var j=this.state.offset,T=A>=j.left&&A<=j.left+j.width&&E>=j.top&&E<=j.top+j.height;return T?{x:A,y:E}:null}var C=this.state,k=C.angleAxisMap,L=C.radiusAxisMap;if(k&&L){var R=ei(k);return f_({x:A,y:E},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,O=this.getTooltipEventType(),_=Vt(y,gt),S={};_&&O==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Ku(this.props,this.handleOuterEvent);return z(z({},A),S)}},{key:"addListener",value:function(){Ap.on(Ep,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ap.removeListener(Ep,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,O,_){for(var S=this.state.formattedGraphicalItems,A=0,E=S.length;A<E;A++){var j=S[A];if(j.item===y||j.props.key===y.key||O===An(j.item.type)&&_===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,O=this.state.offset,_=O.left,S=O.top,A=O.height,E=O.width;return P.createElement("defs",null,P.createElement("clipPath",{id:y},P.createElement("rect",{x:_,y:S,height:A,width:E})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(O,_){var S=HS(_,2),A=S[0],E=S[1];return z(z({},O),{},de({},A,E.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(O,_){var S=HS(_,2),A=S[0],E=S[1];return z(z({},O),{},de({},A,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[y])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(y){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[y])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(y){var O=this.state,_=O.formattedGraphicalItems,S=O.activeItem;if(_&&_.length)for(var A=0,E=_.length;A<E;A++){var j=_[A],T=j.props,C=j.item,k=C.type.defaultProps!==void 0?z(z({},C.type.defaultProps),C.props):C.props,L=An(C.type);if(L==="Bar"){var R=(T.data||[]).find(function(F){return sae(y,F)});if(R)return{graphicalItem:j,payload:R}}else if(L==="RadialBar"){var M=(T.data||[]).find(function(F){return f_(y,F)});if(M)return{graphicalItem:j,payload:M}}else if(vh(j,S)||gh(j,S)||tl(j,S)){var $=ase({graphicalItem:j,activeTooltipItem:S,itemData:k.data}),I=k.activeIndex===void 0?$:k.activeIndex;return{graphicalItem:z(z({},j),{},{childIndex:I}),payload:tl(j,S)?k.data[$]:j.props.data[$]}}}return null}},{key:"render",value:function(){var y=this;if(!nw(this))return null;var O=this.props,_=O.children,S=O.className,A=O.width,E=O.height,j=O.style,T=O.compact,C=O.title,k=O.desc,L=KS(O,ufe),R=te(L,!1);if(T)return P.createElement(SS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement(jm,oo({},R,{width:A,height:E,title:C,desc:k}),this.renderClipPath(),aw(_,this.renderMap)));if(this.props.accessibilityLayer){var M,$;R.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,R.role=($=this.props.role)!==null&&$!==void 0?$:"application",R.onKeyDown=function(F){y.accessibilityManager.keyboardEvent(F)},R.onFocus=function(){y.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return P.createElement(SS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement("div",oo({className:pe("recharts-wrapper",S),style:z({position:"relative",cursor:"default",width:A,height:E},j)},I,{ref:function(D){y.container=D}}),P.createElement(jm,oo({},R,{width:A,height:E,title:C,desc:k,style:Pfe}),this.renderClipPath(),aw(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);de(g,"displayName",r),de(g,"defaultProps",z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),de(g,"getDerivedStateFromProps",function(v,b){var w=v.dataKey,y=v.data,O=v.children,_=v.width,S=v.height,A=v.layout,E=v.stackOffset,j=v.margin,T=b.dataStartIndex,C=b.dataEndIndex;if(b.updateId===void 0){var k=YS(v);return z(z(z({},k),{},{updateId:0},h(z(z({props:v},k),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:y,prevWidth:_,prevHeight:S,prevLayout:A,prevStackOffset:E,prevMargin:j,prevChildren:O})}if(w!==b.prevDataKey||y!==b.prevData||_!==b.prevWidth||S!==b.prevHeight||A!==b.prevLayout||E!==b.prevStackOffset||!mo(j,b.prevMargin)){var L=YS(v),R={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},M=z(z({},GS(b,y,A)),{},{updateId:b.updateId+1}),$=z(z(z({},L),R),M);return z(z(z({},$),h(z({props:v},$),b)),{},{prevDataKey:w,prevData:y,prevWidth:_,prevHeight:S,prevLayout:A,prevStackOffset:E,prevMargin:j,prevChildren:O})}if(!Em(O,b.prevChildren)){var I,F,D,K,X=Vt(O,es),q=X&&(I=(F=X.props)===null||F===void 0?void 0:F.startIndex)!==null&&I!==void 0?I:T,V=X&&(D=(K=X.props)===null||K===void 0?void 0:K.endIndex)!==null&&D!==void 0?D:C,ee=q!==T||V!==C,ie=!le(y),_e=ie&&!ee?b.updateId:b.updateId+1;return z(z({updateId:_e},h(z(z({props:v},b),{},{updateId:_e,dataStartIndex:q,dataEndIndex:V}),b)),{},{prevChildren:O,dataStartIndex:q,dataEndIndex:V})}return null}),de(g,"renderActiveDot",function(v,b,w){var y;return x.isValidElement(v)?y=x.cloneElement(v,b):ce(v)?y=v(b):y=P.createElement(Ds,b),P.createElement(me,{className:"recharts-active-dot",key:w},y)});var m=x.forwardRef(function(b,w){return P.createElement(g,oo({},b,{ref:w}))});return m.displayName=g.displayName,m},q$=Al({chartName:"BarChart",GraphicalChild:fr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ir},{axisType:"yAxis",AxisComp:ur}],formatAxisMap:ab}),Dfe=Al({chartName:"PieChart",GraphicalChild:Un,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Oi},{axisType:"radiusAxis",AxisComp:ja}],formatAxisMap:bk,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),rg=Al({chartName:"RadarChart",GraphicalChild:Ta,axisComponents:[{axisType:"angleAxis",AxisComp:Oi},{axisType:"radiusAxis",AxisComp:ja}],formatAxisMap:bk,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),H$=Al({chartName:"AreaChart",GraphicalChild:Br,axisComponents:[{axisType:"xAxis",AxisComp:Ir},{axisType:"yAxis",AxisComp:ur}],formatAxisMap:ab}),QS=Al({chartName:"ComposedChart",GraphicalChild:[ss,Br,fr,Oh],axisComponents:[{axisType:"xAxis",AxisComp:Ir},{axisType:"yAxis",AxisComp:ur},{axisType:"zAxis",AxisComp:Sh}],formatAxisMap:ab});function Lfe({data:t}){return p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px]",children:[p.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Trend Recente"}),p.jsx(Hr,{width:"100%",height:"100%",children:p.jsxs(H$,{data:t,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"colorOverall",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),p.jsx(Ir,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},dy:10}),p.jsx(ur,{hide:!0}),p.jsx(gt,{contentStyle:{backgroundColor:"hsl(var(--card))",borderRadius:"12px",border:"1px solid hsl(var(--border))",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),p.jsx(Br,{type:"monotone",dataKey:"overall",stroke:"hsl(var(--primary))",strokeWidth:3,fillOpacity:1,fill:"url(#colorOverall)"})]})})]})}function Bfe({stats:t}){const e=t.map(r=>({subject:r.title,A:r.completionRate,fullMark:100}));return t.length<3?p.jsx("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px] flex items-center justify-center text-center",children:p.jsxs("p",{className:"text-muted-foreground text-sm",children:["Add at least 3 habits ",p.jsx("br",{})," to unlock Radar view."]})}):p.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px]",children:[p.jsx("h3",{className:"text-lg font-display font-semibold mb-2",children:"Focus Balance"}),p.jsx(Hr,{width:"100%",height:"85%",children:p.jsxs(rg,{cx:"50%",cy:"50%",outerRadius:"70%",data:e,children:[p.jsx(Ed,{stroke:"hsl(var(--border))"}),p.jsx(Oi,{dataKey:"subject",tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),p.jsx(Ta,{name:"Completion",dataKey:"A",stroke:"hsl(var(--primary))",strokeWidth:2,fill:"hsl(var(--primary))",fillOpacity:.4})]})})]})}function Ffe({data:t}){const e=Math.max(...t.map(n=>n.rate)),r=({active:n,payload:i,label:a})=>n&&i&&i.length?p.jsxs("div",{className:"bg-background/95 backdrop-blur text-xs p-2 rounded-lg border border-border shadow-xl",children:[p.jsx("p",{className:"font-semibold mb-1",children:a}),p.jsxs("p",{className:"text-primary space-x-2",children:[p.jsx("span",{children:"Success Rate:"}),p.jsxs("span",{className:"font-mono font-bold",children:[i[0].value,"%"]})]})]}):null;return p.jsx("div",{className:"w-full h-full min-h-[200px]",children:p.jsx(Hr,{width:"100%",height:"100%",children:p.jsxs(q$,{data:t,margin:{top:10,right:10,left:-20,bottom:0},children:[p.jsx(Ir,{dataKey:"dayName",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:10},tickFormatter:n=>n.slice(0,3).toUpperCase(),dy:10}),p.jsx(ur,{hide:!0,domain:[0,100]}),p.jsx(gt,{content:p.jsx(r,{}),cursor:{fill:"hsl(var(--muted)/0.2)"}}),p.jsx(fr,{dataKey:"rate",radius:[4,4,0,0],maxBarSize:40,children:t.map((n,i)=>p.jsx($s,{fill:n.rate===e&&n.rate>0?"hsl(var(--primary))":"hsl(var(--primary)/0.3)",className:"transition-all duration-300 hover:opacity-80"},`cell-${i}`))})]})})})}function Ufe({comparisons:t,goals:e}){const[r,n]=x.useState("month");return p.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[p.jsx(Np,{className:"w-5 h-5 text-primary"}),"Confronto Temporale"]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Analizza come stai andando rispetto al passato."})]}),p.jsx(Dj,{value:r,onValueChange:i=>n(i),className:"w-full sm:w-auto",children:p.jsxs(cy,{className:"grid w-full grid-cols-3 sm:w-[300px]",children:[p.jsx(ma,{value:"week",children:"Settimana"}),p.jsx(ma,{value:"month",children:"Mese"}),p.jsx(ma,{value:"year",children:"Anno"})]})})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.map(i=>{const a=t.find(l=>l.habitId===i.id);if(!a)return null;const o=a[r],s=o.trend==="neutral"||o.change===0,c=o.trend==="up";return p.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-xl p-4 flex items-center justify-between group hover:bg-card/80 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center opacity-80",style:{backgroundColor:`${i.color}20`,color:i.color},children:p.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:i.color}})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-foreground",children:i.title}),p.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:p.jsxs("span",{children:["Precedente: ",o.previous,"%"]})})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-xl font-display font-bold text-foreground",children:[o.current,"%"]}),p.jsxs("div",{className:J("flex items-center justify-end gap-1 text-xs font-medium",s?"text-muted-foreground":c?"text-emerald-500":"text-rose-500"),children:[s?p.jsx(WR,{className:"w-3 h-3"}):c?p.jsx(TR,{className:"w-3 h-3"}):p.jsx(PR,{className:"w-3 h-3"}),p.jsxs("span",{children:[o.change>0?"+":"",o.change,"%"]})]})]})]},i.id)})})]})}function Wfe({criticalHabits:t}){const e=t.filter(r=>r.completionRate<85&&r.completionRate>0).sort((r,n)=>r.completionRate-n.completionRate).slice(0,3);return e.length===0?null:p.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in space-y-4",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[p.jsx(Zi,{className:"w-5 h-5 text-primary"}),"Aree di Miglioramento"]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Abitudini che richiedono pi attenzione e i loro giorni critici."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(r=>p.jsxs("div",{className:"bg-card/50 border border-destructive/10 rounded-xl p-4 flex flex-col gap-3 group hover:border-destructive/30 transition-all",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),p.jsx("span",{className:"font-semibold text-foreground",children:r.title})]}),p.jsxs("span",{className:J("text-xs font-bold px-2 py-0.5 rounded-full",r.completionRate<50?"bg-destructive/10 text-destructive":"bg-warning/10 text-warning"),children:[r.completionRate,"% succ."]})]}),p.jsxs("div",{className:"flex items-start gap-3 bg-background/50 rounded-lg p-3",children:[p.jsx($R,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Giorno Nero"}),p.jsx("p",{className:"font-display font-semibold text-lg text-foreground",children:r.worstDay}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Solo il ",p.jsxs("span",{className:"text-destructive font-bold",children:[r.worstDayRate,"%"]})," di completamento"]})]})]})]},r.habitId))})]})}const zfe=()=>{const{goals:t,logs:e}=hE(),r=i4(t,e),{isPrivacyMode:n}=Ug(),i=r.habitStats.length>0?r.habitStats.reduce((a,o)=>a.completionRate>o.completionRate?a:o,r.habitStats[0]):null;return p.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl space-y-8 animate-fade-in pb-24",children:[p.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),p.jsxs("div",{className:J("space-y-2 transition-all duration-300",n&&"blur-sm"),children:[p.jsx("h1",{className:"text-3xl sm:text-4xl font-display font-bold text-foreground",children:"Le tue Statistiche"}),p.jsx("p",{className:"text-muted-foreground font-light text-lg",children:"Analisi dettagliata delle tue performance."})]}),p.jsx("div",{className:J("transition-all duration-300",n&&"blur-sm"),children:p.jsx(o4,{globalStats:{totalActiveDays:r.totalActiveDays,globalSuccessRate:r.globalSuccessRate,bestStreak:r.bestStreak,worstDay:r.worstDay},bestHabit:i||void 0})}),p.jsxs("div",{className:"glass-panel rounded-3xl p-6",children:[p.jsxs("h3",{className:"text-lg font-display font-semibold mb-6 flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Attivit Recente"]}),p.jsx(s4,{data:r.heatmapData})]}),p.jsx("div",{className:J("transition-all duration-300",n&&"blur-sm"),children:p.jsx(Ufe,{comparisons:r.comparisons,goals:t})}),p.jsx("div",{className:J("transition-all duration-300",n&&"blur-sm"),children:p.jsx(Wfe,{criticalHabits:r.criticalHabits})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"glass-panel rounded-3xl p-6 h-[400px] flex flex-col",children:[p.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Trend Settimanale"}),p.jsx("div",{className:"flex-1 w-full min-h-0",children:p.jsx(Lfe,{data:r.trendData})})]}),p.jsxs("div",{className:J("glass-panel rounded-3xl p-6 h-[400px] flex flex-col transition-all duration-300",n&&"blur-sm"),children:[p.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Focus Abitudini"}),p.jsx("div",{className:"flex-1 w-full min-h-0",children:p.jsx(Bfe,{stats:r.habitStats})})]})]}),p.jsxs("div",{className:"glass-panel rounded-3xl p-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Costanza Settimanale"]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Scopri in quali giorni sei pi produttivo."})]}),p.jsx("div",{className:"h-[250px] w-full",children:p.jsx(Ffe,{data:r.weekdayStats})})]}),p.jsxs("div",{className:J("glass-panel rounded-3xl p-6 transition-all duration-300",n&&"blur-sm"),children:[p.jsx("h3",{className:"text-lg font-display font-semibold mb-6",children:"Dettagli Abitudini"}),p.jsx("div",{className:"space-y-3",children:r.habitStats.length===0?p.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nessuna abitudine tracciata ancora."}):r.habitStats.map(a=>{const o=r.criticalHabits.find(s=>s.habitId===a.id);return p.jsxs("div",{className:"glass-card rounded-xl p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 group",children:[p.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[p.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-white/5 border border-white/10 text-xl group-hover:scale-110 transition-transform duration-300 shadow-lg shrink-0",style:{color:a.color,borderColor:`${a.color}40`,boxShadow:`0 0 20px ${a.color}10`},children:p.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:a.color}})}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("span",{className:"font-semibold text-foreground text-lg truncate block",children:a.title}),p.jsx("div",{className:"h-1 w-20 bg-secondary rounded-full mt-1 overflow-hidden",children:p.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${a.completionRate}%`,backgroundColor:a.color}})})]})]}),p.jsxs("div",{className:"flex gap-4 sm:gap-8 text-sm text-muted-foreground w-full sm:w-auto justify-between sm:justify-end",children:[o&&o.worstDay!=="N/A"&&p.jsxs("div",{className:"flex flex-col items-end hidden md:flex",children:[p.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 text-destructive",children:"Worst"}),p.jsx("span",{className:"font-medium text-foreground",children:o.worstDay})]}),p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsxs("span",{className:"text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[p.jsx(so,{className:"w-3 h-3 text-yellow-500"})," Best"]}),p.jsxs("span",{className:"font-mono text-xl font-bold text-foreground",children:[a.longestStreak," ",p.jsx("span",{className:"text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Serie"}),p.jsxs("span",{className:"font-mono text-xl font-bold text-foreground",children:[a.currentStreak," ",p.jsx("span",{className:"text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Rate"}),p.jsxs("span",{className:"font-mono text-xl font-bold text-foreground",children:[a.completionRate,p.jsx("span",{className:"text-sm",children:"%"})]})]})]})]},a.id)})})]})]})};var Eh="Checkbox",[qfe,Upe]=Ut(Eh),[Hfe,mb]=qfe(Eh);function Kfe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:s,onCheckedChange:c,required:l,value:u="on",internal_do_not_use_render:d}=t,[f,h]=jn({prop:r,defaultProp:i??!1,onChange:c,caller:Eh}),[g,m]=x.useState(null),[v,b]=x.useState(null),w=x.useRef(!1),y=g?!!o||!!g.closest("form"):!0,O={checked:f,disabled:a,setChecked:h,control:g,setControl:m,name:s,form:o,value:u,hasConsumerStoppedPropagationRef:w,required:l,defaultChecked:wi(i)?!1:i,isFormControl:y,bubbleInput:v,setBubbleInput:b};return p.jsx(Hfe,{scope:e,...O,children:Vfe(d)?d(O):n})}var K$="CheckboxTrigger",V$=x.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:a,value:o,disabled:s,checked:c,required:l,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:g}=mb(K$,t),m=ge(i,u),v=x.useRef(c);return x.useEffect(()=>{const b=a==null?void 0:a.form;if(b){const w=()=>d(v.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[a,d]),p.jsx(se.button,{type:"button",role:"checkbox","aria-checked":wi(c)?"mixed":c,"aria-required":l,"data-state":J$(c),"data-disabled":s?"":void 0,disabled:s,value:o,...n,ref:m,onKeyDown:oe(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:oe(r,b=>{d(w=>wi(w)?!0:!w),g&&h&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})})});V$.displayName=K$;var vb=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:c,onCheckedChange:l,form:u,...d}=t;return p.jsx(Kfe,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:s,required:o,onCheckedChange:l,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>p.jsxs(p.Fragment,{children:[p.jsx(V$,{...d,ref:e,__scopeCheckbox:r}),f&&p.jsx(Q$,{__scopeCheckbox:r})]})})});vb.displayName=Eh;var G$="CheckboxIndicator",Y$=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=mb(G$,r);return p.jsx(ln,{present:n||wi(a.checked)||a.checked===!0,children:p.jsx(se.span,{"data-state":J$(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Y$.displayName=G$;var X$="CheckboxBubbleInput",Q$=x.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:s,disabled:c,name:l,value:u,form:d,bubbleInput:f,setBubbleInput:h}=mb(X$,t),g=ge(r,h),m=Af(a),v=sf(n);x.useEffect(()=>{const w=f;if(!w)return;const y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"checked").set,S=!i.current;if(m!==a&&_){const A=new Event("click",{bubbles:S});w.indeterminate=wi(a),_.call(w,wi(a)?!1:a),w.dispatchEvent(A)}},[f,m,a,i]);const b=x.useRef(wi(a)?!1:a);return p.jsx(se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:s,disabled:c,name:l,value:u,form:d,...e,tabIndex:-1,ref:g,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Q$.displayName=X$;function Vfe(t){return typeof t=="function"}function wi(t){return t==="indeterminate"}function J$(t){return wi(t)?"indeterminate":t?"checked":"unchecked"}const Z$=x.forwardRef(({className:t,...e},r)=>p.jsx(vb,{ref:r,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(Y$,{className:J("flex items-center justify-center text-current"),children:p.jsx(rf,{className:"h-4 w-4"})})}));Z$.displayName=vb.displayName;const lt=x.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));lt.displayName="Card";const ut=x.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-6",t),...e}));ut.displayName="CardHeader";const dt=x.forwardRef(({className:t,...e},r)=>p.jsx("h3",{ref:r,className:J("text-2xl font-semibold leading-none tracking-tight",t),...e}));dt.displayName="CardTitle";const xu=x.forwardRef(({className:t,...e},r)=>p.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",t),...e}));xu.displayName="CardDescription";const ft=x.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:J("p-6 pt-0",t),...e}));ft.displayName="CardContent";const Gfe=x.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:J("flex items-center p-6 pt-0",t),...e}));Gfe.displayName="CardFooter";const ng={red:"Rosso",orange:"Arancione",yellow:"Giallo",blue:"Blu",purple:"Viola",pink:"Rosa",cyan:"Ciano"};function gb(){const t=bs(),{data:e,isLoading:r}=$o({queryKey:["goalCategorySettings"],queryFn:async()=>{const{data:{user:o}}=await be.auth.getUser();if(!o)return null;const{data:s,error:c}=await be.from("goal_category_settings").select("*").eq("user_id",o.id).single();return c&&c.code!=="PGRST116"&&console.error("Error fetching category settings:",c),s}}),n=wn({mutationFn:async o=>{const{data:{user:s}}=await be.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:c}=await be.from("goal_category_settings").select("id").eq("user_id",s.id).single();if(c){const{error:l}=await be.from("goal_category_settings").update({mappings:o}).eq("id",c.id);if(l)throw l}else{const{error:l}=await be.from("goal_category_settings").insert({user_id:s.id,mappings:o});if(l)throw l}},onSuccess:()=>{t.invalidateQueries({queryKey:["longTermGoals"]}),t.invalidateQueries({queryKey:["goalCategorySettings"]}),Ye.success("Categorie aggiornate con successo")},onError:()=>{Ye.error("Errore durante l'aggiornamento delle categorie")}}),i=x.useMemo(()=>({...ng,...e==null?void 0:e.mappings}),[e]),a=o=>{var c;return o?((c=e==null?void 0:e.mappings)==null?void 0:c[o])||ng[o]||o:"Generale"};return{settings:e,isLoading:r,updateSettings:n.mutate,getLabel:a,categoryLabels:i}}function Yfe({year:t}){const{getLabel:e}=gb(),{data:r,isLoading:n}=$o({queryKey:["longTermGoals","stats",t],queryFn:async()=>{let S=[],A=0;const E=1e3;let j=!0;for(;j;){let T=be.from("long_term_goals").select("*");t!=="all"&&(T=T.eq("year",typeof t=="string"?parseInt(t):t));const{data:C,error:k}=await T.range(A,A+E-1);if(k)throw k;C&&C.length>0?(S=[...S,...C],C.length<E?j=!1:A+=E):j=!1}return S}});if(n)return p.jsx("div",{className:"flex justify-center p-8",children:p.jsx(Za,{className:"w-8 h-8 animate-spin text-muted-foreground"})});if(!r||r.length===0)return p.jsxs("div",{className:"text-center p-12 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:["Nessun dato disponibile per ",t==="all"?"il periodo selezionato":`il ${t}`,". Aggiungi qualche obiettivo!"]});const i=r.length,a=r.filter(S=>S.is_completed).length,o=Math.round(a/i*100)||0,s=r.length>0?Math.min(...r.map(S=>S.year)):new Date().getFullYear(),c={annual:r.filter(S=>S.type==="annual").length,monthly:r.filter(S=>S.type==="monthly").length,weekly:r.filter(S=>S.type==="weekly").length},l=[{type:"Annuale",total:c.annual,completed:r.filter(S=>S.type==="annual"&&S.is_completed).length},{type:"Mensile",total:c.monthly,completed:r.filter(S=>S.type==="monthly"&&S.is_completed).length},{type:"Settimanale",total:c.weekly,completed:r.filter(S=>S.type==="weekly"&&S.is_completed).length}].map(S=>({...S,rate:S.total>0?Math.round(S.completed/S.total*100):0})).sort((S,A)=>A.rate-S.rate||A.completed-S.completed),u=l[0],d={};r.forEach(S=>{const A=S.color||"null";d[A]||(d[A]={total:0,completed:0}),d[A].total++,S.is_completed&&d[A].completed++});const f=Object.entries(d).map(([S,A])=>({subject:e(S==="null"?null:S),A:Math.round(A.completed/A.total*100),fullMark:100,total:A.total})).sort((S,A)=>A.A-S.A),h=f.length>0?f[0]:null,g={red:"#f43f5e",orange:"#f97316",yellow:"#fbbf24",green:"#10b981",blue:"#2563eb",purple:"#7c3aed",pink:"#d946ef",cyan:"#06b6d4",null:"#525252"},m=Object.entries(d).map(([S,A])=>({name:e(S==="null"?null:S),value:A.total,fill:g[S]||"#888888"})).sort((S,A)=>A.value-S.value);if(t==="all"){const S={};r.forEach(T=>{S[T.year]||(S[T.year]={total:0,completed:0,rate:0}),S[T.year].total++,T.is_completed&&S[T.year].completed++});const A=Object.entries(S).map(([T,C])=>({year:T,total:C.total,completed:C.completed,rate:Math.round(C.completed/C.total*100)||0})).sort((T,C)=>parseInt(T.year)-parseInt(C.year)),E=[...A].sort((T,C)=>C.rate-T.rate||C.completed-T.completed)[0],j=[...A].sort((T,C)=>C.completed-T.completed)[0];return p.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[p.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[p.jsxs(lt,{className:"bg-gradient-to-br from-indigo-500/10 to-blue-600/10 border-indigo-500/20 shadow-lg shadow-indigo-500/5",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-indigo-400",children:"Totale Storico"}),p.jsx(Zi,{className:"h-4 w-4 text-indigo-500"})]}),p.jsxs(ft,{children:[p.jsx("div",{className:"text-3xl font-bold text-white",children:i}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Obiettivi tracciati dal ",s]})]})]}),p.jsxs(lt,{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/20 shadow-lg shadow-emerald-500/5",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-emerald-400",children:"Successo Globale"}),p.jsx(so,{className:"h-4 w-4 text-emerald-500"})]}),p.jsxs(ft,{children:[p.jsxs("div",{className:"text-3xl font-bold text-white",children:[o,"%"]}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a," obiettivi completati"]})]})]}),p.jsxs(lt,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20 shadow-lg shadow-amber-500/5",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-amber-400",children:"Anno Migliore"}),p.jsx(D1,{className:"h-4 w-4 text-amber-500"})]}),p.jsxs(ft,{children:[p.jsx("div",{className:"text-3xl font-bold text-white",children:(E==null?void 0:E.year)||"N/A"}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[E==null?void 0:E.rate,"% completamento"]})]})]}),p.jsxs(lt,{className:"bg-gradient-to-br from-cyan-500/10 to-sky-500/10 border-cyan-500/20 shadow-lg shadow-cyan-500/5",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-cyan-400",children:"Anno Pi Produttivo"}),p.jsx(ER,{className:"h-4 w-4 text-cyan-500"})]}),p.jsxs(ft,{children:[p.jsx("div",{className:"text-3xl font-bold text-white",children:(j==null?void 0:j.year)||"N/A"}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[j==null?void 0:j.total," obiettivi totali"]})]})]})]}),p.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[p.jsxs(lt,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm p-2",children:[p.jsxs(ut,{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Np,{className:"w-5 h-5 text-blue-500"}),p.jsx(dt,{children:"Progressione Annuale"})]}),p.jsx(xu,{children:"Confronto anno per anno del volume di obiettivi e completamenti"})]}),p.jsx(ft,{className:"h-[400px]",children:p.jsx(Hr,{width:"100%",height:"100%",children:p.jsxs(QS,{data:A,margin:{top:20,right:20,bottom:20,left:20},children:[p.jsx(rc,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),p.jsx(Ir,{dataKey:"year",stroke:"#888888",fontSize:14,tickLine:!1,axisLine:!1}),p.jsx(ur,{yAxisId:"left",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(ur,{yAxisId:"right",orientation:"right",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),p.jsx(gt,{contentStyle:{backgroundColor:"#09090b",border:"1px solid #27272a",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},cursor:{fill:"#ffffff05"}}),p.jsx(gi,{wrapperStyle:{paddingTop:"20px"}}),p.jsx(fr,{yAxisId:"left",dataKey:"total",name:"Totale Obiettivi",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,fillOpacity:.8}),p.jsx(fr,{yAxisId:"left",dataKey:"completed",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:40,fillOpacity:.8}),p.jsx(ss,{yAxisId:"right",type:"monotone",dataKey:"rate",name:"Tasso Successo %",stroke:"#f59e0b",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6}})]})})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsx(ut,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Zi,{className:"w-5 h-5 text-cyan-500"}),p.jsx(dt,{children:"Performance per Categoria (Storico)"})]})}),p.jsx(ft,{className:"h-[350px]",children:p.jsx(Hr,{width:"100%",height:"100%",children:p.jsxs(rg,{cx:"50%",cy:"50%",outerRadius:"65%",data:f,children:[p.jsx(Ed,{stroke:"#ffffff20"}),p.jsx(Oi,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),p.jsx(ja,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),p.jsx(Ta,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),p.jsx(gt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:T=>[`${T}%`,"Successo"]})]})})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsx(ut,{children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Tb,{className:"w-5 h-5 text-purple-500"}),p.jsx(dt,{children:"Distribuzione Tipologie"})]})}),p.jsx(ft,{className:"h-[350px]",children:p.jsx(Hr,{width:"100%",height:"100%",children:p.jsxs(q$,{data:l,layout:"vertical",margin:{left:20},children:[p.jsx(rc,{strokeDasharray:"3 3",stroke:"#ffffff10",horizontal:!0,vertical:!1}),p.jsx(Ir,{type:"number",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(ur,{dataKey:"type",type:"category",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,width:80}),p.jsx(gt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),p.jsx(fr,{dataKey:"rate",name:"Successo %",fill:"#8b5cf6",radius:[0,4,4,0],barSize:30})]})})})]})]})]})}const b=typeof t=="string"?parseInt(t):t,w=Array.from({length:12},(S,A)=>({name:new Date(b,A).toLocaleString("it-IT",{month:"short"}),monthIndex:A+1,total:0,completed:0,rate:0,cumulativeTotal:0,cumulativeCompleted:0}));let y=0,O=0;r.forEach(S=>{let A=0;S.month&&(A=S.month-1),A<0&&(A=0),A>11&&(A=11),w[A].total++,S.is_completed&&w[A].completed++}),w.forEach(S=>{S.rate=S.total>0?Math.round(S.completed/S.total*100):0,y+=S.total,O+=S.completed,S.cumulativeTotal=y,S.cumulativeCompleted=O});const _=[...w].filter(S=>S.total>0).sort((S,A)=>A.rate-S.rate||A.completed-S.completed)[0];return p.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[p.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[p.jsxs(lt,{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 border-purple-500/20",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-purple-400",children:"Punto di Forza"}),p.jsx(YR,{className:"h-4 w-4 text-purple-500"})]}),p.jsxs(ft,{children:[p.jsx("div",{className:"text-2xl font-bold text-white",children:(h==null?void 0:h.subject)||"N/A"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:h?`${h.A}% di completamento`:"Nessun dato"})]})]}),p.jsxs(lt,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-amber-400",children:"Mese Migliore"}),p.jsx(so,{className:"h-4 w-4 text-amber-500"})]}),p.jsxs(ft,{children:[p.jsx("div",{className:"text-2xl font-bold text-white",children:(_==null?void 0:_.name)||"N/A"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:_?`${_.rate}% di successo (${_.completed}/${_.total})`:"Nessuna attivit"})]})]}),p.jsxs(lt,{className:"bg-gradient-to-br from-emerald-500/10 to-cyan-500/10 border-emerald-500/20",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-emerald-400",children:"Tipologia Efficace"}),p.jsx(Tb,{className:"h-4 w-4 text-emerald-500"})]}),p.jsxs(ft,{children:[p.jsx("div",{className:"text-2xl font-bold text-white capitalize",children:u.total>0?u.type:"N/A"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:u.total>0?`${u.rate}% di successo`:"Dati insufficienti"})]})]})]}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-muted-foreground",children:"Totale"}),p.jsx(Zi,{className:"h-4 w-4 text-primary"})]}),p.jsx(ft,{children:p.jsx("div",{className:"text-2xl font-bold text-white",children:i})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-muted-foreground",children:"Completati"}),p.jsx(NR,{className:"h-4 w-4 text-green-500"})]}),p.jsx(ft,{children:p.jsx("div",{className:"text-2xl font-bold text-white",children:a})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-muted-foreground",children:"Successo"}),p.jsx(so,{className:"h-4 w-4 text-yellow-500"})]}),p.jsx(ft,{children:p.jsxs("div",{className:"text-2xl font-bold text-white",children:[o,"%"]})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsxs(ut,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(dt,{className:"text-sm font-medium text-muted-foreground",children:"Trend"}),p.jsx(Np,{className:"h-4 w-4 text-blue-500"})]}),p.jsx(ft,{children:p.jsx("div",{className:"text-2xl font-bold text-white",children:O>0?"In Crescita":"Stabile"})})]})]}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[p.jsxs(lt,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsxs(ut,{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(zR,{className:"w-5 h-5 text-orange-500"}),p.jsx(dt,{children:"Velocit di Esecuzione (Cumulativa)"})]}),p.jsx(xu,{children:"Confronto tra obiettivi pianificati e completati nel tempo"})]}),p.jsx(ft,{className:"h-[350px]",children:p.jsx(Hr,{width:"100%",height:"100%",children:p.jsxs(H$,{data:w,children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),p.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),p.jsx(Ir,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(ur,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(rc,{strokeDasharray:"3 3",stroke:"#ffffff10"}),p.jsx(gt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),p.jsx(Br,{type:"monotone",dataKey:"cumulativeTotal",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorTotal)",name:"Obiettivi Totali"}),p.jsx(Br,{type:"monotone",dataKey:"cumulativeCompleted",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorCompleted)",name:"Obiettivi Completati"})]})})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsxs(ut,{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Zi,{className:"w-5 h-5 text-cyan-500"}),p.jsx(dt,{children:"Performance Categorie"})]}),p.jsx(xu,{children:"Tasso di successo per categoria"})]}),p.jsx(ft,{className:"h-[350px]",children:p.jsx(Hr,{width:"100%",height:"100%",children:p.jsxs(rg,{cx:"50%",cy:"50%",outerRadius:"65%",data:f,children:[p.jsx(Ed,{stroke:"#ffffff20"}),p.jsx(Oi,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),p.jsx(ja,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),p.jsx(Ta,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),p.jsx(gt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:S=>[`${S}%`,"Successo"]})]})})})]})]}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsx(ut,{children:p.jsx(dt,{children:"Attivit Mensile"})}),p.jsx(ft,{className:"h-[300px]",children:p.jsx(Hr,{width:"100%",height:"100%",children:p.jsxs(QS,{data:w,children:[p.jsx(Ir,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(ur,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(gt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),p.jsx(rc,{stroke:"#ffffff10"}),p.jsx(fr,{dataKey:"total",barSize:20,fill:"#413ea0",radius:[4,4,0,0],name:"Creati"}),p.jsx(ss,{type:"monotone",dataKey:"completed",stroke:"#ff7300",strokeWidth:2,name:"Completati"})]})})})]}),p.jsxs(lt,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[p.jsx(ut,{children:p.jsx(dt,{children:"Distribuzione Categorie"})}),p.jsx(ft,{className:"h-[300px]",children:p.jsx(Hr,{width:"100%",height:"100%",children:p.jsxs(Dfe,{children:[p.jsx(Un,{data:m,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:m.map((S,A)=>p.jsx($s,{fill:S.fill},`cell-${A}`))}),p.jsx(gt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),p.jsx(gi,{formatter:(S,A)=>p.jsx("span",{style:{color:"#ccc"},children:S})})]})})})]})]})]})}const Xfe={red:"bg-rose-500",orange:"bg-orange-500",yellow:"bg-amber-400",blue:"bg-blue-600",purple:"bg-violet-600",pink:"bg-fuchsia-500",cyan:"bg-cyan-500"};function Qfe(){const{categoryLabels:t,updateSettings:e}=gb(),[r,n]=x.useState(t),[i,a]=x.useState(!1);x.useEffect(()=>{i&&n(t)},[i]);const o=()=>{e(r),a(!1)},s=(c,l)=>{n(u=>({...u,[c]:l}))};return p.jsxs(ey,{open:i,onOpenChange:a,children:[p.jsx(VE,{asChild:!0,children:p.jsx(Ze,{variant:"outline",size:"icon",title:"Impostazioni Categorie",children:p.jsx(HR,{className:"w-4 h-4"})})}),p.jsxs(xf,{className:"sm:max-w-[425px]",children:[p.jsxs(_f,{children:[p.jsx(Sf,{children:"Personalizza Categorie"}),p.jsx(Of,{children:"Assegna un nome personalizzato ad ogni colore per organizzare meglio i tuoi obiettivi."})]}),p.jsx("div",{className:"grid gap-4 py-4",children:Object.entries(ng).map(([c,l])=>p.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[p.jsx("div",{className:"flex items-center gap-2 col-span-1",children:p.jsx("div",{className:J("w-4 h-4 rounded-full",Xfe[c])})}),p.jsx(Io,{id:c,value:r[c]||"",placeholder:l,onChange:u=>s(c,u.target.value),className:"col-span-3 h-9"})]},c))}),p.jsx(YE,{children:p.jsx(Ze,{type:"submit",onClick:o,children:"Salva Modifiche"})})]})]})}function Jfe(){const t=bs(),[e,r]=x.useState(!1),[n,i]=x.useState(!1);return{exportBackup:async(s={scope:"all"})=>{r(!0);try{const{data:{user:c}}=await be.auth.getUser();if(!c)throw new Error("Not authenticated");let l=be.from("long_term_goals").select("*").eq("user_id",c.id);s.scope==="year"&&s.year&&(l=l.eq("year",s.year));const{data:u,error:d}=await l;if(d)throw d;const{data:f,error:h}=await be.from("goal_category_settings").select("*").eq("user_id",c.id).single();if(h&&h.code!=="PGRST116")throw h;const g={version:1,timestamp:new Date().toISOString(),goals:u||[],settings:f||null},m=s.scope==="all"?`habit_tracker_FULL_backup_${new Date().toISOString().split("T")[0]}.json`:`habit_tracker_${s.year}_backup.json`,v=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),b=URL.createObjectURL(v),w=document.createElement("a");w.href=b,w.download=m,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(b),Ye.success("Backup scaricato con successo")}catch(c){console.error("Export failed:",c),Ye.error(`Errore durante l'export: ${c.message}`)}finally{r(!1)}},importBackup:async s=>(i(!0),new Promise(c=>{const l=new FileReader;l.onload=async u=>{var d;try{const f=(d=u.target)==null?void 0:d.result;if(!f){c(null);return}const h=JSON.parse(f);if(!h.version||!Array.isArray(h.goals))throw new Error("Formato file non valido (manca versione o goals)");const{data:{user:g}}=await be.auth.getUser();if(!g)throw new Error("Not authenticated");const{data:m,error:v}=await be.from("long_term_goals").select("*").eq("user_id",g.id);if(v)throw v;const b=new Map(m==null?void 0:m.map(E=>[E.id,E])),w=new Set,y=[],O=[];let _=0;const S=[];for(const E of h.goals){let j={...E,user_id:g.id},T=b.get(j.id);if(!T){const C=m==null?void 0:m.find(k=>!w.has(k.id)&&k.title===j.title&&k.type===j.type&&k.year===j.year);C&&(T=C,j.id=C.id)}T?(w.add(T.id),T.title!==j.title||T.is_completed!==j.is_completed||T.type!==j.type||T.year!==j.year||T.month!==j.month||T.week_number!==j.week_number||T.color!==j.color?(O.push(j),S.push(j)):_++):(y.push(j),S.push(j))}if(S.length>0){const{error:E}=await be.from("long_term_goals").upsert(S);if(E)throw E}let A=!1;if(h.settings){const{data:E}=await be.from("goal_category_settings").select("*").eq("user_id",g.id).single(),j={user_id:g.id,mappings:h.settings.mappings};(!E||JSON.stringify(E.mappings)!==JSON.stringify(j.mappings))&&(E?await be.from("goal_category_settings").update({mappings:j.mappings}).eq("id",E.id):await be.from("goal_category_settings").insert(j),A=!0)}await t.invalidateQueries({queryKey:["longTermGoals"]}),await t.invalidateQueries({queryKey:["goalCategorySettings"]}),c({totalProcessed:h.goals.length,restored:y,updated:O,unchanged:_,settingsUpdated:A})}catch(f){console.error("Import failed:",f),Ye.error(`Errore durante l'importazione: ${f.message}`),c(null)}finally{i(!1)}},l.readAsText(s)})),isExporting:e,isImporting:n}}var yb="Radio",[Zfe,eN]=Ut(yb),[ehe,the]=Zfe(yb),tN=x.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:s="on",onCheck:c,form:l,...u}=t,[d,f]=x.useState(null),h=ge(e,v=>f(v)),g=x.useRef(!1),m=d?l||!!d.closest("form"):!0;return p.jsxs(ehe,{scope:r,checked:i,disabled:o,children:[p.jsx(se.button,{type:"button",role:"radio","aria-checked":i,"data-state":aN(i),"data-disabled":o?"":void 0,disabled:o,value:s,...u,ref:h,onClick:oe(t.onClick,v=>{i||c==null||c(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&p.jsx(iN,{control:d,bubbles:!g.current,name:n,value:s,checked:i,required:a,disabled:o,form:l,style:{transform:"translateX(-100%)"}})]})});tN.displayName=yb;var rN="RadioIndicator",nN=x.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,a=the(rN,r);return p.jsx(ln,{present:n||a.checked,children:p.jsx(se.span,{"data-state":aN(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});nN.displayName=rN;var rhe="RadioBubbleInput",iN=x.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=x.useRef(null),s=ge(o,a),c=Af(r),l=sf(e);return x.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(g)}},[c,r,n]),p.jsx(se.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});iN.displayName=rhe;function aN(t){return t?"checked":"unchecked"}var nhe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ph="RadioGroup",[ihe,Wpe]=Ut(Ph,[$f,eN]),oN=$f(),sN=eN(),[ahe,ohe]=ihe(Ph),cN=x.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:s=!1,orientation:c,dir:l,loop:u=!0,onValueChange:d,...f}=t,h=oN(r),g=gl(l),[m,v]=jn({prop:a,defaultProp:i??null,onChange:d,caller:Ph});return p.jsx(ahe,{scope:r,name:n,required:o,disabled:s,value:m,onValueChange:v,children:p.jsx(_j,{asChild:!0,...h,orientation:c,dir:g,loop:u,children:p.jsx(se.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":s?"":void 0,dir:g,...f,ref:e})})})});cN.displayName=Ph;var lN="RadioGroupItem",uN=x.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,a=ohe(lN,r),o=a.disabled||n,s=oN(r),c=sN(r),l=x.useRef(null),u=ge(e,l),d=a.value===i.value,f=x.useRef(!1);return x.useEffect(()=>{const h=m=>{nhe.includes(m.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),p.jsx(Sj,{asChild:!0,...s,focusable:!o,active:d,children:p.jsx(tN,{disabled:o,required:a.required,checked:d,...c,...i,name:a.name,ref:u,onCheck:()=>a.onValueChange(i.value),onKeyDown:oe(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:oe(i.onFocus,()=>{var h;f.current&&((h=l.current)==null||h.click())})})})});uN.displayName=lN;var she="RadioGroupIndicator",dN=x.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=sN(r);return p.jsx(nN,{...i,...n,ref:e})});dN.displayName=she;var fN=cN,hN=uN,che=dN;const pN=x.forwardRef(({className:t,...e},r)=>p.jsx(fN,{className:J("grid gap-2",t),...e,ref:r}));pN.displayName=fN.displayName;const ig=x.forwardRef(({className:t,...e},r)=>p.jsx(hN,{ref:r,className:J("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(che,{className:"flex items-center justify-center",children:p.jsx(RR,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ig.displayName=hN.displayName;function lhe(){var Q;const[t,e]=x.useState(new Date().getFullYear().toString()),[r,n]=x.useState(AB(new Date)),[i,a]=x.useState(new Date().getMonth()+1),[o,s]=x.useState(jF(new Date,{weekStartsOn:1})),[c,l]=x.useState("weekly"),[u,d]=x.useState("all"),[f,h]=x.useState(null),[g,m]=x.useState(""),[v,b]=x.useState(null),w=bs(),{getLabel:y}=gb(),{isPrivacyMode:O}=Ug(),_=B=>{var H;return((H=[{value:null,class:"bg-card/20 border-white/5"},{value:"red",class:"bg-rose-500/15 border-rose-500/30 hover:bg-rose-500/25"},{value:"orange",class:"bg-orange-500/15 border-orange-500/30 hover:bg-orange-500/25"},{value:"yellow",class:"bg-amber-400/15 border-amber-400/30 hover:bg-amber-400/25"},{value:"blue",class:"bg-blue-600/15 border-blue-600/30 hover:bg-blue-600/25"},{value:"purple",class:"bg-violet-600/15 border-violet-600/30 hover:bg-violet-600/25"},{value:"pink",class:"bg-fuchsia-500/15 border-fuchsia-500/30 hover:bg-fuchsia-500/25"},{value:"cyan",class:"bg-cyan-500/15 border-cyan-500/30 hover:bg-cyan-500/25"}].find(G=>G.value===B))==null?void 0:H.class)||"bg-card/20 border-white/5 hover:bg-card/40"},S=[{value:"red",bg:"bg-rose-500"},{value:"orange",bg:"bg-orange-500"},{value:"yellow",bg:"bg-amber-400"},{value:"green",bg:"bg-emerald-500"},{value:"blue",bg:"bg-blue-600"},{value:"purple",bg:"bg-violet-600"},{value:"pink",bg:"bg-fuchsia-500"},{value:"cyan",bg:"bg-cyan-500"}].filter(B=>B.value!=="green"),A=[{value:1,label:"1 Trimestre (Q1)"},{value:2,label:"2 Trimestre (Q2)"},{value:3,label:"3 Trimestre (Q3)"},{value:4,label:"4 Trimestre (Q4)"}],{data:E,isLoading:j}=$o({queryKey:["longTermGoals",c,t,r,i,o],queryFn:async()=>{let B=be.from("long_term_goals").select("*").eq("type",c).order("is_completed",{ascending:!0}).order("color",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!0});t!=="all"&&(B=B.eq("year",parseInt(t))),c==="quarterly"?B=B.eq("quarter",r):c==="monthly"?B=B.eq("month",i):c==="weekly"&&(B=B.eq("month",i).eq("week_number",o));const{data:U,error:H}=await B;if(H)throw H;return U},enabled:c!=="stats"}),T=wn({mutationFn:async({title:B,color:U})=>{const{data:{user:H}}=await be.auth.getUser();if(!H)throw new Error("Not authenticated");const G={user_id:H.id,title:B,type:c,year:t==="all"?new Date().getFullYear():parseInt(t),quarter:c==="quarterly"?r:null,month:c==="monthly"||c==="weekly"?i:null,week_number:c==="weekly"?o:null,is_completed:!1,color:U},{data:W,error:ve}=await be.from("long_term_goals").insert(G).select().single();if(ve)throw ve;return W},onSuccess:()=>{m(""),b(null),w.invalidateQueries({queryKey:["longTermGoals"]}),Ye.success("Obiettivo creato!")},onError:B=>{Ye.error(`Errore durante la creazione: ${B.message}`)}}),C=wn({mutationFn:async({id:B,is_completed:U})=>{const{error:H}=await be.from("long_term_goals").update({is_completed:U}).eq("id",B);if(H)throw H},onSuccess:()=>{w.invalidateQueries({queryKey:["longTermGoals"]})}}),k=wn({mutationFn:async({id:B,color:U})=>{const{error:H}=await be.from("long_term_goals").update({color:U}).eq("id",B);if(H)throw H},onSuccess:()=>{w.invalidateQueries({queryKey:["longTermGoals"]})},onError:()=>{Ye.error("Errore aggiornamento colore")}}),L=wn({mutationFn:async B=>{const{error:U}=await be.from("long_term_goals").delete().eq("id",B);if(U)throw U},onSuccess:()=>{w.invalidateQueries({queryKey:["longTermGoals"]}),Ye.success("Obiettivo eliminato")}}),R=B=>{B.preventDefault(),g.trim()&&T.mutate({title:g,color:v})},M=x.useRef(null),{exportBackup:$,importBackup:I,isExporting:F,isImporting:D}=Jfe(),K=()=>{var B;(B=M.current)==null||B.click()},X=async B=>{var G;const U=(G=B.target.files)==null?void 0:G[0];if(!U)return;const H=await I(U);H&&h(H),M.current&&(M.current.value="")},q=[{value:1,label:"Gennaio"},{value:2,label:"Febbraio"},{value:3,label:"Marzo"},{value:4,label:"Aprile"},{value:5,label:"Maggio"},{value:6,label:"Giugno"},{value:7,label:"Luglio"},{value:8,label:"Agosto"},{value:9,label:"Settembre"},{value:10,label:"Ottobre"},{value:11,label:"Novembre"},{value:12,label:"Dicembre"}],{data:V}=$o({queryKey:["longTermGoals","minYear"],queryFn:async()=>{const{data:B,error:U}=await be.from("long_term_goals").select("year").order("year",{ascending:!0}).limit(1).single();return U&&U.code!=="PGRST116"&&console.error("Error fetching min year:",U),(B==null?void 0:B.year)||2022}}),ee=V||2022,ie=new Date().getFullYear(),_e=Array.from({length:ie+5-ee+1},(B,U)=>ee+U);return p.jsxs("div",{className:"space-y-6 animate-fade-in p-2 md:p-0",children:[p.jsx(qu,{open:!!f,onOpenChange:B=>!B&&h(null),children:p.jsxs(bc,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[p.jsxs(wc,{children:[p.jsx(_c,{children:"Rapporto Importazione"}),p.jsx(Sc,{children:"Ecco il dettaglio delle modifiche apportate ai tuoi dati."})]}),p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[p.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:(f==null?void 0:f.restored.length)||0}),p.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Nuovi"})]}),p.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[p.jsx("span",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:(f==null?void 0:f.updated.length)||0}),p.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Modificati"})]}),p.jsxs("div",{className:"p-4 bg-slate-500/10 border border-slate-500/20 rounded-xl flex flex-col items-center justify-center text-center opacity-70",children:[p.jsx("span",{className:"text-3xl font-bold text-slate-600 dark:text-slate-400",children:(f==null?void 0:f.unchanged)||0}),p.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Invariati"})]})]}),(f==null?void 0:f.settingsUpdated)&&p.jsxs("div",{className:"flex items-center gap-3 text-sm text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 dark:text-yellow-400 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[p.jsx("span",{className:"flex h-2 w-2 rounded-full bg-yellow-500 animate-pulse"}),p.jsx("span",{children:"Le impostazioni delle categorie sono state aggiornate con successo."})]}),p.jsxs("div",{className:"space-y-6",children:[(f==null?void 0:f.restored)&&f.restored.length>0&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-green-600 dark:text-green-400",children:[p.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiunti / Ripristinati"]}),p.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-green-100 dark:border-green-900/30",children:Object.entries(f.restored.reduce((B,U)=>{const H=y(U.color||"default");return B[H]||(B[H]=[]),B[H].push(U),B},{})).map(([B,U])=>p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:B}),p.jsx("div",{className:"grid gap-2",children:U.map(H=>p.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[p.jsx("span",{className:"font-medium",children:H.title}),p.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[H.year,"  ",H.type]})]},H.id))})]},B))})]}),(f==null?void 0:f.updated)&&f.updated.length>0&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[p.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiornati"]}),p.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-amber-100 dark:border-amber-900/30",children:Object.entries(f.updated.reduce((B,U)=>{const H=y(U.color||"default");return B[H]||(B[H]=[]),B[H].push(U),B},{})).map(([B,U])=>p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:B}),p.jsx("div",{className:"grid gap-2",children:U.map(H=>p.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[p.jsx("span",{className:"font-medium",children:H.title}),p.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[H.year,"  ",H.type]})]},H.id))})]},B))})]})]})]}),p.jsx(xc,{children:p.jsx(Oc,{onClick:()=>h(null),children:"Chiudi Report"})})]})}),p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0",children:[p.jsxs(Hi,{value:t,onValueChange:B=>e(B),children:[p.jsx(Yn,{className:"w-[120px]",children:p.jsx(ec,{placeholder:"Anno"})}),p.jsxs(Xn,{children:[p.jsxs(Pr,{value:"all",className:"font-bold text-primary",children:["Dal ",ee]}),_e.map(B=>p.jsx(Pr,{value:B.toString(),className:J(B<ie&&"text-muted-foreground italic"),children:B},B))]})]}),c==="quarterly"&&p.jsxs(Hi,{value:r.toString(),onValueChange:B=>n(parseInt(B)),children:[p.jsx(Yn,{className:"w-[160px]",children:p.jsx(ec,{placeholder:"Trimestre"})}),p.jsx(Xn,{children:A.map(B=>p.jsx(Pr,{value:B.value.toString(),children:B.label},B.value))})]}),(c==="monthly"||c==="weekly")&&p.jsxs(Hi,{value:i.toString(),onValueChange:B=>{a(parseInt(B)),s(1)},children:[p.jsx(Yn,{className:"w-[130px]",children:p.jsx(ec,{placeholder:"Mese"})}),p.jsx(Xn,{children:q.map(B=>p.jsx(Pr,{value:B.value.toString(),className:J(t!=="all"&&parseInt(t)<ie||t===ie.toString()&&B.value<new Date().getMonth()+1&&"text-muted-foreground italic"),children:B.label},B.value))})]}),c==="weekly"&&p.jsxs(Hi,{value:o.toString(),onValueChange:B=>s(parseInt(B)),children:[p.jsx(Yn,{className:"w-[120px]",children:p.jsx(ec,{placeholder:"Settimana"})}),p.jsx(Xn,{children:Array.from({length:CF(new Date(t==="all"?ie:parseInt(t),i-1,1),{weekStartsOn:1})},(B,U)=>U+1).map(B=>p.jsxs(Pr,{value:B.toString(),className:J(t!=="all"&&parseInt(t)<ie||t===ie.toString()&&i<new Date().getMonth()+1&&"text-muted-foreground italic"),children:["Settimana ",B]},B))})]})]}),p.jsxs("div",{className:"flex bg-secondary/50 p-1 rounded-lg gap-1 overflow-x-auto w-full md:w-auto",children:[p.jsx(Ze,{variant:c==="annual"?"default":"outline",onClick:()=>l("annual"),className:"whitespace-nowrap",children:"Annuale"}),p.jsx(Ze,{variant:c==="quarterly"?"default":"outline",onClick:()=>l("quarterly"),className:"whitespace-nowrap",children:"Trimestrale"}),p.jsx(Ze,{variant:c==="monthly"?"default":"outline",onClick:()=>l("monthly"),className:"whitespace-nowrap",children:"Mensile"}),p.jsx(Ze,{variant:c==="weekly"?"default":"outline",onClick:()=>l("weekly"),className:"whitespace-nowrap",children:"Settimanale"}),p.jsxs(Ze,{variant:c==="stats"?"default":"outline",onClick:()=>l("stats"),className:"whitespace-nowrap gap-2",children:[p.jsx(L1,{className:"w-4 h-4"}),"Statistiche"]})]}),p.jsxs("div",{className:"flex gap-2 flex-wrap sm:flex-nowrap",children:[p.jsxs(qu,{children:[p.jsx(oy,{asChild:!0,children:p.jsx(Ze,{variant:"outline",size:"icon",title:"Esporta Backup (JSON)",children:p.jsx(W1,{className:"w-4 h-4"})})}),p.jsxs(bc,{className:"sm:max-w-md",children:[p.jsxs(wc,{children:[p.jsx(_c,{children:"Backup Obiettivi"}),p.jsx(Sc,{children:"Crea un backup dei tuoi obiettivi e impostazioni. I file sono in formato JSON."})]}),p.jsx("div",{className:"py-4",children:p.jsxs(pN,{value:u,onValueChange:B=>d(B),children:[p.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>d("all"),children:[p.jsx(ig,{value:"all",id:"r1"}),p.jsxs(Mo,{htmlFor:"r1",className:"cursor-pointer flex-1",children:[p.jsx("div",{className:"font-medium",children:"Esporta Tutto"}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"Tutti gli anni, mesi e impostazioni"})]})]}),p.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>d("year"),children:[p.jsx(ig,{value:"year",id:"r2"}),p.jsxs(Mo,{htmlFor:"r2",className:"cursor-pointer flex-1",children:[p.jsxs("div",{className:"font-medium",children:["Solo ",t==="all"?ie:t]}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"Solo obiettivi di questo anno e impostazioni"})]})]})]})}),p.jsxs(xc,{children:[p.jsx(kf,{children:"Annulla"}),p.jsxs(Oc,{onClick:()=>$({scope:u,year:t==="all"?ie:parseInt(t)}),disabled:F,children:[F?p.jsx(Za,{className:"w-4 h-4 animate-spin mr-2"}):null,"Scarica Backup"]})]})]})]}),p.jsx(Ze,{variant:"outline",size:"icon",title:"Ripristina da Backup (JSON)",onClick:K,disabled:D,children:D?p.jsx(Za,{className:"w-4 h-4 animate-spin"}):p.jsx(GR,{className:"w-4 h-4"})}),p.jsx("input",{type:"file",ref:M,onChange:X,accept:".json",className:"hidden"}),p.jsx(Qfe,{})]})]}),p.jsx("div",{className:J("text-2xl font-bold tracking-tight text-white flex items-center gap-3 transition-all duration-300",O&&c!=="stats"&&"blur-sm"),children:c==="stats"?p.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400",children:["Analytics ",t==="all"?`Dal ${ee} al ${ie}`:t]}):p.jsxs(p.Fragment,{children:[c==="annual"&&p.jsx("span",{className:"text-primary",children:t==="all"?"Tutti gli anni":t}),c==="quarterly"&&p.jsxs("span",{className:"text-amber-500",children:["Q",r," ",t!=="all"&&t]}),c==="monthly"&&p.jsx("span",{className:"text-blue-400",children:(Q=q.find(B=>B.value===i))==null?void 0:Q.label}),c==="weekly"&&p.jsxs("span",{className:"text-purple-400",children:["Settimana ",o]}),p.jsx("span",{className:"text-muted-foreground text-lg font-normal",children:c==="annual"?"Obiettivi Annuali":c==="quarterly"?"Obiettivi Trimestrali":c==="monthly"?"Obiettivi Mensili":"Obiettivi Settimanali"})]})}),c==="stats"?p.jsx(Yfe,{year:t}):p.jsxs("div",{className:J("transition-all duration-300",O&&"blur-sm"),children:[p.jsxs("form",{onSubmit:R,className:"flex gap-2",children:[p.jsx(Io,{className:"flex-1 bg-background/50",placeholder:`Aggiungi obiettivo ${c==="annual"?"annuale":c==="quarterly"?"trimestrale":c==="monthly"?"mensile":"settimanale"}...`,value:g,onChange:B=>m(B.target.value)}),p.jsxs(Hi,{value:v||"null",onValueChange:B=>b(B==="null"?null:B),children:[p.jsx(Yn,{className:"w-[50px] px-2 bg-background/50 border-input",children:p.jsx("div",{className:"flex items-center justify-center w-full",children:p.jsx("div",{className:J("w-4 h-4 rounded-full",{"bg-muted border border-foreground/20":!v,"bg-rose-500":v==="red","bg-orange-500":v==="orange","bg-amber-400":v==="yellow","bg-blue-600":v==="blue","bg-violet-600":v==="purple","bg-fuchsia-500":v==="pink","bg-cyan-500":v==="cyan"})})})}),p.jsxs(Xn,{align:"end",children:[p.jsx(Pr,{value:"null",children:"Nessun Colore"}),S.map(B=>p.jsx(Pr,{value:B.value,children:y(B.value)},B.value))]})]}),p.jsx(Ze,{type:"submit",disabled:T.isPending,children:T.isPending?p.jsx(Za,{className:"w-4 h-4 animate-spin"}):p.jsx($p,{className:"w-4 h-4"})})]}),p.jsx("div",{className:"space-y-2 mt-2",children:j?p.jsx("div",{className:"flex justify-center p-8 text-muted-foreground",children:p.jsx(Za,{className:"w-6 h-6 animate-spin"})}):(E==null?void 0:E.length)===0?p.jsx("div",{className:"text-center p-8 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:"Nessun obiettivo impostato per questo periodo."}):E==null?void 0:E.map((B,U)=>{const H=B.is_completed&&(U===0||!E[U-1].is_completed);return p.jsxs("div",{children:[H&&U>0&&p.jsxs("div",{className:"flex items-center gap-4 py-6",children:[p.jsx("div",{className:"h-px bg-white/10 flex-1"}),p.jsx("span",{className:"text-xs font-medium text-white/40 uppercase tracking-widest",children:"Completati"}),p.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),p.jsxs("div",{className:J("group flex items-center gap-3 p-4 rounded-xl border transition-all",B.is_completed?"opacity-60 bg-green-500/5 border-green-500/10":_(B.color)),children:[p.jsx(Z$,{checked:B.is_completed,onCheckedChange:G=>C.mutate({id:B.id,is_completed:G}),className:"w-5 h-5 border-white/20 data-[state=checked]:bg-green-500 data-[state=checked]:border-green-500"}),p.jsx("span",{className:J("flex-1 font-medium transition-all",B.is_completed&&"line-through text-muted-foreground"),children:B.title}),p.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsxs(Hi,{value:B.color||"null",onValueChange:G=>k.mutate({id:B.id,color:G==="null"?null:G}),children:[p.jsx(Yn,{className:"w-[30px] h-[30px] p-0 border-0 bg-transparent focus:ring-0",children:p.jsx("div",{className:J("w-4 h-4 rounded-full",{"bg-white/20":!B.color,"bg-rose-500":B.color==="red","bg-orange-500":B.color==="orange","bg-amber-400":B.color==="yellow","bg-blue-600":B.color==="blue","bg-violet-600":B.color==="purple","bg-fuchsia-500":B.color==="pink","bg-cyan-500":B.color==="cyan"})})}),p.jsxs(Xn,{align:"end",children:[p.jsx(Pr,{value:"null",children:"Nessun Colore"}),S.map(G=>p.jsx(Pr,{value:G.value,children:y(G.value)},G.value))]})]}),p.jsx(Ze,{variant:"ghost",size:"icon",className:"text-destructive hover:bg-destructive/10 hover:text-destructive h-8 w-8",onClick:()=>L.mutate(B.id),children:p.jsx(dg,{className:"w-4 h-4"})})]})]})]},B.id)})})]})]})}const uhe=()=>p.jsxs("div",{className:"flex-1 min-h-dvh flex flex-col pt-8 pb-12 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[1200px] mx-auto",children:[p.jsx("div",{className:"fixed top-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-500/5 blur-[120px] rounded-full pointer-events-none -z-10"}),p.jsx("div",{className:"mb-8 flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Macro Obiettivi"}),p.jsx("p",{className:"text-muted-foreground",children:"Pianificazione a lungo termine."})]})}),p.jsx("div",{className:"glass-panel p-6 rounded-2xl min-h-[600px]",children:p.jsx(lhe,{})})]}),dhe=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(""),[i,a]=x.useState(""),[o,s]=x.useState(!1),c=PN();x.useEffect(()=>{be.auth.getSession().then(({data:{session:u}})=>{u&&c("/")})},[c]);const l=async u=>{u.preventDefault(),e(!0);try{if(o){Ye.error("Non sei autorizzato, prova scrivi su linkedin a mattioli simone");return}else{const{error:d}=await be.auth.signInWithPassword({email:r,password:i});if(d)throw d;Ye.success("Accesso effettuato"),c("/")}}catch(d){Ye.error(d.message)}finally{e(!1)}};return p.jsxs("div",{className:"min-h-dvh flex items-center justify-center p-4 relative overflow-hidden bg-background",children:[p.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/20 blur-[100px] rounded-full opacity-50 animate-pulse"}),p.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-secondary/10 blur-[80px] rounded-full"})]}),p.jsxs("div",{className:"glass-panel w-full max-w-md p-8 rounded-3xl relative z-10 border-white/10 shadow-2xl animate-scale-in",children:[p.jsxs("div",{className:"text-center mb-8 space-y-2",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10 border border-primary/20 mb-4 shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:p.jsx(VR,{className:"w-6 h-6 text-primary"})}),p.jsx("h1",{className:"text-3xl font-display font-bold tracking-tight bg-gradient-to-br from-white to-white/60 bg-clip-text text-transparent",children:"Mattioli.OS"}),p.jsx("p",{className:"text-sm text-muted-foreground font-light",children:"Sistema di tracciamento abitudini personale"})]}),p.jsxs("form",{onSubmit:l,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"relative group",children:[p.jsx(UR,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),p.jsx(Io,{type:"email",placeholder:"Email",value:r,onChange:u=>n(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]}),p.jsxs("div",{className:"relative group",children:[p.jsx(FR,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),p.jsx(Io,{type:"password",placeholder:"Password",value:i,onChange:u=>a(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]})]}),p.jsx(Ze,{type:"submit",className:"w-full h-11 text-base font-medium mt-6 bg-primary hover:bg-primary/90 text-primary-foreground shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_25px_rgba(255,255,255,0.2)] transition-all duration-300",disabled:t,children:t?p.jsx(Za,{className:"w-5 h-5 animate-spin"}):p.jsxs("span",{className:"flex items-center gap-2",children:[o?"Registrati":"Accedi al Sistema",p.jsx(jR,{className:"w-4 h-4"})]})})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:()=>s(!o),className:"text-xs text-muted-foreground hover:text-primary transition-colors hover:underline underline-offset-4",children:o?"Hai gi un account? Accedi":"Prima volta? Inizializza Protocollo (Registrati)"})})]})]})},fhe=()=>{const t=jN();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},hhe=new ND,phe=({children:t})=>{const[e,r]=x.useState(null);return x.useEffect(()=>{be.auth.getSession().then(({data:{session:i}})=>{r(!!i)});const{data:{subscription:n}}=be.auth.onAuthStateChange((i,a)=>{r(!!a)});return()=>n.unsubscribe()},[]),e===null?null:e?p.jsx(p.Fragment,{children:t}):p.jsx(kN,{to:"/auth",replace:!0})},mhe=()=>p.jsx(LD,{client:hhe,children:p.jsx(IF,{children:p.jsxs(vD,{children:[p.jsx(ZR,{}),p.jsx(kI,{}),p.jsx(TN,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:p.jsxs(CN,{children:[p.jsx(La,{path:"/auth",element:p.jsx(dhe,{})}),p.jsxs(La,{element:p.jsx(phe,{children:p.jsx(JD,{})}),children:[p.jsx(La,{path:"/",element:p.jsx(n4,{})}),p.jsx(La,{path:"/stats",element:p.jsx(zfe,{})}),p.jsx(La,{path:"/macro-goals",element:p.jsx(uhe,{})})]}),p.jsx(La,{path:"*",element:p.jsx(fhe,{})})]})})]})})});try{const t=document.getElementById("root");if(!t)throw new Error("Root element not found");d1(t).render(p.jsx(mhe,{}))}catch(t){console.error("Error in main.tsx:",t)}
